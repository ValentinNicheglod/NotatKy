(this.webpackJsonpnotatky=this.webpackJsonpnotatky||[]).push([[0],{178:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},381:function(e,t){},383:function(e,t){},394:function(e,t){},396:function(e,t){},421:function(e,t){},423:function(e,t){},424:function(e,t){},429:function(e,t){},431:function(e,t){},437:function(e,t){},439:function(e,t){},458:function(e,t){},470:function(e,t){},473:function(e,t){},478:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(21),s=n.n(c),l=n(15),i=n.n(l),o=n(22),r=n(40),d=n(27),j=(n(222),n(13)),b=n(4),u=n(8),m=n(568),h=n(571),O=n(482),p=n(485),x=n(567),g=n(114),f=n.n(g),N=n(57),v=n.n(N),w=n(80),y=n.n(w),C=n(84),k=n.n(C),E=(n(178),n(0)),S=function(){return Object(E.jsx)("div",{className:"main-logo",children:Object(E.jsxs)("h1",{className:"login-title unselectable h-100",id:"white-col",children:[Object(E.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",className:"logo-nav",draggable:"false"}),"NotatKy"]})})},I=n(203),D=n(289),T=n(42),A=Object(T.a)(),M="GET_ALL_COLLECTIONS",_="GET_ONE_COLLECTION",F="CREATE_COLLECTION",P="UPDATE_COLLECTION",R="DELETE_COLLECTION",L="ADD_NOTE_TAG",z="CHANGE_NOTE_STATE",q="CREATE_NOTE",G="DELETE_NOTE",Y="DELETE_NOTE_TAG",U="GET_ALL_NOTES",W="GET_ONE_NOTE",B="UPDATE_NOTE",K="DARK_MODE",V="GET_ALL_TAGS",H="GET_ONE_TAG",$="CREATE_TAG",J="UPDATE_TAG",X="DELETE_TAG",Q="GET_ALL_MAILS",Z="GET_ALL_USERS",ee="GET_ONE_USER",te="CREATE_USER",ne="GUEST_USER",ae="RESET_PASSWORD",ce="UPDATE_USER",se="LOGOUT",le="LOGIN",ie=function(){return function(){var e=Object(D.a)(Object(I.a)().mark((function e(t){return Object(I.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.delete("/guest/deleteAditionalData");case 3:s.a.put("/guest/chargeData").then((function(e){t({type:ne,message:e.data,response:e.status})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(e){return function(t){try{s.a.get("/user/".concat(e)).then((function(e){return t({type:ee,user:e.data,token:sessionStorage.getItem("token")||localStorage.getItem("token")})}))}catch(n){console.log(n)}}},re=function(e){return function(t){try{s.a.put("/user/".concat(e.id),{data:e}).then((function(e){t({type:ce,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},de=function(e){return function(t){try{s.a.put("/user/password/".concat(e.id),{data:e}).then((function(e){t({type:ce,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},je=function(e,t){return function(n){try{s.a.post("/auth/login",e).then((function(e){n({type:le,token:e.data.token}),t?(localStorage.setItem("token",e.data.token),localStorage.setItem("id",e.data.user.id)):(sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("id",e.data.user.id)),A.push("/NotatKy/#/home"),location.reload()}))}catch(a){console.log(a)}}},be=function(e){return function(t){try{localStorage.setItem("darkMode",e),t({type:K,darkMode:e})}catch(n){console.log(n)}}},ue=function(){var e=Object(d.f)(),t=sessionStorage.getItem("token")||localStorage.getItem("token"),n=window.screen.width>600,c=window.screen.width>350,s=Object(o.b)(),l=Object(a.useState)(!1),i=Object(u.a)(l,2),g=i[0],N=i[1],w=Object(a.useState)({open:!1,message:""}),C=Object(u.a)(w,2),I=C[0],D=C[1],T=Object(a.useState)({email:"",password:""}),A=Object(u.a)(T,2),M=A[0],_=A[1];Object(a.useEffect)((function(){t&&e.push("/home")}));var F=function(e){_(Object(b.a)(Object(b.a)({},M),{},Object(j.a)({},e.target.name,e.target.value)))},P=function(e,n){e.preventDefault(),N(!1),D({open:!0,message:"Cargando..."}),""!==M.email&&""!==M.password||D({open:!0,message:"Completa todos los campos"}),/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(M.email)?("admin@admin.com"===M.email&&s(ie()),s(je(M,n)),setTimeout((function(){t||D({open:!0,message:"Los datos ingresados no son correctos"})}),4e3)):D({open:!0,message:"Ingrese un correo v\xe1lido"})},R=Object(E.jsx)("div",{className:n?"modal-col w-50":"modal-col w-100 h-100",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:n?"\xbfRECORDAR INFORMACI\xd3N DE SESI\xd3N?":"RECORDAR DATOS"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/save-data.svg",width:n?"60%":"100%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Para tu comodidad, no te solicitaremos los datos al ingresar nuevamente."})}),Object(E.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100",children:[Object(E.jsx)(x.a,{color:"green",className:n?"textfield button my-2 w-25":"textfield button my-2 w-50",id:"login-submit",onClick:function(e){return P(e,!0)},type:"button",children:"S\xcd"}),Object(E.jsx)(x.a,{color:"red",className:n?"textfield button my-2 w-25":"textfield button my-2 w-50",id:"login-submit",onClick:function(e){return P(e,!1)},type:"button",children:"NO"})]})]})});return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[n&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"card-round card d-flex justify-content-between",children:[Object(E.jsxs)("form",{className:"all-center row",children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"INICIO DE SESI\xd3N"}),Object(E.jsx)("hr",{className:"bs-gutter"}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/login.svg",width:"90%",alt:"",className:"mb-2 img-card pe",draggable:"false"})}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{className:"textfield",InputProps:{autoComplete:"email"},label:"Correo electr\xf3nico",name:"email",onChange:F,autoComplete:"email",value:M.email})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",InputProps:{autoComplete:"current-password"},label:"Contrase\xf1a",name:"password",value:M.password,onChange:F,type:"password"})]}),Object(E.jsx)(x.a,{color:"purple",disabled:0===M.email.length||0===M.password.length,className:"total-width button my-2",id:"login-submit",type:"button",onClick:function(){return N(!0)},children:"INICIAR SESI\xd3N"})]}),Object(E.jsxs)("div",{className:"login-sign-up mt-3 row bs-gutter",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"login-p line-aside line-aside-bl",children:"\xbfNo tienes una cuenta?"})}),Object(E.jsx)(r.b,{to:"/sign-up",className:c?"sign-up-btn ui btn mt-3":"d-flex justify-content-center login-p mt-3",children:"REGISTRATE"}),Object(E.jsx)("hr",{className:"mt-4 mb-3 hr-pad"}),Object(E.jsx)(r.b,{to:"/reset-password",className:"d-flex justify-content-center login-p",children:"\xbfOlvidaste tu contrase\xf1a?"})]})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:I.open,autoHideDuration:5e3,onClose:function(){return D(!1)},message:I.message,action:"Cargando..."===I.message?Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})}):Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return D(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})}),Object(E.jsx)(p.a,{open:g,onClose:function(){return N(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:R})]})},me=n(58),he=n(572),Oe=n(537),pe=n(570),xe=function(){var e=Object(o.b)(),t=Object(a.useState)({open:null,message:null}),n=Object(u.a)(t,2),c=n[0],l=n[1],i=Object(a.useState)({new1:"",new2:""}),r=Object(u.a)(i,2),d=r[0],j=r[1],p=Object(a.useState)({new1:!1,new2:!1}),g=Object(u.a)(p,2),N=g[0],w=g[1],C=Object(a.useState)(""),I=Object(u.a)(C,2),D=I[0],T=I[1],A=Object(a.useState)(1),M=Object(u.a)(A,2),_=M[0],F=M[1],P=Object(a.useState)(Object(me.a)(Array(6)).map((function(){return""}))),R=Object(u.a)(P,2),L=R[0],z=R[1],q=Object(a.useState)(!1),G=Object(u.a)(q,2),Y=G[0],U=G[1],W=Object(a.useRef)([]),B=window.screen.width>600,K=window.screen.width<350,V=Object(o.c)((function(e){return e.users}));Object(a.useEffect)((function(){"verified"===V.code?(l({message:null,open:!1}),F(3)):V.code&&null!==V.code&&6===V.code.length&&(l({message:null,open:!1}),F(2))}),[V.code]);var H=function(e){1===e&&(d.new1.length<6?w(Object(b.a)(Object(b.a)({},N),{},{new1:!0})):w(Object(b.a)(Object(b.a)({},N),{},{new1:!1}))),2===e&&(d.new1!==d.new2?w(Object(b.a)(Object(b.a)({},N),{},{new2:!0})):w(Object(b.a)(Object(b.a)({},N),{},{new2:!1})))};return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[B&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"d-flex full-height justify-content-center align-items-end row p-0",children:[Object(E.jsxs)("div",{className:"reset-pw card card-round d-flex justify-content-between",children:[Object(E.jsxs)("form",{children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"RESTABLECER CONTRASE\xd1A"}),Object(E.jsx)("hr",{}),1===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/forgot_password.svg",width:"90%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("b",{className:"all-center mb-3",children:"\xbfNo recuerdas tu contrase\xf1a?"}),Object(E.jsx)("p",{className:"login-p",children:"Te enviaremos un correo electr\xf3nico para que puedas reestablecerla..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{className:"textfield",label:"Correo electr\xf3nico",onChange:function(e){T(e.target.value)}})]}),Object(E.jsx)(x.a,{color:"purple",className:"total-width button mt-3",id:"login-submit",onClick:function(t){t.preventDefault(),l({message:"Cargando...",open:!0}),"admin@admin.com"===D?l({message:"No se puede cambiar la contrase\xf1a de esta cuenta",open:!0}):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(D)?e(function(e){return function(t){try{s.a.post("/user/reset-password/".concat(e)).then((function(e){t({type:ae,code:e.data.code||null,message:e.data.message,response:e.status,user:e.data.user||{}})}))}catch(n){console.log(n)}}}(D)):l({message:"Ingrese un correo v\xe1lido",open:!0})},children:"ENVIAR"})]}),2===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/mail-sent.svg",width:"80%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("b",{className:"all-center mb-3",children:"\xa1Revisa tu correo!"}),Object(E.jsx)("p",{className:"login-p",children:"Introduce el c\xf3digo de verificaci\xf3n que hemos enviado a tu correo electr\xf3nico..."}),Object(E.jsx)("div",{className:"code-inputs",children:L.map((function(e,t){return Object(E.jsx)("input",{type:"text",autoComplete:"new-password",inputMode:"numeric",maxLength:1,value:e,autoFocus:!L[0].length&&0===t,readOnly:Y,onChange:function(e){return function(e,t){var n=e.target.value;if(!/[^0-9]/.test(n)){var a=Object(me.a)(L);a[t]=n,z(a),5!==t&&W.current[t+1].focus(),a.every((function(e){return""!==e}))&&(U(!0),setTimeout((function(){return U(!1)}),5e3))}}(e,t)},onKeyUp:function(e){return function(e,t){if(8===e.keyCode&&!L[t]&&0!==t){var n=Object(me.a)(L);n[t-1]="",z(n),W.current[t-1].focus()}}(e,t)},ref:function(e){return W.current.push(e)}},t)}))}),Object(E.jsx)(x.a,{color:"purple",className:"total-width button mt-3",id:"login-submit",onClick:function(e){e.preventDefault(),0===L.length?l({message:"Ingrese el c\xf3digo de verificaci\xf3n",open:!0}):L.join("")===V.code?(l({message:"C\xf3digo de verificaci\xf3n correcto",open:!0}),setTimeout((function(){F(_+1)}),1e3)):l({message:"C\xf3digo de verificaci\xf3n incorrecto",open:!0})},value:D,children:"VERIFICAR"})]}),3===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/password.svg",width:"100%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("p",{className:"login-p",children:"Introduce una nueva contrase\xf1a..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:N.new1,helperText:N.new1&&"La contrase\xf1a debe tener al menos seis caracteres",label:"Contrase\xf1a nueva",onBlur:function(){return H(1)},onChange:function(e){return j(Object(b.a)(Object(b.a)({},d),{},{new1:e.target.value}))},type:"password",value:d.new1})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:N.new2,helperText:N.new2&&"Las contrase\xf1as no coinciden",label:"Repetir contrase\xf1a",onBlur:function(){return H(2)},onChange:function(e){return j(Object(b.a)(Object(b.a)({},d),{},{new2:e.target.value}))},type:"password",value:d.new2})]}),Object(E.jsx)(x.a,{color:"purple",className:"total-width button mt-3",disabled:N.new1||N.new2,id:"login-submit",onClick:function(t){t.preventDefault(),d.new1&&d.new2?(e(de(Object(b.a)(Object(b.a)({},V.user),{},{password:d.new1}))),l({open:!0,message:"Contrase\xf1a actualizada"}),j({new1:"",new2:""})):l({open:!0,message:"Complete los campos requeridos"})},children:"ACTUALIZAR"})]})]}),!B&&!K&&Object(E.jsx)("div",{className:"d-flex all-center w-100",children:Object(E.jsx)(he.a,{activeStep:_-1,alternativeLabel:!0,className:"w-100",children:["Correo","Verificaci\xf3n","Contrase\xf1a"].map((function(e){return Object(E.jsx)(Oe.a,{children:Object(E.jsx)(pe.a,{children:e})},e)}))})})]}),B&&Object(E.jsx)("div",{className:"d-flex all-center stepper-pw",children:Object(E.jsx)(he.a,{activeStep:_-1,alternativeLabel:!0,className:"w-50",children:["Ingresa tu correo","Ingresa el c\xf3digo de verificaci\xf3n","Cambia tu contrase\xf1a"].map((function(e){return Object(E.jsx)(Oe.a,{children:Object(E.jsx)(pe.a,{children:e})},e)}))})})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c.open,autoHideDuration:"Cargando..."===c.message?1e4:5e3,onClose:function(){return l(!1)},message:c.message,action:"Cargando..."===c.message?Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})}):Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return l(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})})]})},ge=n(538),fe=n(294),Ne=n(297),ve=n.n(Ne),we=n(296),ye=n.n(we),Ce=function(){var e=window.screen.width>600,t=Object(o.c)((function(e){return e.users})),n=Object(d.f)(),c=Object(o.b)(),l=sessionStorage.getItem("token")||localStorage.getItem("token"),i=Object(a.useState)(!1),r=Object(u.a)(i,2),g=r[0],N=r[1],w=Object(a.useState)(!1),y=Object(u.a)(w,2),C=y[0],I=y[1],D=Object(a.useState)({name:"",lastname:"",email:"",password:"",confirmPassword:""}),T=Object(u.a)(D,2),A=T[0],M=T[1],_=Object(a.useState)({email:!1,password:!1,confirmPassword:!1,duplicatedEmail:""}),F=Object(u.a)(_,2),P=F[0],R=F[1];Object(a.useEffect)((function(){null!==l&&n.push("/home")})),Object(a.useEffect)((function(){c((function(e){try{s.a.get("/user/mails").then((function(t){var n=t.data.map((function(e){return e.email}));e({type:Q,users:n})}))}catch(t){console.log(t)}}))}),[c]),Object(a.useEffect)((function(){A.name&&(I(!0),N(!1))}),[t.user]);var L=function(e){M(Object(b.a)(Object(b.a)({},A),{},Object(j.a)({},e.target.name,e.target.value))),"password"===e.target.name&&(e.target.value.length>=6?R(Object(b.a)(Object(b.a)({},P),{},{password:!1})):R(Object(b.a)(Object(b.a)({},P),{},{password:!0}))),"confirmPassword"!==e.target.name||P.password||(e.target.value===A.password?R(Object(b.a)(Object(b.a)({},P),{},{confirmPassword:!1})):R(Object(b.a)(Object(b.a)({},P),{},{confirmPassword:!0})))},z=Object(E.jsxs)(E.Fragment,{children:[201===parseInt(t.response,10)&&Object(E.jsx)(fe.a,{className:"w-100 h-100",recycle:!1}),Object(E.jsx)("div",{className:e?"modal-col w-50":"modal-col w-100 h-100",children:201===parseInt(t.response,10)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:"\xa1FELICIDADES!"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/celebration.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Tu cuenta ha sido creada exitosamente"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Bienvenido a NotatKy"})}),Object(E.jsx)("div",{className:"my-3 all-center",children:Object(E.jsx)(x.a,{color:"purple",className:"textfield button my-2 w-75",id:"login-submit",onClick:function(){return n.push("/login")},type:"button",children:"INICIA SESI\xd3N"})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center",children:"HA OCURRIDO UN ERROR"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/error.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Ocurri\xf3 un error al intentar crear tu cuenta"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Por favor, intentalo mas tarde"})})]})})]});return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[e&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"card-round card d-flex justify-content-between sign-up",children:[Object(E.jsxs)("form",{className:"all-center row h-100",children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"CREAR USUARIO"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/sign-up.svg",width:"90%",alt:"",className:"mb-2 img-card",draggable:"false"})}),Object(E.jsx)("p",{className:"login-p",children:"Completa el formulario con tus datos..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(ye.a,{}),Object(E.jsx)(m.a,{className:"textfield name",InputProps:{autoComplete:"given-name",spellCheck:!1},label:"Nombre",name:"name",onChange:L,value:A.name}),Object(E.jsx)(m.a,{className:"textfield name",InputProps:{autoComplete:"family-name",spellCheck:!1},label:"Apellido",name:"lastname",onChange:L,value:A.lastname})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:P.email||P.duplicatedEmail,helperText:""!==P.duplicatedEmail&&A.email.length>5&&(P.email?"Ingrese un correo v\xe1lido":P.duplicatedEmail?"Este correo electr\xf3nico pertenece a otra cuenta":"Este correo electr\xf3nico se encuentra disponible"),label:"Correo electr\xf3nico",name:"email",onChange:L,onBlur:function(){A.email.length>0&&(/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(A.email)?R(Object(b.a)(Object(b.a)({},P),{},{duplicatedEmail:t.users[0]&&t.users.includes(A.email),email:!1})):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(A.email)||R(Object(b.a)(Object(b.a)({},P),{},{email:!0})))},value:A.email,FormHelperTextProps:{className:!P.email&&!1===P.duplicatedEmail&&"green-label"},InputProps:{autoComplete:"email",endAdornment:Object(E.jsx)(ge.a,{"aria-describedby":"popr",id:"input-ador",position:"end",children:!P.email&&""!==P.duplicatedEmail&&(P.duplicatedEmail?Object(E.jsx)(v.a,{style:{color:"red"}}):Object(E.jsx)(ve.a,{style:{color:"green"}}))})}})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:P.password,helperText:P.password&&"La contrase\xf1a debe tener al menos seis caracteres",InputProps:{autoComplete:"new-password"},label:"Contrase\xf1a",name:"password",onChange:L,type:"password",value:A.password.one})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4 field",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:P.confirmPassword,helperText:P.confirmPassword&&"Las contrase\xf1as no co\xednciden",InputProps:{autoComplete:"new-password"},type:"password",label:"Repite la contrase\xf1a",name:"confirmPassword",onChange:L,value:A.password.two})]})]}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)(x.a,{color:"purple",className:"textfield button my-2",disabled:P.email||P.password||P.confirmPassword||P.duplicatedEmail,id:"login-submit",onClick:function(e){e.preventDefault(),""===A.name||""===A.lastname||""===A.email||""===A.password||""===A.confirmPassword?N(1):(c(function(e){return function(t){try{s.a.post("/auth/register",{data:e}).then((function(e){return t({type:te,user:e.data,response:e.status})}))}catch(n){console.log(n)}}}(A)),N(2))},type:"submit",children:"REGISTRARSE"})})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:5e3,onClose:function(){return N(!1)},message:1===g?"Completa todos los campos":"Cargando...",action:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return N(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})}),Object(E.jsx)(p.a,{open:C,onClose:function(){return I(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:z})]})},ke=n(126),Ee=(n(372),function(e){e.color;var t=e.description,n=e.image,a=e.largeWidth,c=e.title,s=Object(d.f)();return Object(E.jsxs)("div",{className:"card-info scale-lg",children:[Object(E.jsx)("div",{className:"h-50 all-center",children:Object(E.jsx)("img",{src:n,alt:"icon",className:"card-img-top h-100"})}),Object(E.jsxs)("div",{className:"card-body",children:[Object(E.jsx)("h3",{className:"card-title",children:c}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{className:"card-text",children:t}),a&&Object(E.jsxs)("button",{className:"card-btn",onClick:function(){return s.push("/login")},type:"button",children:["Empieza \xa0\xa0",Object(E.jsx)(ke.a,{name:"long arrow alternate right"})]})]})]})}),Se=(n(373),[{title:"Lo importante en un solo lugar",description:"Sabemos que puedes necesitar tus notas o tareas en cualquier momento o lugar, con NotatKy tendr\xe1s acceso a ellas desde donde quieras.",color:"#e76f51",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-1.svg"},{title:"Aumenta tu productividad",description:"NotatKy te permite tomar notas de una forma muy sencilla, por lo tanto, confiamos en que tu productividad en el d\xeda a d\xeda aumentar\xe1.",color:"#e9c46a",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-2.svg"},{title:"Sincroniza todos tus dispositivos",description:"Ya sea que estes en la sala de tu casa o en la computadora de tu oficina, tus notas se sincronizar\xe1n en todos tus dispositivos.",color:"#2a9d8f",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-3.svg"}]),Ie=function(){var e=Object(d.f)(),t=Object(o.b)(),n=sessionStorage.getItem("token")||localStorage.getItem("token"),c=Object(a.useState)(!1),s=Object(u.a)(c,2),l=s[0],i=s[1],j=Object(a.useState)(!1),b=Object(u.a)(j,2),m=b[0],g=b[1];Object(a.useEffect)((function(){n&&(e.push("/home"),location.reload())})),Object(a.useEffect)((function(){return function(){i(!1)}}),[]);var f=window.screen.width>600,N=window.screen.width<350,v=function(e){e.preventDefault(),i(!0),t(ie()),setTimeout((function(){t(je({email:"admin@admin.com",password:"aDmIn123"},!1))}),2e3)},w=Object(E.jsx)("div",{className:f?"modal-col w-50 guest-mode":"modal-col w-100 h-100",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:"MODO INVITADO"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"row w-100",children:[Object(E.jsxs)("div",{className:"w-50",children:[Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(E.jsx)("div",{className:"px-2",children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(E.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(E.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(E.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(E.jsx)("div",{className:"w-100 my-2",children:Object(E.jsxs)("p",{children:["Puedes optar por continuar o\xa0",Object(E.jsx)("a",{href:"https://valentinnicheglod.github.io/NotatKy/#/sign-up",style:{texDecoration:"underline"},children:"crearte una cuenta"}),"\xa0para disfrutar de todas las funcionalidades..."]})}),Object(E.jsx)("div",{className:"my-3 d-flex justify-content-center w-100",children:Object(E.jsx)(x.a,{color:"purple",className:f?"textfield button my-2 w-100":"textfield button my-2 w-50",id:"login-submit",onClick:v,type:"button",children:"Continuar como invitado"})})]}),Object(E.jsx)("div",{className:"w-50 all-center",children:Object(E.jsx)("img",{src:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/terms.svg",width:"100%",alt:"",className:"mb-2",draggable:"false"})})]})]})});return Object(E.jsxs)("div",{className:f?"login-bg full-height row":"login-bg row overflow-hidden",children:[f?Object(E.jsxs)("div",{className:"inicio-nav row d-flex align-items-center",children:[Object(E.jsx)("div",{className:"col-md-4 logo-cont pl-2",children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{className:"col-md-3"}),Object(E.jsxs)("div",{className:"col-md-5 inicio-options",children:[Object(E.jsxs)("div",{className:"d-inline",children:[Object(E.jsx)(r.b,{to:"/login",className:"inicio-link",children:"INICIAR SESI\xd3N"}),Object(E.jsx)("p",{className:"inicio-link2",children:"|"}),Object(E.jsx)(r.b,{to:"/sign-up",className:"inicio-link",children:"REGISTRARSE"})]}),Object(E.jsx)("div",{className:"d-inline",children:Object(E.jsx)(x.a,{color:"purple",className:f?"textfield button my-2 w-100":"textfield button my-2 w-50",id:"login-submit",onClick:function(){return g(!0)},type:"button",children:"INGRESAR COMO INVITADO"})})]})]}):Object(E.jsxs)("div",{className:"px-4 my-3 d-flex justify-content-between align-items-center",children:[Object(E.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",width:"60",height:"60",className:"logo-nav"}),Object(E.jsxs)("div",{className:"d-inline",children:[Object(E.jsx)(r.b,{to:"/login",className:"inicio-link",children:"INICIAR"}),Object(E.jsx)("p",{className:"inicio-link2",children:"|"}),Object(E.jsx)(r.b,{to:"/sign-up",className:"inicio-link",children:"REGISTRARSE"})]})]}),Object(E.jsx)("div",{className:f?"d-flex row d-flex align-items-center h-75 justify-content-between m-0":"d-flex row d-flex justify-content-center w-100 m-0",children:Se.map((function(e){return Object(E.jsx)("div",{className:f?"col-md-4 d-flex justify-content-center align-items-center h-100":"w-100 my-2 d-flex justify-content-center",children:Object(E.jsx)(Ee,{image:e.img,title:e.title,description:e.description,color:e.color,largeWidth:f})})}))}),Object(E.jsx)("a",{href:"https://valentinnicheglod.github.io/Portfolio",className:"personal-logo",target:"_blank",rel:"noreferrer noopener",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/Portfolio/Small.svg",alt:"logo"})}),!f&&Object(E.jsx)("div",{className:"d-flex row d-flex justify-content-center w-100 m-0 overflow-y",children:Object(E.jsxs)("div",{className:"all-center mb-2 mt-4 w-100 row",children:[Object(E.jsx)("h2",{className:"violet",children:N?"Modo Invitado":"Ingresar como invitado"}),Object(E.jsx)("div",{className:"w-100 list-restrictions my-2",children:Object(E.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(E.jsx)("div",{className:"list-restrictions",children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(E.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(E.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(E.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(E.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100 row",children:[Object(E.jsx)("small",{className:"m-0",children:"Si estas de acuerdo con esto puedes"}),Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-100",id:"login-submit",onClick:v,type:"button",children:"Ingresar como invitado"}),Object(E.jsx)("small",{className:"all-center m-0 line-aside",children:"o"}),Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-100",id:"login-submit",onClick:function(){return e.push("/sign-up")},type:"button",basic:!0,children:"Crear una cuenta"})]})]})}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l,autoHideDuration:5e3,onClose:function(){return i(!1)},message:"Cargando...",action:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})})}),Object(E.jsx)(p.a,{open:m,onClose:function(){return g(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:w})]})},De=n(298),Te=n.n(De),Ae=n(575),Me=n(573),_e=n(535),Fe=n(539),Pe=n(540),Re=n(541),Le=n(542),ze=n(543),qe=n(544),Ge=n(545),Ye=n(546),Ue=n(547),We=n(548),Be=n(300),Ke=n.n(Be),Ve=n(299),He=n.n(Ve),$e=n(302),Je=n.n($e),Xe=n(301),Qe=n.n(Xe),Ze=n(71),et=n.n(Ze),tt=n(115),nt=n.n(tt),at=(n(281),function(e){var t=e.setDrawerOpen,n=Object(d.g)(),c=Object(d.f)(),s=Object(o.b)(),l=n.pathname,i=Object(a.useState)(!1),r=Object(u.a)(i,2),j=r[0],m=r[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(!1),f=Object(u.a)(g,2),N=f[0],v=f[1],w=Object(a.useState)(!1),y=Object(u.a)(w,2),C=y[0],k=y[1],I=Object(a.useState)(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")),D=Object(u.a)(I,2),T=D[0],A=D[1],M=Object(o.c)((function(e){return e.users.user})),_=1===M.id;Object(a.useEffect)((function(){s(be(T))}),[T,s]);var F=window.screen.width>600,P=window.screen.width<350,R=function(e){c.push(e),F||t(!1)};return Object(E.jsxs)("div",{className:"row profile full-height m-0 d-flex",children:[Object(E.jsxs)("div",{className:"profile-sidebar full-height",children:[Object(E.jsx)("div",{onClick:function(){return R("/home")},className:"btn inicio-logo",style:{cursor:"pointer",height:"10%"},onKeyDown:function(){return R("/home")},role:"button",tabIndex:0,children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"overflow-y",style:{height:"90%"},children:[("/edit profile"!==l||!F)&&Object(E.jsxs)(E.Fragment,{children:[M.profile_photo?Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)(Me.a,{alt:"profile_photo",className:"mt-4 profile-userpic",sizes:180,draggable:!1,src:"data:".concat(M.profile_photo&&M.profile_photo.contentType,";base64, ").concat(M.profile_photo&&M.profile_photo.image)})}):Object(E.jsx)("div",{className:"all-center",children:Object(E.jsxs)(Me.a,{alt:"profile_photo",className:"mt-4 profile-userpic blue",children:[M.name&&M.name.slice(0,1)," ",M.lastname&&M.lastname.slice(0,1)]})}),F?Object(E.jsxs)("div",{className:"profile-usertitle",children:[Object(E.jsxs)("div",{className:"profile-usertitle-name white",children:[M.name," ",M.lastname]}),Object(E.jsx)("div",{className:"profile-usertitle-job",children:M.email}),Object(E.jsx)("div",{className:"profile-usertitle-job",children:M.ocupation})]}):N?Object(E.jsx)("div",{className:"all-center",children:Object(E.jsxs)("form",{action:"https://notatky.herokuapp.com/user/uploadphoto/".concat(M.id),encType:"multipart/form-data",id:"profile-input",method:"POST",onChange:function(e){k(!0),0===e.target.files.length?k(!1):k(!0)},children:[Object(E.jsxs)("div",{className:"inputWrapper btn btn-round my-1 btn-sm btn-primary w-100 all-center",children:[Object(E.jsx)("input",{id:"formFileSm",name:"picture",className:"fileInput",type:"file",accept:"image/*"}),"Seleccionar foto"]}),Object(E.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-success",type:"submit",disabled:!C,children:"Guardar"}),M.profile_photo&&Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 mx-1 btn-danger",onClick:function(e){e.preventDefault(),x(!0)},type:"button",children:"Eliminar"}),Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-dark",onClick:function(){v(!1)},type:"button",children:"Cancelar"})]})]})}):_?!P&&Object(E.jsx)("div",{className:"profile-usertitle",children:Object(E.jsxs)("div",{className:"profile-usertitle-name white",children:[M.name," ",M.lastname]})}):Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){return v(!0)},type:"button",children:"".concat(M.profile_photo?"Editar":"Agregar"," foto de perfil")})})]}),Object(E.jsx)("div",{id:"home-side-bar",children:Object(E.jsxs)(_e.a,{component:"nav",className:"white",children:[Object(E.jsxs)(Fe.a,{button:!0,className:"/edit profile"===l&&"settings-select-blue",id:"item-side-bar",onClick:function(){R("/edit profile")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(He.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Mi perfil"})]}),F?Object(E.jsxs)(Fe.a,{button:!0,className:"/collections tags/"===l&&T?"settings-select-dark":"/collections tags"===l?"settings-select":null,id:"item-side-bar",onClick:function(){R("/collections tags")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(Ke.a,{className:"/collections tags"===l?"violet":"white"})}),Object(E.jsx)(Re.a,{primary:"Colecciones y etiquetas"})]}):Object(E.jsxs)(Fe.a,{button:!0,className:"/collections tags/col"===l&&T?"settings-select-dark":"/collections tags/col"===l?"settings-select":null,id:"item-side-bar",onClick:function(){R("/collections tags/col")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(et.a,{className:"/collections tags/col"===l?"violet":"white"})}),Object(E.jsx)(Re.a,{primary:"Colecciones"})]}),!F&&Object(E.jsxs)(Fe.a,{button:!0,className:"/collections tags/tag"===l&&T?"settings-select-dark":"/collections tags/tag"===l?"settings-select":null,id:"item-side-bar",onClick:function(){R("/collections tags/tag")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(nt.a,{className:"/collections tags/tag"===l?"violet":"white"})}),Object(E.jsx)(Re.a,{primary:"Etiquetas"})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(Fe.a,{button:!0,className:"item-side-bar",id:"item-side-bar",children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(Qe.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Modo oscuro"}),Object(E.jsx)(Le.a,{edge:"end",onChange:function(){A(!T)},checked:T,color:"primary"})]}),Object(E.jsxs)(Fe.a,{button:!0,className:"item-side-bar",id:"item-side-bar",onClick:function(){return m(!0)},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(Je.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Cerrar sesi\xf3n"})]})]})})]})]}),Object(E.jsxs)(ze.a,{open:j,onClose:function(){return m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea cerrar sesi\xf3n?"}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return m(!1)},color:"primary",children:"No"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){s((function(e){e({type:se}),sessionStorage.clear(),localStorage.removeItem("token"),localStorage.removeItem("id")})),c.push("/")},color:"primary",children:"S\xed"})]})]}),Object(E.jsxs)(ze.a,{open:p,onClose:function(){return x(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(E.jsx)(Ue.a,{children:Object(E.jsx)(We.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{onClick:function(){return x(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{onClick:function(){s(re(Object(b.a)(Object(b.a)({},M),{},{profile_photo:null}))),x(!1)},color:"primary",children:"Eliminar"})]})]})]})}),ct=n(49),st=n.n(ct),lt=function(e){var t=e.darkMode,n=e.handleDelete,c=e.isGuest,s=e.user,l=Object(a.useState)(""),i=Object(u.a)(l,2),o=i[0],r=i[1],d=Object(a.useState)(!1),j=Object(u.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),p=O[0],x=O[1],g=s.createdAt&&st()(s.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YYYY");return Object(E.jsxs)("div",{className:"card card-edit p-3 scale-lg",id:t&&"dark-blue",children:[s.profile_photo?Object(E.jsx)(Me.a,{alt:"profile_photo",className:"my-3 profile-userpic",imgProps:{draggable:!1},sizes:180,src:"data:".concat(s.profile_photo&&s.profile_photo.contentType,";base64, ").concat(s.profile_photo&&s.profile_photo.image)}):Object(E.jsxs)(Me.a,{alt:"profile_photo",className:"my-3 profile-userpic blue",children:[s.name&&s.name.slice(0,1)," ",s.lastname&&s.lastname.slice(0,1)]}),"profilePicture"===o?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("form",{action:"https://notatky.herokuapp.com/user/uploadphoto/".concat(s.id),encType:"multipart/form-data",id:"profile-input",method:"POST",onChange:function(e){x(!0),0===e.target.files.length?x(!1):x(!0)},children:[Object(E.jsx)("input",{className:"form-control form-control-sm mb-3",id:"formFileSm",name:"picture",type:"file",accept:"image/*"}),Object(E.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-success",type:"submit",disabled:!p,children:"Guardar"}),s.profile_photo&&Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-danger",onClick:function(e){e.preventDefault(),m(!0)},type:"button",children:"Eliminar"}),t?Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-light",onClick:function(){x(!1),r("")},type:"button",children:"Cancelar"}):Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-dark",onClick:function(){x(!1),r("")},type:"button",children:"Cancelar"})]})]})}):c?Object(E.jsx)("small",{children:"Sesi\xf3n iniciada en modo invitado"}):Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){return r("profilePicture")},type:"button",children:"".concat(s.profile_photo?"Editar":"Agregar"," foto de perfil")}),Object(E.jsx)("h1",{className:"display-6 mb-0",children:s.name}),Object(E.jsx)("h1",{className:"display-6 mt-0",children:s.lastname}),Object(E.jsxs)("div",{className:"user-data-card w-100 my-4",children:[s.ocupation&&Object(E.jsxs)("div",{className:"my-2",children:[Object(E.jsx)("b",{className:"d-inline px-2",children:"Ocupaci\xf3n:\xa0\xa0"}),Object(E.jsx)("p",{className:"d-inline",children:s.ocupation})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"my-2",children:[Object(E.jsx)("b",{className:"d-inline px-2",children:"Miembro desde:"}),Object(E.jsx)("p",{className:"d-inline",children:g})]})]}),Object(E.jsxs)(ze.a,{open:b,onClose:function(){return m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(E.jsx)(Ue.a,{children:Object(E.jsx)(We.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{onClick:function(){return m(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{onClick:function(){n(),m(!1)},color:"primary",children:"Eliminar"})]})]})]})},it=(n(3),n(531)),ot=n(480),rt=n(574),dt=n(553),jt=n(569),bt=n(532),ut=n(530),mt=n(536),ht=n(549),Ot=n(550),pt=n(551),xt=n(552),gt=n(554),ft=n(555),Nt=n(556),vt=Object(ht.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"&:hover":{backgroundColor:"transparent"}}}})),wt=function(e){var t=e.closeSnackbar,n=e.darkMode,a=e.editing,c=e.editionMode,s=e.error,l=e.handleChange,i=e.handleErrors,o=e.handlePasswordChange,r=e.handlePasswordSubmit,d=e.handleSubmit,j=e.information,b=e.largeWidth,u=e.mouseEnter,p=e.mouseLeave,x=e.password,g=e.setDrawerOpen,f=e.snackbar,N=e.user,v=e.visibilityPassword,w=e.visiblePassword,y=vt(),C=window.screen.width<350,k=N.createdAt&&st()(N.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY");return Object(E.jsxs)("div",{className:"user-profile pro m-4 row",children:[Object(E.jsxs)("h1",{className:"display-1 settings-title",children:[!b&&Object(E.jsx)(O.a,{onClick:function(){return g(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",iconStyle:{width:"35px",height:"40px",marginRight:"5px"},children:Object(E.jsx)(Ot.a,{className:"menu-icon"})}),"\xa0Editar perfil"]}),!b&&Object(E.jsx)("div",{className:"mobile-user-card-cont pt-4",children:Object(E.jsxs)("div",{className:"mobile-user-card login-bg row",children:[Object(E.jsx)("div",{className:"mobile-user-card-1 all-center",children:N.profile_photo?Object(E.jsx)(Me.a,{alt:"profile_photo",className:"mobile-user-card-avatar pe",imgProps:{draggable:!1},src:"data:".concat(N.profile_photo&&N.profile_photo.contentType,";base64, ").concat(N.profile_photo&&N.profile_photo.image)}):Object(E.jsxs)(Me.a,{alt:"profile_photo",className:"blue",children:[N.name&&N.name.slice(0,1)," ",N.lastname&&N.lastname.slice(0,1)]})}),Object(E.jsxs)("div",{className:"mobile-user-card-2",children:[Object(E.jsx)("p",{className:"mb-0",children:N.name}),Object(E.jsx)("p",{className:"mb-0",children:N.lastname})]}),Object(E.jsxs)("div",{className:"mobile-user-card-3 py-2 h-100",children:[Object(E.jsx)("div",{className:"row mobile-user-card-ocupation",children:N.ocupation?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("small",{children:"Ocupaci\xf3n..."}),Object(E.jsx)("p",{className:"mb-0",children:N.ocupation})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("small",{children:"Correo electr\xf3nico..."}),Object(E.jsx)("p",{className:"mb-0",children:N.email})]})}),Object(E.jsxs)("div",{className:"row mobile-user-card-date",children:[Object(E.jsx)("small",{children:"Miembro desde..."}),Object(E.jsx)("p",{className:"mb-0",children:k})]})]})]})}),Object(E.jsxs)("div",{className:"pt-4 info-cont-settings",style:n&&b?{overflowY:"auto",height:550}:null,children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return u(e)},onMouseLeave:function(e){return p(e)},children:[C?"Datos personales":"Informaci\xf3n personal",b?!("PersonalInformation"===a)&&Object(E.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return c("PersonalInformation")},type:"button",children:"Editar"}):"PersonalInformation"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("PersonalInformation")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#2185D0"}})}):Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#2185D0"}})})]}),Object(E.jsx)("hr",{}),"PersonalInformation"===a?Object(E.jsxs)("form",{className:y.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsx)(m.a,{className:"input-profile",label:"Nombre",value:j.name,name:"name",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile",id:"outlined-basic",label:"Apellido",value:j.lastname,name:"lastname",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile",id:"ocupation-textfield",label:"Ocupaci\xf3n",value:j.ocupation,name:"ocupation",onChange:l}),Object(E.jsx)("br",{}),Object(E.jsxs)(it.a,{component:"fieldset",className:"my-3",children:[Object(E.jsx)(ot.a,{component:"legend",className:"MuiFormLabel-root",children:"G\xe9nero"}),Object(E.jsxs)(rt.a,{defaultValue:N.gender,"aria-label":"gender",name:"gender",onChange:l,children:[Object(E.jsx)(dt.a,{value:"female",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Femenino"}),Object(E.jsx)(dt.a,{value:"male",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Masculino"}),Object(E.jsx)(dt.a,{value:"other",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Otro"})]})]}),Object(E.jsx)("br",{}),b?Object(E.jsx)("button",{className:"btn w-25 btn-success btn-round btn-update",onClick:d,type:"submit",children:"Actualizar datos"}):Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:d,type:"submit",children:"Actualizar"})}),b&&Object(E.jsx)("button",{className:"btn btn-outline-danger btn-round w-12",onClick:function(){return c("")},type:"button",children:"Cancelar"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"Nombre y apellido:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:"".concat(N.name," ").concat(N.lastname)})]}),Object(E.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(E.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Ocupaci\xf3n:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:N.ocupation?N.ocupation:Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){c("PersonalInformation"),setTimeout((function(){document.getElementById("ocupation-textfield").focus()}),1e3)},type:"button",children:"Agrega una ocupaci\xf3n"})})]}),N.gender&&Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"G\xe9nero:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:"male"===N.gender?"Masculino":"female"===N.gender?"Femenino":"Otro"})]})]})]}),Object(E.jsxs)("div",{className:"mt-3",children:[Object(E.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return u(e)},onMouseLeave:function(e){return p(e)},children:[b?"Informaci\xf3n de contacto":"Contacto",b?!("ContactInformation"===a)&&Object(E.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return c("ContactInformation")},type:"button",children:"Editar"}):"ContactInformation"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("ContactInformation")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#2185D0"}})}):Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#2185D0"}})})]}),Object(E.jsx)("hr",{}),"ContactInformation"===a?Object(E.jsxs)("form",{className:y.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsx)(m.a,{className:"input-profile",id:"outlined-basic",label:"Correo electr\xf3nico",value:j.email,name:"email",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile mb-4",id:"phone-textfield",label:"N\xfamero de tel\xe9fono",value:j.phone,name:"phone",onChange:l,type:"number"}),Object(E.jsx)("br",{}),b?Object(E.jsx)("button",{type:"submit",className:"btn w-25 btn-success btn-update btn-round",onClick:d,children:"Actualizar datos"}):Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:d,type:"submit",children:"Actualizar"})}),b&&Object(E.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-round w-12",onClick:function(){return c("")},children:"Cancelar"})]}):Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"Correo electr\xf3nico:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:N.email})]}),Object(E.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(E.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Celular:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:N.phone?N.phone:Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){c("ContactInformation"),setTimeout((function(){document.getElementById("phone-textfield").focus(),document.getElementById("phone-textfield").click()}),1e3)},type:"button",children:"Agrega un celular"})})]})]})]}),Object(E.jsxs)("div",{className:"mt-3",children:[Object(E.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return u(e)},onMouseLeave:function(e){return p(e)},children:["Contrase\xf1a",b?!("password"===a)&&Object(E.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return c("password")},type:"button",children:"Editar"}):"password"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("password")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#2185D0"}})}):Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#2185D0"}})})]}),Object(E.jsx)("hr",{}),"password"===a?Object(E.jsxs)("form",{className:y.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsxs)(it.a,{className:"input-profile",children:[Object(E.jsx)(bt.a,{htmlFor:"actual-password",children:"Contrase\xf1a actual"}),Object(E.jsx)(ut.a,{id:"actual-password",type:w.password?"text":"password",spellcheck:!1,endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return v("password")},onMouseDown:function(e){return e.preventDefault()},children:w.password?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:x.current,name:"current",onChange:o})]}),Object(E.jsxs)(it.a,{className:"input-profile",error:s.password,children:[Object(E.jsx)(bt.a,{htmlFor:"new-password-1",children:"Contrase\xf1a nueva"}),Object(E.jsx)(ut.a,{id:"new-password-1",type:w.newPassword?"text":"password",endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return v("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:w.newPassword?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:x.new1,name:"new1",inputProps:{onBlur:i},onChange:o}),Object(E.jsx)(mt.a,{children:s.password&&"La contrase\xf1a debe tener al menos seis caracteres"})]}),Object(E.jsxs)(it.a,{className:"input-profile mb-4",children:[Object(E.jsx)(bt.a,{htmlFor:"actual-password-2",children:"Repite la nueva contrase\xf1a"}),Object(E.jsx)(ut.a,{id:"new-password-2",type:w.newPassword?"text":"password",spellcheck:!1,endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return v("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:w.newPassword?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:x.new2,name:"new2",onChange:o})]}),Object(E.jsx)("br",{}),b?Object(E.jsx)("button",{className:"btn w-25 btn-success btn-round btn-update",disabled:s.password,onClick:r,type:"submit",children:"Modificar contrase\xf1a"}):Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",disabled:s.password,onClick:r,type:"submit",children:"Modificar contrase\xf1a"})}),b&&Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-danger btn-round w-12",onClick:function(){return c("")},children:"Cancelar"})]}):null]})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:f.open,autoHideDuration:6e3,onClose:t,message:f.message,action:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:t,children:Object(E.jsx)(Nt.a,{fontSize:"small"})})})})]})},yt=function(){return Object(E.jsxs)("div",{className:"all-center w-100 h-100",children:[Object(E.jsx)("div",{className:"spinner-border",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-2",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-3",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-4",role:"status"})]})},Ct=function(){var e=Object(a.useState)({newPassword:!1,password:!1}),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({open:!1,message:""}),l=Object(u.a)(s,2),i=l[0],r=l[1],m=Object(a.useState)({current:"",new1:"",new2:""}),h=Object(u.a)(m,2),O=h[0],p=h[1],x=Object(a.useState)(!1),g=Object(u.a)(x,2),f=g[0],N=g[1],v=Object(a.useState)(!0),w=Object(u.a)(v,2),y=w[0],C=w[1],k=Object(a.useState)(),S=Object(u.a)(k,2),I=S[0],D=S[1],T=Object(a.useState)(""),A=Object(u.a)(T,2),M=A[0],_=A[1],F=Object(a.useState)({password:!1}),P=Object(u.a)(F,2),R=P[0],L=P[1],z=Object(o.b)(),q=Object(d.f)(),G=Object(o.c)((function(e){return e.users})),Y=sessionStorage.getItem("id")||localStorage.getItem("id"),U=sessionStorage.getItem("token")||localStorage.getItem("token"),W=G.darkMode,B=1===G.user.id;Object(a.useEffect)((function(){z(oe(Y))}),[z]),Object(a.useEffect)((function(){D(G.user)}),[G]),Object(a.useEffect)((function(){G.user.name&&C(!1)}),[G.user]),Object(a.useEffect)((function(){null===U&&q.push("/login")}),[q]);var K=window.screen.width>600;return Object(E.jsx)("div",{className:K?"row full-height user-select":"row full-height bs-gutter",children:y?Object(E.jsx)(yt,{}):Object(E.jsxs)(E.Fragment,{children:[K?Object(E.jsx)("div",{className:"col-md-2 login-bg p-0",children:Object(E.jsx)(at,{})}):Object(E.jsx)(Ae.a,{open:f,onClose:function(){return N(!1)},id:"hidden-overflow",children:Object(E.jsx)("div",{className:"col-md-2 login-bg p-0 full-height",children:Object(E.jsx)(at,{setDrawerOpen:N})})}),K&&Object(E.jsx)("div",{className:"col-md-3 blue-aside",id:W&&"dark-border",children:Object(E.jsx)(lt,{darkMode:W,handleDelete:function(){z(re(Object(b.a)(Object(b.a)({},I),{},{profile_photo:null})))},isGuest:B,user:G.user})}),Object(E.jsx)("div",{className:K?"col-md-7 h-100":"bs-gutter",id:W&&"dark",children:Object(E.jsx)(wt,{closeSnackbar:function(){r(Object(b.a)(Object(b.a)({},i),{},{open:!1}))},darkMode:W,editing:M,editionMode:function(e){_(e)},error:R,handleChange:function(e){D(Object(b.a)(Object(b.a)({},I),{},Object(j.a)({},e.target.name,e.target.value)))},handleErrors:function(){O.new1.length<6&&O.new1.length>0?L(Object(b.a)(Object(b.a)({},R),{},{password:!0})):L(Object(b.a)(Object(b.a)({},R),{},{password:!1}))},handlePasswordChange:function(e){p(Object(b.a)(Object(b.a)({},O),{},Object(j.a)({},e.target.name,e.target.value)))},handlePasswordSubmit:function(e){e.preventDefault(),Te.a.compare(O.current,I.password).then((function(e){e?O.new1!==O.new2?r({open:!0,message:"Las contrase\xf1as no coinc\xedden"}):O.current&&O.new1&&O.new2?(z(de(Object(b.a)(Object(b.a)({},I),{},{password:O.new1}))),_(""),r({open:!0,message:"Contrase\xf1a actualizada"}),p({current:"",new1:"",new2:""})):r({open:!0,message:"Complete los campos requeridos"}):r({open:!0,message:"Contrase\xf1a actual incorrecta"})}))},handleSubmit:function(e){e.preventDefault(),K||_(""),I.name?I.lastname?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(I.email)?1===G.user.id?(z(re(Object(b.a)(Object(b.a)({},I),{},{email:"admin@admin.com",password:"aDmIn123"}))),_(""),r({open:!0,message:"Datos actualizados"})):(z(re(I)),_(""),r({open:!0,message:"Datos actualizados"})):0===I.email.length?r({open:!0,message:"Debe ingresar un correo"}):r({open:!0,message:"Ingrese un correo v\xe1lido"}):r({open:!0,message:"Debe ingresar un apellido"}):r({open:!0,message:"Debe ingresar un nombre"})},information:I,largeWidth:K,mouseEnter:function(e){if(K){var t=e.target.children[0];t&&(t.className="btn btn-round mx-3 btn-sm btn-outline-primary profile-edit-active")}},mouseLeave:function(e){if(K){var t=e.target.children[0];t&&(t.className="btn btn-round mx-3 btn-sm btn-outline-primary profile-edit")}},password:O,setDrawerOpen:N,snackbar:i,visibilityPassword:function(e){c(Object(b.a)(Object(b.a)({},n),{},Object(j.a)({},e,!n[e])))},visiblePassword:n,user:G.user})})]})})},kt=n(557),Et=n(481),St=n(558),It=n(559),Dt=n(560),Tt=n(561),At=n(562),Mt=n(563),_t=n(564),Ft=n(163),Pt=n.n(Ft),Rt=n(165),Lt=n.n(Rt),zt=n(164),qt=n.n(zt),Gt=n(117),Yt=n.n(Gt),Ut=n(37),Wt=n.n(Ut),Bt=n(116),Kt=n.n(Bt),Vt=function(e){var t=e.collections,n=e.editing,c=e.handleChange,s=e.handleCreate,l=e.handleDelete,i=e.largeWidth,o=e.open,r=e.openModal,d=e.setDrawerOpen,h=e.setEditing,x=Object(a.useState)({name:"",description:""}),g=Object(u.a)(x,2),f=g[0],N=g[1],v=Object(a.useState)(),w=Object(u.a)(v,2),y=w[0],C=w[1],k=Object(a.useState)(!1),S=Object(u.a)(k,2),I=S[0],D=S[1],T=Object(a.useState)(!0),A=Object(u.a)(T,2),M=A[0],_=A[1];setTimeout((function(){_(!1)}),2e3);var F=function(e){N(Object(b.a)(Object(b.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))},P=function(e){C(Object(b.a)(Object(b.a)({},y),{},Object(j.a)({},e.target.name,e.target.value)))};t.collections.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var R=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:y&&!i?"Editar colecci\xf3n":"Crear una colecci\xf3n..."}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/collection.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)(m.a,{autoComplete:"off",autoFocus:!!i,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:f.name,name:"name",onChange:F}),Object(E.jsx)(m.a,{className:"w-100 my-3",id:"outlined-basic",label:"Descripci\xf3n",inputProps:{maxLength:50,autoComplete:"off"},value:f.description,name:"description",onChange:F}),Object(E.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[y&&!i?Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===f.name.length,onClick:function(){c(Object(b.a)(Object(b.a)({},f),{},{id:y.id,userId:y.userId})),setTimeout((function(){N({name:"",description:""}),C(null)}),1500),r("col",!1)},type:"button",children:"Guardar"}):Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===f.name.length,onClick:function(){s(f),setTimeout((function(){N({name:"",description:""})}),1e3)},type:"button",children:"Crear"}),y&&!i&&Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){D(!0)},children:"Eliminar"}),Object(E.jsx)("button",{className:y&&!i?"btn btn-round btn-outline-dark ml-3 cancel-btn-modal-edit":"btn btn-round btn-outline-danger ml-3 cancel-btn-modal",onClick:function(){r("col",!1),C(null),N({name:"",description:""})},type:"button",children:"Cancelar"})]})]});return Object(E.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(E.jsxs)("h1",{className:"display-1 settings-title",children:[!i&&Object(E.jsx)(O.a,{onClick:function(){return d(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",iconStyle:{width:"35px",height:"40px",marginRight:"5px"},children:Object(E.jsx)(Kt.a,{className:"menu-icon"})}),"Colecciones"]}),Object(E.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.collections.length>0?Object(E.jsx)(kt.a,{component:Et.a,id:"tab-col-table",children:Object(E.jsxs)(St.a,{"aria-label":"caption table",id:"tab-col-table",children:[Object(E.jsx)("caption",{children:"Usa las colecciones como si fueran libretas, puedes guardar todas las notas relacionadas a un tema en especifico dentro de ellas."}),Object(E.jsx)(It.a,{id:"thead",children:Object(E.jsxs)(Dt.a,{children:[Object(E.jsx)(Tt.a,{id:"table-cell-",children:Object(E.jsx)("b",{children:"Nombre"})}),Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Descripci\xf3n"})}),Object(E.jsx)(Tt.a,{})]})}),Object(E.jsx)(At.a,{id:"tbody",children:t.collections.map((function(e,a){return Object(E.jsxs)(Dt.a,{children:[Object(E.jsx)(Tt.a,{component:"th",scope:"row",className:"table-cell-col",children:n.col===a?Object(E.jsx)(m.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:20},placeholder:"Nombre",value:y.name,onChange:P,name:"name"}):Object(E.jsxs)("p",{children:[Object(E.jsx)(et.a,{}),"\xa0\xa0",e.name]})}),Object(E.jsx)(Tt.a,{className:"table-cell-col",children:n.col===a?Object(E.jsx)(m.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:50},placeholder:"Descripci\xf3n",value:y.description,onChange:P,name:"description",multiline:!0}):Object(E.jsx)("p",{children:e.description})}),Object(E.jsx)(Tt.a,{align:"right",className:"p-0",children:i?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(O.a,{className:"p-2 btn",onClick:n.col===a?function(){y!==e?c(y):h({tag:void 0,col:void 0})}:function(){C(t.collections[a]),h(Object(b.a)(Object(b.a)({},n),{},{tag:void 0,col:a}))},children:n.col===a?Object(E.jsx)(Yt.a,{style:{color:"#198754"}}):Object(E.jsx)(Pt.a,{style:{color:"#2185D0"}})}),Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){C(t.collections[a]),D(!0)},children:n.col===a&&Object(E.jsx)(qt.a,{style:{color:"#dc3545"}})})]}):Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){C(t.collections[a]),N(Object(b.a)(Object(b.a)({},f),{},{name:t.collections[a].name,description:t.collections[a].description})),r("col",!0)},children:Object(E.jsx)(Lt.a,{})})})]},e.id)}))}),i&&Object(E.jsx)(Mt.a,{children:Object(E.jsxs)("button",{onClick:function(){return r("col",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),i?"  Crear nueva colecci\xf3n":"  Nueva colecci\xf3n"]})})]})}):M?Object(E.jsx)("div",{style:i?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(E.jsx)(yt,{})}):Object(E.jsx)("div",{className:"no-data-cont all-center row",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"d-flex justify-content-end w-100",children:Object(E.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%"}})}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:"No hay colecciones"})}),Object(E.jsxs)("div",{className:"all-center",children:[Object(E.jsxs)("button",{onClick:function(){return r("col",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),"Crea tu primera colecci\xf3n"]}),Object(E.jsxs)("button",{className:"btn btn-round my-3 btn-sm btn-primary all-center create-btn",onClick:function(){return r("col",!0)},type:"button",children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Crea tu primera colecci\xf3n"]})]})]})}),!i&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return r("col",!0)},children:Object(E.jsx)(Wt.a,{className:"add-icon"})}),Object(E.jsx)(p.a,{open:o.col,onClose:function(){r("col",!1),C(null),N({name:"",description:""})},className:"d-flex w-100 justify-content-center align-items-center modal",children:R}),Object(E.jsxs)(ze.a,{open:I,onClose:function(){D(!1),C(null),N({name:"",description:""})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la colecci\xf3n?"}),Object(E.jsx)(Ue.a,{children:Object(E.jsx)(We.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la colecci\xf3n la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return D(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){l(y.id),D(!1),i||(r("col",!1),N({name:"",description:""}),C(null))},color:"primary",children:"Eliminar"})]})]})]})]})},Ht=n(123),$t=n.n(Ht),Jt=["#79ADDC","#FFC09F","#FFEE93","#ADF7B6","#FBADFF","#DCB6D5","#F2F7F2"],Xt=function(e){var t=e.tags,n=e.editing,c=e.handleChange,s=e.handleCreate,l=e.handleDelete,i=e.largeWidth,o=e.open,r=e.openModal,d=e.setDrawerOpen,h=e.setEditing,x=Object(a.useState)({color:"",name:""}),g=Object(u.a)(x,2),f=g[0],N=g[1],v=Object(a.useState)(null),w=Object(u.a)(v,2),y=w[0],C=w[1],k=Object(a.useState)(!1),S=Object(u.a)(k,2),I=S[0],D=S[1],T=Object(a.useState)(!0),A=Object(u.a)(T,2),M=A[0],_=A[1];setTimeout((function(){_(!1)}),2e3);var F=function(e,t){"create"===t?N(Object(b.a)(Object(b.a)({},f),{},{color:e})):C(Object(b.a)(Object(b.a)({},y),{},{color:e}))},P=function(e){C(Object(b.a)(Object(b.a)({},y),{},Object(j.a)({},e.target.name,e.target.value)))};t.tags.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var R=window.screen.width<350,L=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:y&&!i?"Editar etiqueta":"Crear una etiqueta..."}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/tag.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)("div",{children:Object(E.jsx)(m.a,{autoFocus:!!i,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:f.name,name:"name",onChange:function(e){N(Object(b.a)(Object(b.a)({},f),{},Object(j.a)({},e.target.name,e.target.value)))}})}),Object(E.jsxs)("div",{className:"row my-3",children:[!R&&Object(E.jsx)("p",{className:"MuiFormLabel-root",style:{fontSize:"1rem"},children:"Color"}),Object(E.jsx)("div",{className:"d-flex justify-content-between w-100",children:Jt.map((function(e){return Object(E.jsx)(O.a,{className:i?"p-2":"p-0",id:f.color===e?"selectedColor":null,onClick:function(){return F(e,"create")},style:{borderColor:e},children:Object(E.jsx)($t.a,{style:{color:e,fontSize:R?25:35}})},e)}))})]}),Object(E.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[y&&!i?Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===f.name.length,onClick:function(){c(Object(b.a)(Object(b.a)({},f),{},{id:y.id,userId:y.userId})),setTimeout((function(){N({name:"",color:""}),C(null)}),1500),r("tag",!1)},type:"submit",children:"Guardar"}):Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===f.name.length,onClick:function(){s(f),setTimeout((function(){N({name:"",color:""})}),1500)},type:"submit",children:"Crear"}),y&&!i&&Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){D(!0)},children:"Eliminar"}),Object(E.jsx)("button",{type:"submit",className:y?"btn btn-outline-dark ml-3 btn-round cancel-btn-modal-edit":"btn btn-outline-danger ml-3 btn-round cancel-btn-modal",onClick:function(){r("tag",!1),C(null),N({name:"",color:""})},children:"Cancelar"})]})]});return Object(E.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(E.jsxs)("h1",{className:"display-1 settings-title",children:[!i&&Object(E.jsx)(O.a,{onClick:function(){return d(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",children:Object(E.jsx)(Kt.a,{className:"menu-icon"})}),"Etiquetas"]}),Object(E.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.tags.length>0?Object(E.jsx)(kt.a,{component:Et.a,id:"tab-col-table",children:Object(E.jsxs)(St.a,{"aria-label":"caption table",children:[Object(E.jsx)("caption",{children:"Usa las etiquetas para ordenar tus notas por categor\xeda, de esta forma podr\xe1s encontrar la nota que buscas rapidamente."}),Object(E.jsx)(It.a,{id:"thead",children:Object(E.jsxs)(Dt.a,{children:[Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Nombre"})}),Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Color"})}),Object(E.jsx)(Tt.a,{})]})}),Object(E.jsx)(At.a,{id:"tbody",children:t.tags.map((function(e,a){return Object(E.jsxs)(Dt.a,{children:[Object(E.jsx)(Tt.a,{component:"th",scope:"row",className:"table-cell-col",children:n.tag===a?Object(E.jsx)(m.a,{className:"w-100",placeholder:"Nombre",value:y.name,onChange:P,name:"name",inputProps:{maxLength:20}}):Object(E.jsxs)("p",{children:[Object(E.jsx)(nt.a,{}),"\xa0\xa0",e.name]})}),Object(E.jsx)(Tt.a,{className:"table-cell-col dots-cont",children:n.tag===a?Jt.map((function(e){return Object(E.jsx)(O.a,{className:"color-dot",id:y.color===e?"selectedColor":null,onClick:function(){return F(e,"update")},style:{borderColor:e},children:Object(E.jsx)($t.a,{style:{color:e}})})})):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)($t.a,{style:{color:e.color}})})}),Object(E.jsx)(Tt.a,{align:"right",className:"p-0",children:i?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(O.a,{className:"p-2 btn",onClick:n.tag===a?function(){y!==e?c(y):h({tag:void 0,col:void 0})}:function(){C(t.tags[a]),N(t.tags[a]),h(Object(b.a)(Object(b.a)({},n),{},{tag:a,col:void 0}))},children:n.tag===a?Object(E.jsx)(Yt.a,{style:{color:"#198754"}}):Object(E.jsx)(Pt.a,{style:{color:"#2185D0"}})}),Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){C(t.tags[a]),D(!0)},children:n.tag===a&&Object(E.jsx)(qt.a,{style:{color:"#dc3545"}})})]}):Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){C(t.tags[a]),N(Object(b.a)(Object(b.a)({},f),{},{name:t.tags[a].name,color:t.tags[a].color})),r("tag",!0)},children:Object(E.jsx)(Lt.a,{})})})]},e.name)}))}),i&&Object(E.jsx)(Mt.a,{children:Object(E.jsxs)("button",{onClick:function(){C(null),N({name:"",color:""}),r("tag",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),i?"  Crear nueva etiqueta":"  Nueva etiqueta"]})})]})}):M?Object(E.jsx)("div",{style:i?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(E.jsx)(yt,{})}):Object(E.jsx)("div",{className:"no-data-cont all-center row",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%",transform:"rotateY(180deg)"}}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:"No hay etiquetas"})}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsxs)("button",{onClick:function(){r("tag",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),"Crea tu primera etiqueta"]})})]})}),Object(E.jsx)(p.a,{open:o.tag,onClose:function(){r("tag",!1),C(null),N({name:"",color:""})},className:"d-flex w-100 justify-content-center align-items-center modal",children:L}),Object(E.jsxs)(ze.a,{open:I,onClose:function(){return D(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la etiqueta?"}),Object(E.jsx)(Ue.a,{children:Object(E.jsx)(We.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la etiqueta la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return D(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){l(y.id),D(!1),i||(r("tag",!1),N({name:"",color:""}),C(null))},color:"primary",children:"Eliminar"})]})]})]}),!i&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return r("tag",!0)},children:Object(E.jsx)(Wt.a,{className:"add-icon"})})]})},Qt=function(e){return function(t){try{s.a.get("/tag/all/".concat(e)).then((function(e){t({type:V,tags:e.data})}))}catch(n){console.log(n)}}},Zt=function(e){return function(t){try{s.a.get("/collection/all/".concat(e)).then((function(e){return t({type:M,collections:e.data})}))}catch(n){console.log(n)}}},en=function(e){var t=e.match,n=Object(o.b)(),c=Object(d.f)(),l=Object(o.c)((function(e){return e.users.darkMode})),i=Object(o.c)((function(e){return e.users})),r=Object(o.c)((function(e){return e.collections})),m=Object(o.c)((function(e){return e.tags})),p=Object(a.useState)({tag:"",col:""}),x=Object(u.a)(p,2),g=x[0],f=x[1],N=Object(a.useState)({tag:!1,col:!1}),v=Object(u.a)(N,2),w=v[0],y=v[1],C=Object(a.useState)({open:!1,message:""}),k=Object(u.a)(C,2),S=k[0],I=k[1],D=Object(a.useState)(!1),T=Object(u.a)(D,2),A=T[0],M=T[1],_=window.screen.width>600,L=1===i.user.id,z=sessionStorage.getItem("id")||localStorage.getItem("id"),q=sessionStorage.getItem("token")||localStorage.getItem("token");Object(a.useEffect)((function(){n(oe(z)),n(Zt(z)),n(Qt(z))}),[n]),Object(a.useEffect)((function(){null===q&&c.push("/login")}),[c]);var G=function(){setTimeout((function(){n(Zt(z)),n(Qt(z))}),500)},Y=function(e){n(function(e){return function(t){console.log(e);try{s.a.put("/collection/".concat(e.id),{data:e}).then((function(e){return t({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:P})}))}catch(n){console.log(n)}}}(e)),f(Object(b.a)(Object(b.a)({},g),{},{col:void 0})),I({open:!0,message:"Colecci\xf3n actualizada"})},U=function(e){n(function(e,t){return function(n){try{s.a.post("/collection/".concat(t),{data:e}).then((function(e){return n({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:F})}))}catch(a){console.log(a)}}}(e,z)),y(Object(b.a)(Object(b.a)({},w),{},{col:!1})),I({open:!0,message:"Colecci\xf3n creada"})},W=function(e){L&&e<5?(I({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{s.a.delete("/collection/".concat(e)).then((function(e){return t({collections:e.data.collections,message:e.data.message,response:e.status,type:R})}))}catch(n){console.log(n)}}}(e)),G(),f(Object(b.a)(Object(b.a)({},g),{},{col:void 0})),I({open:!0,message:"Colecci\xf3n eliminada"}))},B=function(e){n(function(e){return function(t){try{s.a.put("/tag/".concat(e.id),{data:e}).then((function(e){return t({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:J})}))}catch(n){console.log(n)}}}(e)),G(),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0})),I({open:!0,message:"Etiqueta actualizada"})},K=function(e){n(function(e,t){return function(n){try{s.a.post("/tag/".concat(t),{data:e}).then((function(e){return n({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:$})}))}catch(a){console.log(a)}}}(e,z)),y(Object(b.a)(Object(b.a)({},w),{},{tag:!1})),I({open:!0,message:"Etiqueta creada"})},V=function(e){L&&e<8?(I({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{s.a.delete("/tag/".concat(e)).then((function(e){return t({message:e.data.message,response:e.status,tags:e.data.tags,type:X})}))}catch(n){console.log(n)}}}(e)),G(),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0})),I({open:!0,message:"Etiqueta eliminada"}))},H=function(e,t){f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0})),y(Object(b.a)(Object(b.a)({},w),{},Object(j.a)({},e,t)))};return Object(E.jsxs)("div",{className:_?"row full-height user-select":"row full-height bs-gutter",children:[_?Object(E.jsx)("div",{className:"col-md-2 login-bg p-0",children:Object(E.jsx)(at,{users:i})}):Object(E.jsx)(Ae.a,{open:A,onClose:function(){return M(!1)},children:Object(E.jsx)("div",{className:"col-md-2 login-bg p-0 full-height",children:Object(E.jsx)(at,{users:i,setDrawerOpen:M})})}),_?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"col-md-5 full-height",children:Object(E.jsx)(Vt,{collections:r,darkMode:l,editing:g,largeWidth:_,open:w,openModal:H,setEditing:f,handleChange:Y,handleCreate:U,handleDelete:W,setDrawerOpen:M})}),Object(E.jsx)("div",{className:"col-md-5 full-height",children:Object(E.jsx)(Xt,{darkMode:l,editing:g,open:w,openModal:H,setEditing:f,handleChange:B,handleCreate:K,handleDelete:V,largeWidth:_,setDrawerOpen:M,tags:m})})]}):"col"===t.params.type?Object(E.jsx)("div",{className:"col-md-5",children:Object(E.jsx)(Vt,{collections:r,darkMode:l,editing:g,largeWidth:_,open:w,openModal:H,setEditing:f,handleChange:Y,handleCreate:U,handleDelete:W,setDrawerOpen:M})}):Object(E.jsx)("div",{className:"col-md-5",children:Object(E.jsx)(Xt,{darkMode:l,editing:g,open:w,openModal:H,setEditing:f,handleChange:B,handleCreate:K,handleDelete:V,largeWidth:_,setDrawerOpen:M,tags:m})}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:S.open,autoHideDuration:6e3,onClose:function(){return I(!1)},message:S.message,action:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return I(!1)},children:Object(E.jsx)(Nt.a,{fontSize:"small"})})})})]})},tn=n(565),nn=n(166),an=n.n(nn),cn=n(167),sn=n.n(cn),ln=n(207),on=n.n(ln),rn=n(208),dn=n.n(rn),jn=n(303),bn=n.n(jn),un=n(304),mn=n.n(un),hn=n(168),On=n.n(hn),pn=(n(282),function(e){var t=e.changeRoute,n=e.collections,c=e.filterCollections,s=e.filterTags,l=e.largeWidth,i=e.pathname,o=e.tags,r=Object(a.useState)(!0),d=Object(u.a)(r,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(u.a)(m,2),O=h[0],p=h[1],x=function(e){"tag"===e?b(!j):p(!O)};return Object(E.jsxs)("div",{className:"row full-height m-0",children:[Object(E.jsx)("div",{className:"home-sidebar inicio-logo",children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{id:"side-bar--cont",children:Object(E.jsxs)(_e.a,{component:"nav",className:"white",children:[Object(E.jsxs)(Fe.a,{button:!0,id:"/home"===i&&"home-select",onClick:function(){return t("/home")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(bn.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Inicio"})]}),Object(E.jsxs)(Fe.a,{button:!0,onClick:function(){x("col")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(et.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Colecciones"}),O?Object(E.jsx)(on.a,{}):Object(E.jsx)(dn.a,{})]}),Object(E.jsx)(tn.a,{in:O,timeout:"auto",unmountOnExit:!0,children:n&&n.sort().map((function(e){return Object(E.jsx)(_e.a,{component:"div",disablePadding:!0,children:Object(E.jsxs)(Fe.a,{button:!0,onClick:function(){return c(e.id)},style:{paddingLeft:40},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(mn.a,{className:"white"})}),Object(E.jsx)(Re.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(E.jsxs)(Fe.a,{button:!0,onClick:function(){x("tag")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(nt.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Etiquetas"}),j?Object(E.jsx)(on.a,{}):Object(E.jsx)(dn.a,{})]}),Object(E.jsx)(tn.a,{in:j,timeout:"auto",unmountOnExit:!0,children:o&&o.sort().map((function(e){return Object(E.jsx)(_e.a,{component:"div",disablePadding:!0,children:Object(E.jsxs)(Fe.a,{button:!0,onClick:function(){return s(e.id)},style:{paddingLeft:40},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)($t.a,{style:{color:e.color}})}),Object(E.jsx)(Re.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(E.jsxs)(Fe.a,{button:!0,id:"/archive"===i&&"home-select",onClick:function(){return t("/archive")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(an.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Notas archivadas"})]}),Object(E.jsxs)(Fe.a,{button:!0,id:"/trash"===i&&"home-select",onClick:function(){return t("/trash")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(sn.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Papelera de reciclaje"})]}),!l&&Object(E.jsxs)(Fe.a,{button:!0,onClick:function(){return t("/edit profile")},children:[Object(E.jsx)(Pe.a,{children:Object(E.jsx)(On.a,{className:"white"})}),Object(E.jsx)(Re.a,{primary:"Configuraci\xf3n"})]})]})})]})}),xn=n(306),gn=n.n(xn),fn=n(305),Nn=n.n(fn),vn=n(308),wn=n.n(vn),yn=n(576),Cn=n(577),kn=function(e){var t=e.closeNote,n=e.collection,a=e.greeting,c=e.handleChange,s=e.inputValue,l=e.largeWidth,i=e.loading,o=e.note,r=e.onEdition,j=e.openNote,b=e.setDrawerOpen,u=e.setOpenColModal,m=e.user,h=Object(d.f)();return Object(E.jsxs)("div",{className:"nav-home d-flex align-items-center justify-content-between",children:[!l&&Object(E.jsx)("div",{children:j?Object(E.jsx)(O.a,{onClick:t,className:"btn white",children:Object(E.jsx)(Nn.a,{style:{width:"35px",height:"40px"}})}):Object(E.jsx)(O.a,{onClick:function(){return b(!0)},className:"btn white",children:Object(E.jsx)(Kt.a,{style:{width:"35px",height:"40px"}})})}),Object(E.jsxs)("div",{className:"ui transparent input input-search col-md-6",children:[l&&Object(E.jsx)(gn.a,{style:{color:"#FFF",marginRight:"20px",height:"100%"}}),Object(E.jsx)("input",{type:"text",placeholder:"Buscar...",onChange:c,id:"search-note",value:s})]}),Object(E.jsxs)("div",{className:l?"col-md-4 actions-note":"actions-note",children:[l&&(i?r.id&&Object(E.jsx)(y.a,{className:"loop-out"}):r.id&&Object(E.jsx)(yn.a,{title:"Cambios guardados",placement:"left",children:Object(E.jsx)(O.a,{id:"btn-home",style:{color:"white"},className:"btn white m-0",onClick:function(){},children:Object(E.jsx)(wn.a,{})})})),l&&Object(E.jsx)(yn.a,{title:"Configuraci\xf3n",placement:"left",children:Object(E.jsx)(O.a,{id:"btn-home",className:"btn white",onClick:function(){return h.push("/edit profile")},children:Object(E.jsx)(On.a,{})})}),j&&!l?Object(E.jsx)("div",{className:"all-center row m-1",children:o.collectionId?Object(E.jsx)(Cn.a,{clickable:!0,variant:"outlined",label:n.name,className:"chip-out",onClick:function(){return u(!0)},size:"small"}):Object(E.jsx)(Cn.a,{clickable:!0,color:"secondary",id:"back-blue",label:"A\xf1adir colecci\xf3n",onClick:function(){return u(!0)},size:"small"})}):Object(E.jsxs)(E.Fragment,{children:[l&&Object(E.jsxs)("div",{className:"mx-3",children:[Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting white display-6",children:"".concat(a,",")}),Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name white",children:"".concat(m.name,"!")})]}),m.profile_photo?Object(E.jsx)(Me.a,{alt:"profile_photo",className:"pe",imgProps:{draggable:!1},src:"data:".concat(m.profile_photo&&m.profile_photo.contentType,";base64, ").concat(m.profile_photo&&m.profile_photo.image)}):Object(E.jsxs)(Me.a,{alt:"profile_photo",className:"blue",children:[m.name&&m.name.slice(0,1)," ",m.lastname&&m.lastname.slice(0,1)]})]})]})]})},En=n(309),Sn=n.n(En),In=function(e){var t=e.collection,n=e.content,a=e.darkMode,c=e.date,s=e.editNote,l=e.hour,i=e.id,o=e.title;return Object(E.jsxs)("div",{className:"card note-card",id:a&&"dark-blue",onClick:function(){return s(i)},onKeyDown:function(){return s(i)},role:"button",tabIndex:0,children:[Object(E.jsx)("div",{className:"card-title",children:Object(E.jsx)("h3",{children:o.length>20?"".concat(o.slice(0,20),"..."):o||"Sin t\xedtulo"})}),Object(E.jsx)("div",{className:"card-text d-flex h-100",children:Object(E.jsx)("p",{children:n.length>200?"".concat(n.slice(0,100),"..."):n})}),Object(E.jsxs)("div",{className:"card-footer d-flex justify-content-between align-items-center px-0",id:a&&"dark-blue",children:[Object(E.jsx)("div",{className:"w-50",children:t&&Object(E.jsx)("span",{style:{backgroundColor:"#2185D0",borderRadius:10},className:"uk-label col-label",children:t.name})}),Object(E.jsx)("div",{className:"w-50 d-flex justify-content-end",children:Object(E.jsx)("p",{className:"date",children:"".concat(c," | ").concat(l)})})]})]})},Dn=function(e){var t=e.collections,n=e.darkMode,a=e.editNote,c=e.greeting,s=e.largeWidth,l=e.message,i=e.newNote,o=e.notes,r=e.onEdition,d=e.pathname,j=e.restartFilter,b=e.selectedFilter,u=e.user,m=[];return Object(E.jsx)("div",{className:s?"blue-aside notes-cont":"notes-cont",id:n&&"dark-border",children:Object(E.jsxs)("div",{className:"row full-height w-100",children:[Object(E.jsx)("div",{className:"col d-flex justify-content-between align-items-center directory",children:"/archive"===d?Object(E.jsx)("h4",{className:"display-6 white",children:"Notas archivadas"}):"/trash"===d?Object(E.jsx)("h4",{className:"display-5 white",children:"Papelera"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h4",{className:"display-5 white",children:"Notas"}),s?Object(E.jsx)(yn.a,{title:"Nueva nota",placement:"right",children:Object(E.jsx)(O.a,{className:"p-0 btn btn-add-note",style:{width:45,height:45},onClick:i,children:Object(E.jsx)(Wt.a,{className:"w-75 h-75 white"})})}):Object(E.jsxs)("div",{className:"d-flex row justify-content-end",children:[Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting display-6",children:"".concat(c,",")}),Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name",children:"".concat(u.name,"!")}),Object(E.jsx)("hr",{className:"my-1 w-25 pr-2",style:{marginRight:"10px"}})]})]})}),""!==b.name&&Object(E.jsx)("div",{className:"row d-flex align-items-center my-3",children:Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(E.jsx)("b",{className:"m-0 white khula",children:"".concat(b.type," seleccionada:")}),Object(E.jsx)(Cn.a,{label:b.name,onDelete:j,color:"secondary",className:"filter-selected"})]})}),Object(E.jsx)("div",{id:"notes-cont-3",className:0===o.length&&"all-center",children:0!==o.length?o&&o.map((function(e){var c=st()(e.updatedAt.slice(0,10),"YYYY-MM-DD").fromNow().split(" ");return Object(E.jsxs)(E.Fragment,{children:[("hour"===c[1]||"hours"===c[1]||"seconds"===c[1]||"minute"===c[1]||"minutes"===c[1]||"few"===c[1]||"in"===c[0])&&!m.includes("today")&&(m.push("today"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Hoy"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"day"===c[1]&&!m.includes("yesterday")&&(m.push("yesterday"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Ayer"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"days"===c[1]&&!m.includes("days")&&(m.push("days"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Dos d\xedas o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"days"===c[1]&&parseInt(c[0],10)>=7&&!m.includes("week")&&(m.push("week"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Una semana o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),("month"===c[1]||"months"===c[1])&&!m.includes("month")&&(m.push("month"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Un mes o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),("year"===c[1]||"years"===c[1])&&!m.includes("year")&&(m.push("year"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Un a\xf1o o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),Object(E.jsx)(In,{editNote:a,collection:t.filter((function(t){return t.id===e.collectionId}))[0],content:e.id===r.id?r.content:e.content,date:e.updatedAt&&st()(e.updatedAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY"),darkMode:n,hour:e.updatedAt&&Sn()(e.updatedAt).tz("America/Montevideo").format("HH:mm"),id:e.id,title:e.id===r.id?r.title:e.title},e.id)]})})):Object(E.jsxs)("div",{className:"all-center row w-75",children:[Object(E.jsx)("img",{draggable:!1,src:"svg/oops.svg",width:"50%",alt:"not-found",style:{marginBottom:"10%"}}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:l})})]})}),!s&&"/home"===d&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:i,children:Object(E.jsx)(Wt.a,{className:"add-icon"})})]})})},Tn=function(e){return function(t){try{s.a.get("/note/all/".concat(e)).then((function(e){t({type:U,notes:e.data,response:e.status})}))}catch(n){console.log(n)}}},An=function(e,t){return function(n){try{s.a.post("/note/".concat(t),{data:e}).then((function(e){return n({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:q})}))}catch(a){console.log(a)}}},Mn=function(e){return function(t){try{s.a.put("/note/".concat(e.id),{data:e}).then((function(e){t({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:B})}))}catch(n){console.log(n)}}},_n=n(566),Fn=n(312),Pn=n.n(Fn),Rn=n(314),Ln=n.n(Rn),zn=n(313),qn=n.n(zn),Gn=n(311),Yn=n.n(Gn),Un=n(139),Wn=n.n(Un),Bn=n(310),Kn=n.n(Bn),Vn=function(e){var t=e.addTag,n=e.changeRoute,a=e.collection,c=e.collections,s=e.deleteTag,l=e.duplicate,i=e.editCollection,o=e.handleChange,r=e.handleStateChange,d=e.largeWidth,j=e.mainDashboardNotes,b=e.openColModal,u=e.openTagModal,m=e.newNote,h=e.note,x=e.notes,g=e.onEdition,f=e.pathname,N=e.saveNote,w=e.setOpenColModal,y=e.setOpenDialog,C=e.setOpenTagModal,k=e.tags,S=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:h.collectionId?"Editar colecci\xf3n":"A\xf1adir colecci\xf3n"}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("div",{className:"tag-cont",children:c.length>0?c&&c.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(E.jsxs)("p",{className:"d-flex m-0",children:[Object(E.jsx)(et.a,{style:{color:"#2185D0"}}),"\xa0\xa0\xa0",e.name]}),e.id===h.collectionId?Object(E.jsx)(Cn.a,{deleteIcon:Object(E.jsx)(v.a,{style:{color:"#2185D0"}}),label:"Seleccionada",onDelete:function(){i(null),w(!1)},size:"small",variant:"outlined",color:"primary"}):Object(E.jsx)(O.a,{className:"btn",onClick:function(){i(e.id),w(!1)},children:Object(E.jsx)(Wt.a,{})})]},e.id),Object(E.jsx)("hr",{})]})})):Object(E.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,className:"scale-sm",alt:""})}),Object(E.jsx)("p",{className:"all-center mt-4",children:Object(E.jsx)("b",{children:"Aun no tienes colecciones"})})]})}),Object(E.jsx)(E.Fragment,{children:c.length>0?Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags/col")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Nueva colecci\xf3n"]})})}):Object(E.jsx)("div",{className:"w-100 my-3 all-center",children:Object(E.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags/col")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Crear nueva colecci\xf3n"]})})})})]}),I=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsxs)("div",{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:d?"A\xf1adir etiquetas":"Editar etiquetas"}),Object(E.jsx)("hr",{})]}),Object(E.jsx)("div",{className:"tag-cont",children:k.length>0?k&&k.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(E.jsxs)("p",{className:"d-inline m-0",children:[Object(E.jsx)(Wn.a,{style:{color:e.color}}),"\xa0\xa0\xa0",e.name]}),h.tags&&h.tags.map((function(e){return e.name})).includes(e.name)?d?Object(E.jsx)(Yt.a,{style:{margin:12,color:"#198754"}}):Object(E.jsx)(O.a,{className:"btn",onClick:function(){return s(g.id,e.id)},children:Object(E.jsx)(Kn.a,{style:{color:"#dc3545"}})}):Object(E.jsx)(O.a,{className:"btn",onClick:function(){return t(g.id,e.id)},children:Object(E.jsx)(Wt.a,{className:"green"})})]},e.id),Object(E.jsx)("hr",{})]})})):Object(E.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,className:"scale-sm",alt:""})}),Object(E.jsx)("p",{className:"all-center mt-4",children:Object(E.jsx)("b",{children:"Aun no tienes etiquetas"})})]})}),k.length>0?Object(E.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center my-3",children:[Object(E.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Nueva etiqueta"]})}),Object(E.jsx)("button",{className:"btn btn-success btn-round w-25",onClick:function(){return C(!1)},type:"button",children:"Listo"})]}):Object(E.jsx)("div",{className:"w-100 all-center my-3",children:Object(E.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Crear nueva etiqueta"]})})})]});return Object(E.jsx)("div",{className:"full-height",children:g.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"row w-100",style:{height:"93%"},children:[Object(E.jsxs)("div",{className:"ui transparent input input-title mx-3 w-100",children:[Object(E.jsx)(p.a,{open:b,onClose:function(){return w(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:S}),Object(E.jsx)(p.a,{open:u,onClose:function(){return C(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:I}),Object(E.jsx)("input",{className:d?"w-50":"w-100",autoComplete:"off",type:"text",placeholder:"T\xedtulo...",value:g.title||"",name:"title",onChange:o,id:"note-title"}),d&&Object(E.jsx)("div",{className:"all-center row",children:h.collectionId?Object(E.jsx)(Cn.a,{clickable:!0,variant:"outlined",color:"primary",icon:Object(E.jsx)(et.a,{}),label:a.name,onClick:function(){return w(!0)}}):Object(E.jsx)(Cn.a,{clickable:!0,color:"primary",id:"back-blue",icon:Object(E.jsx)(Wt.a,{}),label:"A\xf1adir colecci\xf3n",onClick:function(){return w(!0)}})})]}),Object(E.jsx)("div",{className:"ui transparent textarea w-100 h-90",children:Object(E.jsx)("textarea",{placeholder:"Deja flu\xedr tus ideas...",className:"note-content w-100",value:g.content||"",name:"content",onChange:o,onKeyUp:N,onPaste:N})})]}),Object(E.jsxs)("div",{className:"actions-notes p-0 m-0 pl-3 row w-100",children:[d&&Object(E.jsxs)("div",{className:"col-md-9 m-0 d-flex align-items-center",children:[h.tags&&h.tags.map((function(e,t){return t<5&&Object(E.jsx)("div",{className:"tab-indicator mx-1 px-2",style:{backgroundColor:e.color},children:Object(E.jsxs)("div",{className:"col d-flex align-items-center justify-content-between h-100 w-100",children:[Object(E.jsx)("p",{className:"overflow-hidden",children:e.name}),Object(E.jsx)(yn.a,{title:"Quitar etiqueta de la nota",placement:"right",children:Object(E.jsx)(O.a,{className:"p-0 btn",id:"delete-tag",onClick:function(){return s(g.id,e.id)},children:Object(E.jsx)(v.a,{})})})]})},e.id)})),h.tags&&h.tags.length>5&&Object(E.jsx)(_n.a,{className:"mx-2",badgeContent:"+".concat(h.tags.length-5),color:"primary",children:Object(E.jsx)(Wn.a,{})}),Object(E.jsx)(yn.a,{title:"A\xf1adir etiqueta",placement:"right",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return C(!0)},children:Object(E.jsx)(Wt.a,{})})})]}),Object(E.jsxs)("div",{className:d?"col-md-3 m-0 d-flex justify-content-end align-items-center":"m-0 d-flex justify-content-between align-items-center",children:[!d&&Object(E.jsxs)("div",{className:"d-flex align-items-center tag-cont-show",children:[h.tags&&h.tags.map((function(e,t){return t<2&&Object(E.jsx)("div",{className:"tab-indicator mx-1 px-1",style:{backgroundColor:e.color},children:Object(E.jsx)("div",{className:"col d-flex align-items-center justify-content-center h-100",children:Object(E.jsx)("p",{children:e.name})})},e.id)})),h.tags&&h.tags.length>2?Object(E.jsx)(_n.a,{className:"mx-2",badgeContent:h.tags&&h.tags.length>2&&"+".concat(h.tags.length-2),color:"primary",children:Object(E.jsx)(O.a,{className:"btn p-0",title:"A\xf1adir etiqueta",onClick:function(){return C(!0)},children:Object(E.jsx)(Wn.a,{})})}):Object(E.jsx)(O.a,{className:"btn",title:"A\xf1adir etiqueta",onClick:function(){return C(!0)},children:Object(E.jsx)(Wn.a,{})})]}),Object(E.jsxs)("div",{children:["/home"===f&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(yn.a,{title:"Duplicar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:l,children:Object(E.jsx)(Yn.a,{})})})}),"/archive"===f?Object(E.jsx)(yn.a,{title:"Desarchivar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("main-dashboard","Nota desarchivada")},children:Object(E.jsx)(Pn.a,{})})}):Object(E.jsx)(yn.a,{title:"Archivar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("archive","Nota archivada")},children:Object(E.jsx)(an.a,{})})}),"/trash"===f?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(yn.a,{title:"Eliminar nota",placement:"top",children:[Object(E.jsx)(O.a,{className:"btn",onClick:function(){return y(!0)},children:Object(E.jsx)(qn.a,{})}),Object(E.jsx)(yn.a,{title:"Restaurar",placement:"top"}),Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("main-dashboard","Nota restaurada")},children:Object(E.jsx)(Ln.a,{})})]})}):Object(E.jsx)(yn.a,{title:"Mover a la papelera",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("trash","Nota movida a papelera")},children:Object(E.jsx)(sn.a,{})})}),d&&Object(E.jsx)(yn.a,{title:"Fecha de creaci\xf3n",placement:"top",children:Object(E.jsx)("b",{style:{cursor:"default"},children:Object(E.jsx)("small",{children:h.createdAt&&st()(h.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY")})})})]})]})]})]}):Object(E.jsx)("div",{className:"all-center full-height row",children:j&&0===j.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/add-note.svg",alt:"",style:{height:"75%"},className:"scale-sm",draggable:!1}),Object(E.jsxs)("div",{className:"all-center row",children:[Object(E.jsx)("b",{className:"all-center",children:"Al parecer a\xfan no tienes notas"}),Object(E.jsxs)("button",{className:"btn btn-round my-3 btn-sm btn-primary w-25 all-center",onClick:m,type:"button",children:[Object(E.jsx)(Wt.a,{}),"\xa0\xa0Crea tu primera nota"]})]})]}):x&&0===x.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/not-found.svg",alt:"",style:{height:"80%"},className:"scale-sm",draggable:!1}),Object(E.jsx)("b",{className:"all-center",children:"No hemos encontrado resultados"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/select.svg",alt:"",style:{height:"80%"},className:"scale-sm",draggable:!1}),Object(E.jsx)("b",{className:"select-text",children:"Selecciona una nota para ver su contenido o editarla"})]})})})},Hn=function(){var e=Object(o.b)(),t=Object(d.f)(),n=Object(o.c)((function(e){return e.notes})),c=Object(o.c)((function(e){return e.tags})),l=Object(o.c)((function(e){return e.collections})),i=Object(o.c)((function(e){return e.users})),r=Object(a.useState)({content:"",title:""}),m=Object(u.a)(r,2),p=m[0],x=m[1],g=Object(a.useState)({open:!1,message:"",undo:!0}),f=Object(u.a)(g,2),N=f[0],w=f[1],y=Object(a.useState)({type:"",name:""}),C=Object(u.a)(y,2),k=C[0],S=C[1],I=Object(a.useState)(!1),D=Object(u.a)(I,2),T=D[0],A=D[1],M=Object(a.useState)(!0),_=Object(u.a)(M,2),F=_[0],P=_[1],R=Object(a.useState)(!1),q=Object(u.a)(R,2),U=q[0],B=q[1],K=Object(a.useState)(0),V=Object(u.a)(K,2),H=V[0],$=V[1],J=Object(a.useState)(!1),X=Object(u.a)(J,2),Q=X[0],Z=X[1],ee=Object(a.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),se=Object(u.a)(ce,2),le=se[0],re=se[1],de=Object(a.useState)(""),je=Object(u.a)(de,2),ue=je[0],me=je[1],he=Object(a.useState)(!1),Oe=Object(u.a)(he,2),pe=Oe[0],xe=Oe[1],ge=Object(a.useState)(!1),fe=Object(u.a)(ge,2),Ne=fe[0],ve=fe[1],we=sessionStorage.getItem("id")||localStorage.getItem("id"),ye=sessionStorage.getItem("token")||localStorage.getItem("token"),Ce=t.location.pathname,ke=1===i.user.id;Object(a.useEffect)((function(){null===ye&&t.push("/login")}),[t]),Object(a.useEffect)((function(){return we&&(e(oe(we)),e(Zt(we)),e(Qt(we)),e(Tn(we)),e(be(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")))),function(){p.id&&e(Mn(Object(b.a)(Object(b.a)({},n.note),{},{title:p.title,content:p.content}))),1===i.user.id&&e(ie())}}),[]),Object(a.useEffect)((function(){i.user.id&&i.user.name&&(P(!1),ye!==i.token&&t.push("/login"))}),[i.user.id]),n.notes&&n.notes.sort((function(e,t){return e.updatedAt>t.updatedAt?-1:e.updatedAt<t.updatedAt?1:0}));var Ee=n.notes&&n.notes.filter((function(e){return"main-dashboard"===e.state})),Se=n.notes&&n.notes.filter((function(e){return"archive"===e.state})),Ie=n.notes&&n.notes.filter((function(e){return"trash"===e.state})),De=window.screen.width>600,Te=st()().hour(),Me="";Me=Te>4&&Te<12?"Buen d\xeda":Te>=12&&Te<19?"Buenas tardes":"Buenas noches";var _e="";_e=ue.length>2?"No hay coincidencias":"/trash"===Ce?"No hay notas en la papelera":"/archive"===Ce?"No hay notas archivadas":"No hay notas";var Fe=function(e,t,n){w(201===t?{open:!0,message:e,undo:n}:{open:!0,message:"Ha ocurrido un error",undo:!1})},Pe=function(){p.title===n.note.title&&p.content===n.note.content||(A(!0),e(Mn(p)),setTimeout((function(){A(!1)}),500))},Re=function(t,n){e(function(e,t){return function(n){try{s.a.post("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:L,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n)),setTimeout((function(){e(Tn(we))}),500)},Le=function(){$(H+1),H>=10&&(A(!0),$(0),e(Mn(p)),setTimeout((function(){A(!1)}),2e3))},Be=function(e){t.push(e),B(!1),x({title:"",content:""}),Z(!1),S({name:"",type:""})},Ke=function(){w(Object(b.a)(Object(b.a)({},N),{},{open:!1}))},Ve=function(t,n){e(function(e,t){return function(n){try{s.a.delete("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:Y,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n))},He=function(){e(An({title:"",content:""},we))},$e=function(){p.id&&e(An(Object(b.a)(Object(b.a)({},n.note),{},{title:p.title,content:p.content}),we)),Fe("Nota duplicada",n.response,!1)},Je=function(t){e(Mn(Object(b.a)(Object(b.a)({},n.note),{},{collectionId:t})))},Xe=function(e){Z(!1),S({type:"Colecci\xf3n",name:l.collections.filter((function(t){return t.id===e}))[0].name}),B("/trash"===Ce?Ie.filter((function(t){return t.collectionId===e})):"/archive"===Ce?Se.filter((function(t){return t.collectionId===e})):Ee.filter((function(t){return t.collectionId===e})))},Qe=function(e){Z(!1),S({type:"Etiqueta",name:c.tags.filter((function(t){return t.id===e}))[0].name}),B("/trash"===Ce?Ie.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):"/archive"===Ce?Se.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):Ee.filter((function(t){return t.tags.some((function(t){return t.id===e}))})))},Ze=function(e){x(Object(b.a)(Object(b.a)({},p),{},Object(j.a)({},e.target.name,e.target.value)))},et=function(t,a){ke?Fe("Acci\xf3n no permitida en modo invitado",201,!1):(e(function(e,t){return function(n){try{s.a.delete("/note/".concat(e,"/").concat(t)).then((function(e){return n({message:e.data.message,notes:e.data.notes,response:e.status,type:G})}))}catch(a){console.log(a)}}}(t,a)),x({title:"",content:""}),re(!1),Fe("Nota eliminada",n.response,!1))},tt=function(t,a){var c;e((c=Object(b.a)(Object(b.a)({},n.note),{},{state:t}),function(e){try{s.a.put("/note/state/".concat(c.id),{data:c}).then((function(t){return e({notes:t.data,response:t.status,type:z})}))}catch(t){console.log(t)}})),x({title:"",content:""}),re(!1),Fe(a,n.response,!0)},nt=Ee.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),at=Ie.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),ct=Se.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),lt=U&&U.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)}));return Object(E.jsx)("div",{className:De?"row full-height overflow-hidden":"row full-height overflow-hidden bs-gutter",children:F?Object(E.jsx)(yt,{}):Object(E.jsxs)(E.Fragment,{children:[De?Object(E.jsx)("div",{className:"col-md-2 login-bg full-height p-0",children:Object(E.jsx)(pn,{changeRoute:Be,filterTags:Qe,filterCollections:Xe,largeWidth:De,tags:c.tags,collections:l.collections,pathname:Ce})}):Object(E.jsx)(Ae.a,{open:Q,onClose:function(){return Z(!1)},children:Object(E.jsx)("div",{className:"col-md-2 login-bg full-height",children:Object(E.jsx)(pn,{changeRoute:Be,filterTags:Qe,filterCollections:Xe,largeWidth:De,tags:c.tags,collections:l.collections,pathname:Ce})})}),Object(E.jsxs)("div",{className:"col-md-10 row full-height mr-0",id:"notes-cont-4",children:[Object(E.jsx)(kn,{closeNote:function(){Pe(),re(!1),setTimeout((function(){x({title:"",content:""})}),1e3)},collection:l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],greeting:Me,handleChange:function(e){me(e.target.value)},inputValue:ue,largeWidth:De,loading:T,note:n.note,onEdition:p,openNote:le,saveNote:Pe,setDrawerOpen:Z,setOpenColModal:ve,user:i.user}),Object(E.jsxs)("div",{className:"row h-95 note-cont-4",children:[Object(E.jsx)("div",{className:"col-md-3 bs-gutter full-height",children:le&&!De&&p.id?Object(E.jsx)(Vn,{addTag:Re,automaticSave:Le,changeRoute:Be,collection:n.note.collectionId&&l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:l.collections,deleteTag:Ve,duplicate:$e,editCollection:Je,handleChange:Ze,handleStateChange:tt,largeWidth:De,note:n.note,mainDashboardNotes:Ee,notes:!1!==U?ue.length>=3?lt:U:"/archive"===Ce?ue.length>=3?ct:Se:"/trash"===Ce?ue.length>=3?at:Ie:ue.length>=3?nt:Ee,onEdition:p,openColModal:Ne,openTagModal:pe,pathname:Ce,saveNote:Pe,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:c.tags}):Object(E.jsx)(Dn,{collections:l.collections,darkMode:i.darkMode,editNote:function(t){var a=n.notes.filter((function(e){return e.id===t}));p.id&&Pe(),setTimeout((function(){x(a[0]),e(function(e){return function(t){try{s.a.get("/note/".concat(e)).then((function(e){return t({type:W,note:e.data,response:e.status})}))}catch(n){console.log(n)}}}(t)),De||re(!0)}),500)},greeting:Me,largeWidth:De,message:_e,newNote:He,notes:!1!==U?ue.length>=3?lt:U:"/archive"===Ce?ue.length>=3?ct:Se:"/trash"===Ce?ue.length>=3?at:Ie:ue.length>=3?nt:Ee,onEdition:p,pathname:Ce,restartFilter:function(){S({type:"",name:""}),Be("/home")},selectedFilter:k,user:i.user})}),De&&Object(E.jsx)("div",{className:"col-md-9 bs-gutter full-height",children:Object(E.jsx)(Vn,{addTag:Re,allNotes:n.notes,automaticSave:Le,changeRoute:Be,collection:n.note.collectionId&&l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:l.collections,deleteTag:Ve,duplicate:$e,editCollection:Je,handleChange:Ze,handleStateChange:tt,largeWidth:De,mainDashboardNotes:Ee,newNote:He,note:n.note,notes:!1!==U?ue.length>=3?lt:U:"/archive"===Ce?ue.length>=3?ct:Se:"/trash"===Ce?ue.length>=3?at:Ie:ue.length>=3?nt:Ee,onEdition:p,openColModal:Ne,openTagModal:pe,pathname:Ce,saveNote:Pe,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:c.tags})})]})]}),Object(E.jsxs)(ze.a,{open:ne,onClose:function(){return ae(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(qe.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la nota?"}),Object(E.jsx)(Ue.a,{children:Object(E.jsx)(We.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la nota la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(Ge.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",color:"primary",onClick:function(){return ae(!1)},children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",color:"primary",onClick:function(){et(p.id,p.userId),ae(!1)},children:"Eliminar"})]})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:N.open,autoHideDuration:5e3,onClose:Ke,message:N.message,action:Object(E.jsxs)(E.Fragment,{children:[N.undo&&"Acci\xf3n desecha"!==N.message?Object(E.jsx)(Ye.a,{className:"btn",color:"inherit",size:"small",onClick:function(){tt("/home"===Ce?"main-dashboard":Ce.slice(1),"Acci\xf3n desecha")},children:"Deshacer"}):null,Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:Ke,children:Object(E.jsx)(v.a,{fontSize:"small"})})]})})]})})},$n=function(){return Object(E.jsx)("div",{className:"all-center w-100 h-100 login-bg",children:Object(E.jsx)("img",{src:"svg/not_found.svg",width:"50%",alt:"",draggable:"false"})})};n(283),n(478);var Jn=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.users.darkMode})),n=document.getElementsByTagName("body")[0];return Object(a.useEffect)((function(){n.setAttribute("id",t?"dark":"light")}),[t,n]),setInterval((function(){e(ie)}),2e5),Object(E.jsx)("div",{className:"App full-height",children:Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{exact:!0,path:"/",component:Ie}),Object(E.jsx)(d.a,{exact:!0,path:"/login",component:ue}),Object(E.jsx)(d.a,{exact:!0,path:"/reset-password",component:xe}),Object(E.jsx)(d.a,{exact:!0,path:"/sign-up",component:Ce}),Object(E.jsx)(d.a,{exact:!0,path:"/edit profile",component:Ct}),Object(E.jsx)(d.a,{exact:!0,path:"/collections tags/:type?",component:en}),Object(E.jsx)(d.a,{exact:!0,path:"/home",component:Hn}),Object(E.jsx)(d.a,{exact:!0,path:"/trash",component:Hn}),Object(E.jsx)(d.a,{exact:!0,path:"/archive",component:Hn}),Object(E.jsx)(d.a,{component:$n})]})})},Xn=n(124),Qn=n(315),Zn={note:{},notes:[],message:"",response:""},ea={collection:{},collections:[],message:"",response:""},ta={tag:{},tags:[],message:"",response:""},na={code:null,darkMode:"",message:"",response:"",token:"",user:{},users:[]},aa=Object(Xn.b)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,response:t.response});case q:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case U:return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,response:t.response});case W:return Object(b.a)(Object(b.a)({},e),{},{note:t.note,response:t.response});case B:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case G:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,notes:t.notes,response:t.response});case Y:case L:return Object(b.a)(Object(b.a)({},e),{},{note:t.note,response:t.response});case se:return{note:{},notes:[],message:"",response:""};default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(b.a)(Object(b.a)({},e),{},{tag:t.tag});case V:return Object(b.a)(Object(b.a)({},e),{},{tags:t.tags});case $:case J:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response,tag:t.tag,tags:t.tags});case X:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response,tags:t.tags});case se:return{tag:{},tags:[],message:"",response:""};default:return e}},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(b.a)(Object(b.a)({},e),{},{collection:t.collection});case M:return Object(b.a)(Object(b.a)({},e),{},{collections:t.collections});case F:case P:return Object(b.a)(Object(b.a)({},e),{},{collection:t.collection,collections:t.collections,message:t.message,response:t.response});case R:return Object(b.a)(Object(b.a)({},e),{},{collections:t.collections,message:t.message,response:t.response});case se:return{collection:{},collections:[],message:"",response:""};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(b.a)(Object(b.a)({},e),{},{darkMode:t.darkMode});case ee:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,token:t.token});case ne:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response});case Q:case Z:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case te:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,response:t.response});case ae:return Object(b.a)(Object(b.a)({},e),{},{code:t.code,message:t.message,response:t.response,user:t.user});case ce:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,response:t.response});case se:return{user:{},users:[],response:"",token:""};case le:return Object(b.a)(Object(b.a)({},e),{},{token:t.token});default:return e}}}),ca=aa,sa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Xn.c,la=Object(Xn.d)(ca,sa(Object(Xn.a)(Qn.a))),ia=document.getElementById("root");s.a.defaults.baseURL="https://notatky.herokuapp.com",i.a.render(Object(E.jsx)(o.a,{store:la,children:Object(E.jsx)(r.a,{history:A,children:Object(E.jsx)(Jn,{})})}),ia)}},[[479,1,2]]]);
//# sourceMappingURL=main.639758c7.chunk.js.map