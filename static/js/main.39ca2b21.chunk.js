(this.webpackJsonpnotatky=this.webpackJsonpnotatky||[]).push([[0],{180:function(e,t,n){},224:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},368:function(e,t,n){},369:function(e,t,n){},376:function(e,t){},378:function(e,t){},389:function(e,t){},391:function(e,t){},416:function(e,t){},418:function(e,t){},419:function(e,t){},424:function(e,t){},426:function(e,t){},445:function(e,t){},457:function(e,t){},460:function(e,t){},465:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n(20),l=n.n(s),i=n(15),o=n.n(i),r=n(21),d=n(39),j=n(26),b=(n(223),n(224),n(31)),u=n(4),m=n(8),h=n(553),O=n(556),p=n(468),x=n(471),g=n(552),f=n(109),N=n.n(f),v=n(57),w=n.n(v),y=n(79),C=n.n(y),k=n(85),E=n.n(k),S=(n(180),function(){return Object(a.jsx)("div",{className:"main-logo",children:Object(a.jsxs)("h1",{className:"login-title unselectable h-100",id:"white-col",children:[Object(a.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",className:"logo-nav",draggable:"false"}),"NotatKy"]})})}),I=n(204),D=n.n(I),T=n(285),A=n(47),M=Object(A.a)(),_="GET_ALL_COLLECTIONS",F="GET_ONE_COLLECTION",R="CREATE_COLLECTION",P="UPDATE_COLLECTION",L="DELETE_COLLECTION",z="ADD_NOTE_TAG",q="CHANGE_NOTE_STATE",G="CREATE_NOTE",Y="DELETE_NOTE",U="DELETE_NOTE_TAG",W="GET_ALL_NOTES",B="GET_ONE_NOTE",V="UPDATE_NOTE",H="DARK_MODE",K="GET_ALL_TAGS",$="GET_ONE_TAG",J="CREATE_TAG",X="UPDATE_TAG",Q="DELETE_TAG",Z="GET_ALL_MAILS",ee="GET_ALL_USERS",te="GET_ONE_USER",ne="CREATE_USER",ae="GUEST_USER",ce="RESET_PASSWORD",se="UPDATE_USER",le="LOGOUT",ie="LOGIN",oe=function(){return function(){var e=Object(T.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.delete("/guest/deleteAditionalData");case 3:l.a.put("/guest/chargeData").then((function(e){t({type:ae,message:e.data,response:e.status})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},re=function(e){return function(t){try{l.a.get("/user/".concat(e)).then((function(e){return t({type:te,user:e.data,token:sessionStorage.getItem("token")||localStorage.getItem("token")})}))}catch(n){console.log(n)}}},de=function(e){return function(t){try{l.a.put("/user/".concat(e.id),{data:e}).then((function(e){t({type:se,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},je=function(e){return function(t){try{l.a.put("/user/password/".concat(e.id),{data:e}).then((function(e){t({type:se,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},be=function(e,t){return function(n){try{l.a.post("/auth/login",e).then((function(e){n({type:ie,token:e.data.token}),t?(localStorage.setItem("token",e.data.token),localStorage.setItem("id",e.data.user.id)):(sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("id",e.data.user.id)),M.push("/NotatKy/#/home"),location.reload()}))}catch(a){console.log(a)}}},ue=function(e){return function(t){try{localStorage.setItem("darkMode",e),t({type:H,darkMode:e})}catch(n){console.log(n)}}},me=function(){var e=Object(j.f)(),t=sessionStorage.getItem("token")||localStorage.getItem("token"),n=window.screen.width>600,s=window.screen.width>350,l=Object(r.b)(),i=Object(c.useState)(!1),o=Object(m.a)(i,2),f=o[0],v=o[1],y=Object(c.useState)({open:!1,message:""}),k=Object(m.a)(y,2),I=k[0],D=k[1],T=Object(c.useState)({email:"",password:""}),A=Object(m.a)(T,2),M=A[0],_=A[1];Object(c.useEffect)((function(){t&&e.push("/home")}));var F=function(e){_(Object(u.a)(Object(u.a)({},M),{},Object(b.a)({},e.target.name,e.target.value)))},R=function(e,n){e.preventDefault(),v(!1),D({open:!0,message:"Cargando..."}),""!==M.email&&""!==M.password||D({open:!0,message:"Completa todos los campos"}),/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(M.email)?("admin@admin.com"===M.email&&l(oe()),l(be(M,n)),setTimeout((function(){t||D({open:!0,message:"Los datos ingresados no son correctos"})}),4e3)):D({open:!0,message:"Ingrese un correo v\xe1lido"})},P=Object(a.jsx)("div",{className:n?"modal-col w-50":"modal-col w-100 h-100",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:n?"\xbfRECORDAR INFORMACI\xd3N DE SESI\xd3N?":"RECORDAR DATOS"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/save-data.svg",width:n?"60%":"100%",alt:"",className:"mb-2",draggable:"false"})}),Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{className:"all-center",children:"Para tu comodidad, no te solicitaremos los datos al ingresar nuevamente."})}),Object(a.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100",children:[Object(a.jsx)(g.a,{color:"green",className:n?"textfield button my-2 w-25":"textfield button my-2 w-50",id:"login-submit",onClick:function(e){return R(e,!0)},type:"button",children:"S\xcd"}),Object(a.jsx)(g.a,{color:"red",className:n?"textfield button my-2 w-25":"textfield button my-2 w-50",id:"login-submit",onClick:function(e){return R(e,!1)},type:"button",children:"NO"})]})]})});return Object(a.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[n&&Object(a.jsx)("div",{className:"logo-cont",children:Object(a.jsx)(S,{})}),Object(a.jsxs)("div",{className:"card-round card d-flex justify-content-between",children:[Object(a.jsxs)("form",{className:"all-center row",children:[Object(a.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"INICIO DE SESI\xd3N"}),Object(a.jsx)("hr",{className:"bs-gutter"}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/login.svg",width:"90%",alt:"",className:"mb-2 img-card pe",draggable:"false"})}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(a.jsx)(N.a,{}),Object(a.jsx)(h.a,{className:"textfield",InputProps:{autoComplete:"email"},label:"Correo electr\xf3nico",name:"email",onChange:F,autoComplete:"email",value:M.email})]}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(h.a,{className:"textfield",InputProps:{autoComplete:"current-password"},label:"Contrase\xf1a",name:"password",value:M.password,onChange:F,type:"password"})]}),Object(a.jsx)(g.a,{color:"purple",disabled:0===M.email.length||0===M.password.length,className:"total-width button my-2",id:"login-submit",type:"button",onClick:function(){return v(!0)},children:"INICIAR SESI\xd3N"})]}),Object(a.jsxs)("div",{className:"login-sign-up mt-3 row bs-gutter",children:[Object(a.jsx)("div",{children:Object(a.jsx)("p",{className:"login-p line-aside line-aside-bl",children:"\xbfNo tienes una cuenta?"})}),Object(a.jsx)(d.b,{to:"/sign-up",className:s?"sign-up-btn ui btn mt-3":"d-flex justify-content-center login-p mt-3",children:"REGISTRATE"}),Object(a.jsx)("hr",{className:"mt-4 mb-3 hr-pad"}),Object(a.jsx)(d.b,{to:"/reset-password",className:"d-flex justify-content-center login-p",children:"\xbfOlvidaste tu contrase\xf1a?"})]})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:I.open,autoHideDuration:5e3,onClose:function(){return D(!1)},message:I.message,action:"Cargando..."===I.message?Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",children:Object(a.jsx)(C.a,{className:"loop-out"})}):Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return D(!1)},children:Object(a.jsx)(w.a,{fontSize:"small"})})}),Object(a.jsx)(x.a,{open:f,onClose:function(){return v(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:P})]})},he=n(175),Oe=n(557),pe=n(522),xe=n(555),ge=function(){var e=Object(r.b)(),t=Object(c.useState)({open:null,message:null}),n=Object(m.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)({new1:"",new2:""}),d=Object(m.a)(o,2),j=d[0],b=d[1],x=Object(c.useState)({new1:!1,new2:!1}),f=Object(m.a)(x,2),v=f[0],y=f[1],k=Object(c.useState)(""),I=Object(m.a)(k,2),D=I[0],T=I[1],A=Object(c.useState)(1),M=Object(m.a)(A,2),_=M[0],F=M[1],R=Object(c.useState)(Object(he.a)(Array(6)).map((function(){return""}))),P=Object(m.a)(R,2),L=P[0],z=P[1],q=Object(c.useState)(!1),G=Object(m.a)(q,2),Y=G[0],U=G[1],W=Object(c.useRef)([]),B=window.screen.width>600,V=window.screen.width<350,H=Object(r.c)((function(e){return e.users}));Object(c.useEffect)((function(){"verified"===H.code?(i({message:null,open:!1}),F(3)):H.code&&null!==H.code&&6===H.code.length&&(i({message:null,open:!1}),F(2))}),[H.code]);var K=function(e){1===e&&(j.new1.length<6?y(Object(u.a)(Object(u.a)({},v),{},{new1:!0})):y(Object(u.a)(Object(u.a)({},v),{},{new1:!1}))),2===e&&(j.new1!==j.new2?y(Object(u.a)(Object(u.a)({},v),{},{new2:!0})):y(Object(u.a)(Object(u.a)({},v),{},{new2:!1})))};return Object(a.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[B&&Object(a.jsx)("div",{className:"logo-cont",children:Object(a.jsx)(S,{})}),Object(a.jsxs)("div",{className:"d-flex full-height justify-content-center align-items-end row p-0",children:[Object(a.jsxs)("div",{className:"reset-pw card card-round d-flex justify-content-between",children:[Object(a.jsxs)("form",{children:[Object(a.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"RESTABLECER CONTRASE\xd1A"}),Object(a.jsx)("hr",{}),1===_&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/forgot_password.svg",width:"90%",alt:"",className:"mb-3",draggable:"false"})}),Object(a.jsx)("b",{className:"all-center mb-3",children:"\xbfNo recuerdas tu contrase\xf1a?"}),Object(a.jsx)("p",{className:"login-p",children:"Te enviaremos un correo electr\xf3nico para que puedas reestablecerla..."}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(a.jsx)(N.a,{}),Object(a.jsx)(h.a,{className:"textfield",label:"Correo electr\xf3nico",onChange:function(e){T(e.target.value)}})]}),Object(a.jsx)(g.a,{color:"purple",className:"total-width button mt-3",id:"login-submit",onClick:function(t){t.preventDefault(),i({message:"Cargando...",open:!0}),"admin@admin.com"===D?i({message:"No se puede cambiar la contrase\xf1a de esta cuenta",open:!0}):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(D)?e(function(e){return function(t){try{l.a.post("/user/reset-password/".concat(e)).then((function(e){t({type:ce,code:e.data.code||null,message:e.data.message,response:e.status,user:e.data.user||{}})}))}catch(n){console.log(n)}}}(D)):i({message:"Ingrese un correo v\xe1lido",open:!0})},children:"ENVIAR"})]}),2===_&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/mail-sent.svg",width:"80%",alt:"",className:"mb-3",draggable:"false"})}),Object(a.jsx)("b",{className:"all-center mb-3",children:"\xa1Revisa tu correo!"}),Object(a.jsx)("p",{className:"login-p",children:"Introduce el c\xf3digo de verificaci\xf3n que hemos enviado a tu correo electr\xf3nico..."}),Object(a.jsx)("div",{className:"code-inputs",children:L.map((function(e,t){return Object(a.jsx)("input",{type:"text",autoComplete:"new-password",inputMode:"numeric",maxLength:1,value:e,autoFocus:!L[0].length&&0===t,readOnly:Y,onChange:function(e){return function(e,t){var n=e.target.value;if(!/[^0-9]/.test(n)){var a=Object(he.a)(L);a[t]=n,z(a),5!==t&&W.current[t+1].focus(),a.every((function(e){return""!==e}))&&(U(!0),setTimeout((function(){return U(!1)}),5e3))}}(e,t)},onKeyUp:function(e){return function(e,t){if(8===e.keyCode&&!L[t]&&0!==t){var n=Object(he.a)(L);n[t-1]="",z(n),W.current[t-1].focus()}}(e,t)},ref:function(e){return W.current.push(e)}},t)}))}),Object(a.jsx)(g.a,{color:"purple",className:"total-width button mt-3",id:"login-submit",onClick:function(e){e.preventDefault(),0===L.length?i({message:"Ingrese el c\xf3digo de verificaci\xf3n",open:!0}):L.join("")===H.code?(i({message:"C\xf3digo de verificaci\xf3n correcto",open:!0}),setTimeout((function(){F(_+1)}),1e3)):i({message:"C\xf3digo de verificaci\xf3n incorrecto",open:!0})},value:D,children:"VERIFICAR"})]}),3===_&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/password.svg",width:"100%",alt:"",className:"mb-3",draggable:"false"})}),Object(a.jsx)("p",{className:"login-p",children:"Introduce una nueva contrase\xf1a..."}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(h.a,{className:"textfield",error:v.new1,helperText:v.new1&&"La contrase\xf1a debe tener al menos seis caracteres",label:"Contrase\xf1a nueva",onBlur:function(){return K(1)},onChange:function(e){return b(Object(u.a)(Object(u.a)({},j),{},{new1:e.target.value}))},type:"password",value:j.new1})]}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(h.a,{className:"textfield",error:v.new2,helperText:v.new2&&"Las contrase\xf1as no coinciden",label:"Repetir contrase\xf1a",onBlur:function(){return K(2)},onChange:function(e){return b(Object(u.a)(Object(u.a)({},j),{},{new2:e.target.value}))},type:"password",value:j.new2})]}),Object(a.jsx)(g.a,{color:"purple",className:"total-width button mt-3",disabled:v.new1||v.new2,id:"login-submit",onClick:function(t){t.preventDefault(),j.new1&&j.new2?(e(je(Object(u.a)(Object(u.a)({},H.user),{},{password:j.new1}))),i({open:!0,message:"Contrase\xf1a actualizada"}),b({new1:"",new2:""})):i({open:!0,message:"Complete los campos requeridos"})},children:"ACTUALIZAR"})]})]}),!B&&!V&&Object(a.jsx)("div",{className:"d-flex all-center w-100",children:Object(a.jsx)(Oe.a,{activeStep:_-1,alternativeLabel:!0,className:"w-100",children:["Correo","Verificaci\xf3n","Contrase\xf1a"].map((function(e){return Object(a.jsx)(pe.a,{children:Object(a.jsx)(xe.a,{children:e})},e)}))})})]}),B&&Object(a.jsx)("div",{className:"d-flex all-center stepper-pw",children:Object(a.jsx)(Oe.a,{activeStep:_-1,alternativeLabel:!0,className:"w-50",children:["Ingresa tu correo","Ingresa el c\xf3digo de verificaci\xf3n","Cambia tu contrase\xf1a"].map((function(e){return Object(a.jsx)(pe.a,{children:Object(a.jsx)(xe.a,{children:e})},e)}))})})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s.open,autoHideDuration:"Cargando..."===s.message?1e4:5e3,onClose:function(){return i(!1)},message:s.message,action:"Cargando..."===s.message?Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",children:Object(a.jsx)(C.a,{className:"loop-out"})}):Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return i(!1)},children:Object(a.jsx)(w.a,{fontSize:"small"})})})]})},fe=n(523),Ne=n(291),ve=n.n(Ne),we=n(293),ye=n.n(we),Ce=n(292),ke=n.n(Ce),Ee=function(){var e=window.screen.width>600,t=Object(r.c)((function(e){return e.users})),n=Object(j.f)(),s=Object(r.b)(),i=sessionStorage.getItem("token")||localStorage.getItem("token"),o=Object(c.useState)(!1),d=Object(m.a)(o,2),f=d[0],v=d[1],y=Object(c.useState)(!1),C=Object(m.a)(y,2),k=C[0],I=C[1],D=Object(c.useState)({name:"",lastname:"",email:"",password:"",confirmPassword:""}),T=Object(m.a)(D,2),A=T[0],M=T[1],_=Object(c.useState)({email:!1,password:!1,confirmPassword:!1,duplicatedEmail:""}),F=Object(m.a)(_,2),R=F[0],P=F[1];Object(c.useEffect)((function(){null!==i&&n.push("/home")})),Object(c.useEffect)((function(){s((function(e){try{l.a.get("/user/mails").then((function(t){var n=t.data.map((function(e){return e.email}));e({type:Z,users:n})}))}catch(t){console.log(t)}}))}),[s]),Object(c.useEffect)((function(){A.name&&(I(!0),v(!1))}),[t.user]);var L=function(e){M(Object(u.a)(Object(u.a)({},A),{},Object(b.a)({},e.target.name,e.target.value))),"password"===e.target.name&&(e.target.value.length>=6?P(Object(u.a)(Object(u.a)({},R),{},{password:!1})):P(Object(u.a)(Object(u.a)({},R),{},{password:!0}))),"confirmPassword"!==e.target.name||R.password||(e.target.value===A.password?P(Object(u.a)(Object(u.a)({},R),{},{confirmPassword:!1})):P(Object(u.a)(Object(u.a)({},R),{},{confirmPassword:!0})))},z=Object(a.jsxs)(a.Fragment,{children:[201===parseInt(t.response,10)&&Object(a.jsx)(ve.a,{className:"w-100 h-100",recycle:!1}),Object(a.jsx)("div",{className:e?"modal-col w-50":"modal-col w-100 h-100",children:201===parseInt(t.response,10)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:"\xa1FELICIDADES!"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/celebration.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{className:"all-center",children:"Tu cuenta ha sido creada exitosamente"})}),Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{className:"all-center",children:"Bienvenido a NotatKy"})}),Object(a.jsx)("div",{className:"my-3 all-center",children:Object(a.jsx)(g.a,{color:"purple",className:"textfield button my-2 w-75",id:"login-submit",onClick:function(){return n.push("/login")},type:"button",children:"INICIA SESI\xd3N"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"all-center",children:"HA OCURRIDO UN ERROR"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/error.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{className:"all-center",children:"Ocurri\xf3 un error al intentar crear tu cuenta"})}),Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{className:"all-center",children:"Por favor, intentalo mas tarde"})})]})})]});return Object(a.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[e&&Object(a.jsx)("div",{className:"logo-cont",children:Object(a.jsx)(S,{})}),Object(a.jsxs)("div",{className:"card-round card d-flex justify-content-between sign-up",children:[Object(a.jsxs)("form",{className:"all-center row h-100",children:[Object(a.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"CREAR USUARIO"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/sign-up.svg",width:"90%",alt:"",className:"mb-2 img-card",draggable:"false"})}),Object(a.jsx)("p",{className:"login-p",children:"Completa el formulario con tus datos..."}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(a.jsx)(ke.a,{}),Object(a.jsx)(h.a,{className:"textfield name",InputProps:{autoComplete:"given-name",spellCheck:!1},label:"Nombre",name:"name",onChange:L,value:A.name}),Object(a.jsx)(h.a,{className:"textfield name",InputProps:{autoComplete:"family-name",spellCheck:!1},label:"Apellido",name:"lastname",onChange:L,value:A.lastname})]}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(a.jsx)(N.a,{}),Object(a.jsx)(h.a,{className:"textfield",error:R.email||R.duplicatedEmail,helperText:""!==R.duplicatedEmail&&A.email.length>5&&(R.email?"Ingrese un correo v\xe1lido":R.duplicatedEmail?"Este correo electr\xf3nico pertenece a otra cuenta":"Este correo electr\xf3nico se encuentra disponible"),label:"Correo electr\xf3nico",name:"email",onChange:L,onBlur:function(){A.email.length>0&&(/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(A.email)?P(Object(u.a)(Object(u.a)({},R),{},{duplicatedEmail:t.users[0]&&t.users.includes(A.email),email:!1})):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(A.email)||P(Object(u.a)(Object(u.a)({},R),{},{email:!0})))},value:A.email,FormHelperTextProps:{className:!R.email&&!1===R.duplicatedEmail&&"green-label"},InputProps:{autoComplete:"email",endAdornment:Object(a.jsx)(fe.a,{"aria-describedby":"popr",id:"input-ador",position:"end",children:!R.email&&""!==R.duplicatedEmail&&(R.duplicatedEmail?Object(a.jsx)(w.a,{style:{color:"red"}}):Object(a.jsx)(ye.a,{style:{color:"green"}}))})}})]}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(h.a,{className:"textfield",error:R.password,helperText:R.password&&"La contrase\xf1a debe tener al menos seis caracteres",InputProps:{autoComplete:"new-password"},label:"Contrase\xf1a",name:"password",onChange:L,type:"password",value:A.password.one})]}),Object(a.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4 field",children:[Object(a.jsx)(E.a,{}),Object(a.jsx)(h.a,{className:"textfield",error:R.confirmPassword,helperText:R.confirmPassword&&"Las contrase\xf1as no co\xednciden",InputProps:{autoComplete:"new-password"},type:"password",label:"Repite la contrase\xf1a",name:"confirmPassword",onChange:L,value:A.password.two})]})]}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)(g.a,{color:"purple",className:"textfield button my-2",disabled:R.email||R.password||R.confirmPassword||R.duplicatedEmail,id:"login-submit",onClick:function(e){e.preventDefault(),""===A.name||""===A.lastname||""===A.email||""===A.password||""===A.confirmPassword?v(1):(s(function(e){return function(t){try{l.a.post("/auth/register",{data:e}).then((function(e){return t({type:ne,user:e.data,response:e.status})}))}catch(n){console.log(n)}}}(A)),v(2))},type:"submit",children:"REGISTRARSE"})})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:f,autoHideDuration:5e3,onClose:function(){return v(!1)},message:1===f?"Completa todos los campos":"Cargando...",action:Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return v(!1)},children:Object(a.jsx)(w.a,{fontSize:"small"})})}),Object(a.jsx)(x.a,{open:k,onClose:function(){return I(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:z})]})},Se=n(120),Ie=(n(368),function(e){var t=e.color,n=e.description,c=e.image,s=e.largeWidth,l=e.title,i=Object(j.f)();return Object(a.jsxs)("div",{className:"card card-info",style:{backgroundColor:t},children:[Object(a.jsx)("div",{className:"h-50 all-center",children:Object(a.jsx)("img",{src:c,alt:"icon",className:"card-img-top h-100"})}),Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h3",{className:"card-title",children:l}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"card-text",children:n}),s&&Object(a.jsxs)("button",{className:"card-btn",onClick:function(){return i.push("/login")},type:"button",children:["Empieza \xa0\xa0",Object(a.jsx)(Se.a,{name:"long arrow alternate right"})]})]})]})}),De=(n(369),[{title:"Lo importante en un solo lugar",description:"Sabemos que puedes necesitar tus notas o tareas en cualquier momento o lugar, con NotatKy tendr\xe1s acceso a ellas desde donde quieras.",color:"#e76f51",img:1},{title:"Aumenta tu productividad",description:"NotatKy te permite tomar notas de una forma muy sencilla, por lo tanto, confiamos en que tu productividad en el d\xeda a d\xeda aumentar\xe1.",color:"#e9c46a",img:2},{title:"Sincroniza todos tus dispositivos",description:"Ya sea que estes en la sala de tu casa o en la computadora de tu oficina, tus notas se sincronizar\xe1n en todos tus dispositivos.",color:"#2a9d8f",img:3}]),Te=function(){var e=Object(j.f)(),t=Object(r.b)(),n=sessionStorage.getItem("token")||localStorage.getItem("token"),s=Object(c.useState)(!1),l=Object(m.a)(s,2),i=l[0],o=l[1],b=Object(c.useState)(!1),u=Object(m.a)(b,2),h=u[0],f=u[1];Object(c.useEffect)((function(){n&&(e.push("/home"),location.reload())})),Object(c.useEffect)((function(){return function(){o(!1)}}),[]);var N=window.screen.width>600,v=window.screen.width<350,w=function(e){e.preventDefault(),o(!0),t(oe()),setTimeout((function(){t(be({email:"admin@admin.com",password:"aDmIn123"},!1))}),2e3)},y=Object(a.jsx)("div",{className:N?"modal-col w-50":"modal-col w-100 h-100",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"all-center display-6",children:"MODO INVITADO"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"row w-100",children:[Object(a.jsxs)("div",{className:"w-50",children:[Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(a.jsx)("div",{className:"px-2",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(a.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(a.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(a.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(a.jsx)("div",{className:"w-100 my-2",children:Object(a.jsxs)("p",{children:["Puedes optar por continuar o\xa0",Object(a.jsx)("a",{href:"https://valentinnicheglod.github.io/NotatKy/#/sign-up",style:{texDecoration:"underline"},children:"crearte una cuenta"}),"\xa0para disfrutar de todas las funcionalidades..."]})}),Object(a.jsx)("div",{className:"my-3 d-flex justify-content-center w-100",children:Object(a.jsx)(g.a,{color:"violet",className:N?"textfield button my-2 w-100":"textfield button my-2 w-50",id:"login-submit",onClick:w,type:"button",children:"Continuar como invitado"})})]}),Object(a.jsx)("div",{className:"w-50 all-center",children:Object(a.jsx)("img",{src:"svg/terms.svg",width:"100%",alt:"",className:"mb-2",draggable:"false"})})]})]})});return Object(a.jsxs)("div",{className:N?"login-bg full-height row":"login-bg row overflow-hidden",children:[N?Object(a.jsxs)("div",{className:"inicio-nav row d-flex align-items-center",children:[Object(a.jsx)("div",{className:"col-md-4 logo-cont pl-2",children:Object(a.jsx)(S,{})}),Object(a.jsx)("div",{className:"col-md-3"}),Object(a.jsxs)("div",{className:"col-md-5 inicio-options",children:[Object(a.jsxs)("div",{className:"d-inline",children:[Object(a.jsx)(d.b,{to:"/login",className:"inicio-link",children:"INICIAR SESI\xd3N"}),Object(a.jsx)("p",{className:"inicio-link2",children:"|"}),Object(a.jsx)(d.b,{to:"/sign-up",className:"inicio-link",children:"REGISTRARSE"})]}),Object(a.jsx)("div",{className:"d-inline",children:Object(a.jsx)("button",{className:"btn btn-outline-warning btn-round inicio-app px-4",onClick:function(){return f(!0)},type:"submit",children:"INGRESAR COMO INVITADO"})})]})]}):Object(a.jsxs)("div",{className:"px-4 my-3 d-flex justify-content-between align-items-center",children:[Object(a.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",width:"60",height:"60",className:"logo-nav"}),Object(a.jsxs)("div",{className:"d-inline",children:[Object(a.jsx)(d.b,{to:"/login",className:"inicio-link",children:"INICIAR"}),Object(a.jsx)("p",{className:"inicio-link2",children:"|"}),Object(a.jsx)(d.b,{to:"/sign-up",className:"inicio-link",children:"REGISTRARSE"})]})]}),Object(a.jsx)("div",{className:N?"d-flex row d-flex align-items-center h-90":"d-flex row d-flex justify-content-center w-100 m-0 overflow-y",children:De.map((function(e){return Object(a.jsx)("div",{className:N?"col-md-4 d-flex justify-content-center align-items-center h-100":"w-100 my-2 d-flex justify-content-center",children:Object(a.jsx)(Ie,{image:"svg/card-img-".concat(e.img,".svg"),title:e.title,description:e.description,color:e.color,largeWidth:N})})}))}),!N&&Object(a.jsxs)("div",{className:"d-flex row d-flex justify-content-center w-100 m-0 overflow-y",children:[Object(a.jsx)("h6",{className:"display-6 all-center my-2 white",children:v?"MODO INVITADO":"INGRESAR COMO INVITADO"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"all-center mb-2 w-100 row",children:[Object(a.jsx)("div",{className:"w-100 my-3 list-restrictions",children:Object(a.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(a.jsx)("div",{className:"list-restrictions",children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(a.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(a.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(a.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(a.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100 row",children:[Object(a.jsx)("small",{className:"m-0 white",children:"Si estas de acuerdo con esto puedes"}),Object(a.jsx)(g.a,{color:"yellow",className:"textfield button my-2 w-100",id:"login-submit",onClick:w,type:"button",children:"Ingresar como invitado"}),Object(a.jsx)("small",{className:"all-center m-0 line-aside",children:"o"}),Object(a.jsx)(g.a,{color:"orange",className:"textfield button my-2 w-100",id:"login-submit",onClick:function(){return e.push("/sign-up")},type:"button",children:"Crear una cuenta"})]})]})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:i,autoHideDuration:5e3,onClose:function(){return o(!1)},message:"Cargando...",action:Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",children:Object(a.jsx)(C.a,{className:"loop-out"})})}),Object(a.jsx)(x.a,{open:h,onClose:function(){return f(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:y})]})},Ae=n(294),Me=n.n(Ae),_e=n(560),Fe=n(558),Re=n(520),Pe=n(524),Le=n(525),ze=n(526),qe=n(527),Ge=n(528),Ye=n(529),Ue=n(530),We=n(531),Be=n(532),Ve=n(533),He=n(296),Ke=n.n(He),$e=n(295),Je=n.n($e),Xe=n(298),Qe=n.n(Xe),Ze=n(297),et=n.n(Ze),tt=n(70),nt=n.n(tt),at=n(110),ct=n.n(at),st=(n(278),function(e){var t=e.setDrawerOpen,n=Object(j.g)(),s=Object(j.f)(),l=Object(r.b)(),i=n.pathname,o=Object(c.useState)(!1),d=Object(m.a)(o,2),b=d[0],h=d[1],O=Object(c.useState)(!1),p=Object(m.a)(O,2),x=p[0],g=p[1],f=Object(c.useState)(!1),N=Object(m.a)(f,2),v=N[0],w=N[1],y=Object(c.useState)(!1),C=Object(m.a)(y,2),k=C[0],E=C[1],I=Object(c.useState)(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")),D=Object(m.a)(I,2),T=D[0],A=D[1],M=Object(r.c)((function(e){return e.users.user})),_=1===M.id;Object(c.useEffect)((function(){l(ue(T))}),[T,l]);var F=window.screen.width>600,R=window.screen.width<350,P=function(e){s.push(e),F||t(!1)};return Object(a.jsxs)("div",{className:"row profile full-height m-0 d-flex",children:[Object(a.jsxs)("div",{className:"profile-sidebar full-height",children:[Object(a.jsx)("div",{onClick:function(){return P("/home")},className:"btn inicio-logo",style:{cursor:"pointer",height:"10%"},onKeyDown:function(){return P("/home")},role:"button",tabIndex:0,children:Object(a.jsx)(S,{})}),Object(a.jsxs)("div",{className:"overflow-y",style:{height:"90%"},children:[("/edit profile"!==i||!F)&&Object(a.jsxs)(a.Fragment,{children:[M.profile_photo?Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)(Fe.a,{alt:"profile_photo",className:"mt-4 profile-userpic",sizes:180,draggable:!1,src:"data:".concat(M.profile_photo&&M.profile_photo.contentType,";base64, ").concat(M.profile_photo&&M.profile_photo.image)})}):Object(a.jsx)("div",{className:"all-center",children:Object(a.jsxs)(Fe.a,{alt:"profile_photo",className:"mt-4 profile-userpic blue",children:[M.name&&M.name.slice(0,1)," ",M.lastname&&M.lastname.slice(0,1)]})}),F?Object(a.jsxs)("div",{className:"profile-usertitle",children:[Object(a.jsxs)("div",{className:"profile-usertitle-name white",children:[M.name," ",M.lastname]}),Object(a.jsx)("div",{className:"profile-usertitle-job",children:M.email}),Object(a.jsx)("div",{className:"profile-usertitle-job",children:M.ocupation})]}):v?Object(a.jsx)("div",{className:"all-center",children:Object(a.jsxs)("form",{action:"https://notatky.herokuapp.com/user/uploadphoto/".concat(M.id),encType:"multipart/form-data",id:"profile-input",method:"POST",onChange:function(e){E(!0),0===e.target.files.length?E(!1):E(!0)},children:[Object(a.jsxs)("div",{className:"inputWrapper btn btn-round my-1 btn-sm btn-primary w-100 all-center",children:[Object(a.jsx)("input",{id:"formFileSm",name:"picture",className:"fileInput",type:"file",accept:"image/*"}),"Seleccionar foto"]}),Object(a.jsxs)("div",{className:"d-flex justify-content-between w-100",children:[Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-success",type:"submit",disabled:!k,children:"Guardar"}),M.profile_photo&&Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 mx-1 btn-danger",onClick:function(e){e.preventDefault(),g(!0)},type:"button",children:"Eliminar"}),Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-dark",onClick:function(){w(!1)},type:"button",children:"Cancelar"})]})]})}):_?!R&&Object(a.jsx)("div",{className:"profile-usertitle",children:Object(a.jsxs)("div",{className:"profile-usertitle-name white",children:[M.name," ",M.lastname]})}):Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){return w(!0)},type:"button",children:"".concat(M.profile_photo?"Editar":"Agregar"," foto de perfil")})})]}),Object(a.jsx)("div",{id:"home-side-bar",children:Object(a.jsxs)(Re.a,{component:"nav",className:"white",children:[Object(a.jsxs)(Pe.a,{button:!0,className:"/edit profile"===i&&"settings-select-blue",id:"item-side-bar",onClick:function(){P("/edit profile")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(Je.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Mi perfil"})]}),F?Object(a.jsxs)(Pe.a,{button:!0,className:"/collections tags/"===i&&T?"settings-select-dark":"/collections tags"===i?"settings-select":null,id:"item-side-bar",onClick:function(){P("/collections tags")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(Ke.a,{className:"/collections tags"===i?"violet":"white"})}),Object(a.jsx)(ze.a,{primary:"Colecciones y etiquetas"})]}):Object(a.jsxs)(Pe.a,{button:!0,className:"/collections tags/col"===i&&T?"settings-select-dark":"/collections tags/col"===i?"settings-select":null,id:"item-side-bar",onClick:function(){P("/collections tags/col")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(nt.a,{className:"/collections tags/col"===i?"violet":"white"})}),Object(a.jsx)(ze.a,{primary:"Colecciones"})]}),!F&&Object(a.jsxs)(Pe.a,{button:!0,className:"/collections tags/tag"===i&&T?"settings-select-dark":"/collections tags/tag"===i?"settings-select":null,id:"item-side-bar",onClick:function(){P("/collections tags/tag")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(ct.a,{className:"/collections tags/tag"===i?"violet":"white"})}),Object(a.jsx)(ze.a,{primary:"Etiquetas"})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)(Pe.a,{button:!0,className:"item-side-bar",id:"item-side-bar",children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(et.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Modo oscuro"}),Object(a.jsx)(qe.a,{edge:"end",onChange:function(){A(!T)},checked:T,color:"primary"})]}),Object(a.jsxs)(Pe.a,{button:!0,className:"item-side-bar",id:"item-side-bar",onClick:function(){return h(!0)},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(Qe.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Cerrar sesi\xf3n"})]})]})})]})]}),Object(a.jsxs)(Ge.a,{open:b,onClose:function(){return h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea cerrar sesi\xf3n?"}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{className:"btn",onClick:function(){return h(!1)},color:"primary",children:"No"}),Object(a.jsx)(We.a,{className:"btn",onClick:function(){l((function(e){e({type:le}),sessionStorage.clear(),localStorage.removeItem("token"),localStorage.removeItem("id")})),s.push("/")},color:"primary",children:"S\xed"})]})]}),Object(a.jsxs)(Ge.a,{open:x,onClose:function(){return g(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ve.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{onClick:function(){return g(!1)},color:"primary",children:"Cancelar"}),Object(a.jsx)(We.a,{onClick:function(){l(de(Object(u.a)(Object(u.a)({},M),{},{profile_photo:null}))),g(!1)},color:"primary",children:"Eliminar"})]})]})]})}),lt=n(49),it=n.n(lt),ot=function(e){var t=e.darkMode,n=e.handleDelete,s=e.isGuest,l=e.user,i=Object(c.useState)(""),o=Object(m.a)(i,2),r=o[0],d=o[1],j=Object(c.useState)(!1),b=Object(m.a)(j,2),u=b[0],h=b[1],O=Object(c.useState)(!1),p=Object(m.a)(O,2),x=p[0],g=p[1],f=l.createdAt&&it()(l.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YYYY");return Object(a.jsxs)("div",{className:"card card-edit p-3",id:t&&"dark-blue",children:[l.profile_photo?Object(a.jsx)(Fe.a,{alt:"profile_photo",className:"my-3 profile-userpic",imgProps:{draggable:!1},sizes:180,src:"data:".concat(l.profile_photo&&l.profile_photo.contentType,";base64, ").concat(l.profile_photo&&l.profile_photo.image)}):Object(a.jsxs)(Fe.a,{alt:"profile_photo",className:"my-3 profile-userpic blue",children:[l.name&&l.name.slice(0,1)," ",l.lastname&&l.lastname.slice(0,1)]}),"profilePicture"===r?Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{action:"https://notatky.herokuapp.com/user/uploadphoto/".concat(l.id),encType:"multipart/form-data",id:"profile-input",method:"POST",onChange:function(e){g(!0),0===e.target.files.length?g(!1):g(!0)},children:[Object(a.jsx)("input",{className:"form-control form-control-sm mb-3",id:"formFileSm",name:"picture",type:"file",accept:"image/*"}),Object(a.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-success",type:"submit",disabled:!x,children:"Guardar"}),l.profile_photo&&Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-danger",onClick:function(e){e.preventDefault(),h(!0)},type:"button",children:"Eliminar"}),t?Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-light",onClick:function(){g(!1),d("")},type:"button",children:"Cancelar"}):Object(a.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-dark",onClick:function(){g(!1),d("")},type:"button",children:"Cancelar"})]})]})}):s?Object(a.jsx)("small",{children:"Sesi\xf3n iniciada en modo invitado"}):Object(a.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){return d("profilePicture")},type:"button",children:"".concat(l.profile_photo?"Editar":"Agregar"," foto de perfil")}),Object(a.jsx)("h1",{className:"display-6 mb-0",children:l.name}),Object(a.jsx)("h1",{className:"display-6 mt-0",children:l.lastname}),Object(a.jsxs)("div",{className:"user-data-card w-100 my-4",children:[l.ocupation&&Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("b",{className:"d-inline px-2",children:"Ocupaci\xf3n:\xa0\xa0"}),Object(a.jsx)("p",{className:"d-inline",children:l.ocupation})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"my-2",children:[Object(a.jsx)("b",{className:"d-inline px-2",children:"Miembro desde:"}),Object(a.jsx)("p",{className:"d-inline",children:f})]})]}),Object(a.jsxs)(Ge.a,{open:u,onClose:function(){return h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ve.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{onClick:function(){return h(!1)},color:"primary",children:"Cancelar"}),Object(a.jsx)(We.a,{onClick:function(){n(),h(!1)},color:"primary",children:"Eliminar"})]})]})]})},rt=n(3),dt=n(554),jt=n(517),bt=n(466),ut=n(559),mt=n(538),ht=n(518),Ot=n(516),pt=n(521),xt=n(534),gt=n(535),ft=n(536),Nt=n(537),vt=n(539),wt=n(540),yt=n(541),Ct=Object(xt.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"&:hover":{backgroundColor:"transparent"}},icon:{borderRadius:"50%",width:16,height:16,boxShadow:"inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)",backgroundColor:"#f5f8fa",backgroundImage:"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))","$root.Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:hover ~ &":{backgroundColor:"#ebf1f5"},"input:disabled ~ &":{boxShadow:"none",background:"rgba(206,217,224,.5)"}},checkedIcon:{backgroundColor:"#2185D0","input:hover ~ &":{backgroundColor:"#106ba3"}}}}));function kt(e){var t=Ct();return Object(a.jsx)(dt.a,Object(u.a)({className:t.root,disableRipple:!0,color:"default",checkedIcon:Object(a.jsx)("span",{className:Object(rt.a)(t.icon,t.checkedIcon)}),icon:Object(a.jsx)("span",{className:t.icon})},e))}var Et=function(e){var t=e.closeSnackbar,n=e.darkMode,c=e.editing,s=e.editionMode,l=e.error,i=e.handleChange,o=e.handleErrors,r=e.handlePasswordChange,d=e.handlePasswordSubmit,j=e.handleSubmit,b=e.information,u=e.largeWidth,m=e.mouseEnter,x=e.mouseLeave,g=e.password,f=e.setDrawerOpen,N=e.snackbar,v=e.user,w=e.visibilityPassword,y=e.visiblePassword,C=Ct(),k=window.screen.width<350,E=v.createdAt&&it()(v.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY");return Object(a.jsxs)("div",{className:"user-profile pro m-4 row",children:[Object(a.jsxs)("h1",{className:"display-1 settings-title",children:[!u&&Object(a.jsx)(p.a,{onClick:function(){return f(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",iconStyle:{width:"35px",height:"40px",marginRight:"5px"},children:Object(a.jsx)(gt.a,{className:"menu-icon"})}),"\xa0Editar perfil"]}),!u&&Object(a.jsx)("div",{className:"mobile-user-card-cont pt-4",children:Object(a.jsxs)("div",{className:"mobile-user-card login-bg row",children:[Object(a.jsx)("div",{className:"mobile-user-card-1 all-center",children:v.profile_photo?Object(a.jsx)(Fe.a,{alt:"profile_photo",className:"mobile-user-card-avatar pe",imgProps:{draggable:!1},src:"data:".concat(v.profile_photo&&v.profile_photo.contentType,";base64, ").concat(v.profile_photo&&v.profile_photo.image)}):Object(a.jsxs)(Fe.a,{alt:"profile_photo",className:"blue",children:[v.name&&v.name.slice(0,1)," ",v.lastname&&v.lastname.slice(0,1)]})}),Object(a.jsxs)("div",{className:"mobile-user-card-2",children:[Object(a.jsx)("p",{className:"mb-0",children:v.name}),Object(a.jsx)("p",{className:"mb-0",children:v.lastname})]}),Object(a.jsxs)("div",{className:"mobile-user-card-3 py-2 h-100",children:[Object(a.jsx)("div",{className:"row mobile-user-card-ocupation",children:v.ocupation?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("small",{children:"Ocupaci\xf3n..."}),Object(a.jsx)("p",{className:"mb-0",children:v.ocupation})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("small",{children:"Correo electr\xf3nico..."}),Object(a.jsx)("p",{className:"mb-0",children:v.email})]})}),Object(a.jsxs)("div",{className:"row mobile-user-card-date",children:[Object(a.jsx)("small",{children:"Miembro desde..."}),Object(a.jsx)("p",{className:"mb-0",children:E})]})]})]})}),Object(a.jsxs)("div",{className:"pt-4 info-cont-settings",style:n&&u?{overflowY:"auto",height:550}:null,children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return x(e)},children:[k?"Datos personales":"Informaci\xf3n personal",u?!("PersonalInformation"===c)&&Object(a.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return s("PersonalInformation")},type:"button",children:"Editar"}):"PersonalInformation"!==c?Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("PersonalInformation")},type:"button",children:Object(a.jsx)(ft.a,{style:{color:"#2185D0"}})}):Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("")},type:"button",children:Object(a.jsx)(Nt.a,{style:{color:"#2185D0"}})})]}),Object(a.jsx)("hr",{}),"PersonalInformation"===c?Object(a.jsxs)("form",{className:C.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(h.a,{className:"input-profile",label:"Nombre",value:b.name,name:"name",onChange:i}),Object(a.jsx)(h.a,{className:"input-profile",id:"outlined-basic",label:"Apellido",value:b.lastname,name:"lastname",onChange:i}),Object(a.jsx)(h.a,{className:"input-profile",id:"ocupation-textfield",label:"Ocupaci\xf3n",value:b.ocupation,name:"ocupation",onChange:i}),Object(a.jsx)("br",{}),Object(a.jsxs)(jt.a,{component:"fieldset",className:"my-3",children:[Object(a.jsx)(bt.a,{component:"legend",className:"MuiFormLabel-root",children:"G\xe9nero"}),Object(a.jsxs)(ut.a,{defaultValue:v.gender,"aria-label":"gender",name:"gender",onChange:i,children:[Object(a.jsx)(mt.a,{value:"female",control:Object(a.jsx)(kt,{}),label:"Femenino"}),Object(a.jsx)(mt.a,{value:"male",control:Object(a.jsx)(kt,{}),label:"Masculino"}),Object(a.jsx)(mt.a,{value:"other",control:Object(a.jsx)(kt,{}),label:"Otro"})]})]}),Object(a.jsx)("br",{}),u?Object(a.jsx)("button",{className:"btn w-25 btn-success btn-round btn-update",onClick:j,type:"submit",children:"Actualizar datos"}):Object(a.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(a.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:j,type:"submit",children:"Actualizar"})}),u&&Object(a.jsx)("button",{className:"btn btn-outline-danger btn-round w-12",onClick:function(){return s("")},type:"button",children:"Cancelar"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"d-flex flex-row",children:[Object(a.jsx)("h4",{className:"d-inline mr-3",children:"Nombre y apellido:\xa0\xa0\xa0"}),Object(a.jsx)("p",{children:"".concat(v.name," ").concat(v.lastname)})]}),Object(a.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(a.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Ocupaci\xf3n:\xa0\xa0\xa0"}),Object(a.jsx)("p",{children:v.ocupation?v.ocupation:Object(a.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){s("PersonalInformation"),setTimeout((function(){document.getElementById("ocupation-textfield").focus()}),1e3)},type:"button",children:"Agrega una ocupaci\xf3n"})})]}),v.gender&&Object(a.jsxs)("div",{className:"d-flex flex-row",children:[Object(a.jsx)("h4",{className:"d-inline mr-3",children:"G\xe9nero:\xa0\xa0\xa0"}),Object(a.jsx)("p",{children:"male"===v.gender?"Masculino":"female"===v.gender?"Femenino":"Otro"})]})]})]}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return x(e)},children:[u?"Informaci\xf3n de contacto":"Contacto",u?!("ContactInformation"===c)&&Object(a.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return s("ContactInformation")},type:"button",children:"Editar"}):"ContactInformation"!==c?Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("ContactInformation")},type:"button",children:Object(a.jsx)(ft.a,{style:{color:"#2185D0"}})}):Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("")},type:"button",children:Object(a.jsx)(Nt.a,{style:{color:"#2185D0"}})})]}),Object(a.jsx)("hr",{}),"ContactInformation"===c?Object(a.jsxs)("form",{className:C.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsx)(h.a,{className:"input-profile",id:"outlined-basic",label:"Correo electr\xf3nico",value:b.email,name:"email",onChange:i}),Object(a.jsx)(h.a,{className:"input-profile mb-4",id:"phone-textfield",label:"N\xfamero de tel\xe9fono",value:b.phone,name:"phone",onChange:i,type:"number"}),Object(a.jsx)("br",{}),u?Object(a.jsx)("button",{type:"submit",className:"btn w-25 btn-success btn-update btn-round",onClick:j,children:"Actualizar datos"}):Object(a.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(a.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:j,type:"submit",children:"Actualizar"})}),u&&Object(a.jsx)("button",{type:"button",className:"btn btn-outline-danger btn-round w-12",onClick:function(){return s("")},children:"Cancelar"})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"d-flex flex-row",children:[Object(a.jsx)("h4",{className:"d-inline mr-3",children:"Correo electr\xf3nico:\xa0\xa0\xa0"}),Object(a.jsx)("p",{children:v.email})]}),Object(a.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(a.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Celular:\xa0\xa0\xa0"}),Object(a.jsx)("p",{children:v.phone?v.phone:Object(a.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){s("ContactInformation"),setTimeout((function(){document.getElementById("phone-textfield").focus(),document.getElementById("phone-textfield").click()}),1e3)},type:"button",children:"Agrega un celular"})})]})]})]}),Object(a.jsxs)("div",{className:"mt-3",children:[Object(a.jsxs)("h1",{className:"display-6 profile-section",onMouseEnter:function(e){return m(e)},onMouseLeave:function(e){return x(e)},children:["Contrase\xf1a",u?!("password"===c)&&Object(a.jsx)("button",{className:"btn btn-round mx-3 btn-sm btn-outline-primary profile-edit",onClick:function(){return s("password")},type:"button",children:"Editar"}):"password"!==c?Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("password")},type:"button",children:Object(a.jsx)(ft.a,{style:{color:"#2185D0"}})}):Object(a.jsx)(p.a,{className:"btn mx-1",onClick:function(){return s("")},type:"button",children:Object(a.jsx)(Nt.a,{style:{color:"#2185D0"}})})]}),Object(a.jsx)("hr",{}),"password"===c?Object(a.jsxs)("form",{className:C.root,noValidate:!0,autoComplete:"off",children:[Object(a.jsxs)(jt.a,{className:"input-profile",children:[Object(a.jsx)(ht.a,{htmlFor:"actual-password",children:"Contrase\xf1a actual"}),Object(a.jsx)(Ot.a,{id:"actual-password",type:y.password?"text":"password",spellcheck:!1,endAdornment:Object(a.jsx)(fe.a,{position:"end",children:Object(a.jsx)(p.a,{"aria-label":"toggle password visibility",onClick:function(){return w("password")},onMouseDown:function(e){return e.preventDefault()},children:y.password?Object(a.jsx)(vt.a,{}):Object(a.jsx)(wt.a,{})})}),value:g.current,name:"current",onChange:r})]}),Object(a.jsxs)(jt.a,{className:"input-profile",error:l.password,children:[Object(a.jsx)(ht.a,{htmlFor:"new-password-1",children:"Contrase\xf1a nueva"}),Object(a.jsx)(Ot.a,{id:"new-password-1",type:y.newPassword?"text":"password",endAdornment:Object(a.jsx)(fe.a,{position:"end",children:Object(a.jsx)(p.a,{"aria-label":"toggle password visibility",onClick:function(){return w("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:y.newPassword?Object(a.jsx)(vt.a,{}):Object(a.jsx)(wt.a,{})})}),value:g.new1,name:"new1",inputProps:{onBlur:o},onChange:r}),Object(a.jsx)(pt.a,{children:l.password&&"La contrase\xf1a debe tener al menos seis caracteres"})]}),Object(a.jsxs)(jt.a,{className:"input-profile mb-4",children:[Object(a.jsx)(ht.a,{htmlFor:"actual-password-2",children:"Repite la nueva contrase\xf1a"}),Object(a.jsx)(Ot.a,{id:"new-password-2",type:y.newPassword?"text":"password",spellcheck:!1,endAdornment:Object(a.jsx)(fe.a,{position:"end",children:Object(a.jsx)(p.a,{"aria-label":"toggle password visibility",onClick:function(){return w("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:y.newPassword?Object(a.jsx)(vt.a,{}):Object(a.jsx)(wt.a,{})})}),value:g.new2,name:"new2",onChange:r})]}),Object(a.jsx)("br",{}),u?Object(a.jsx)("button",{className:"btn w-25 btn-success btn-round btn-update",disabled:l.password,onClick:d,type:"submit",children:"Modificar contrase\xf1a"}):Object(a.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(a.jsx)("button",{className:"btn w-100 btn-success btn-update",disabled:l.password,onClick:d,type:"submit",children:"Modificar contrase\xf1a"})}),u&&Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-danger btn-round w-12",onClick:function(){return s("")},children:"Cancelar"})]}):null]})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:N.open,autoHideDuration:6e3,onClose:t,message:N.message,action:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:t,children:Object(a.jsx)(yt.a,{fontSize:"small"})})})})]})},St=function(){return Object(a.jsxs)("div",{className:"all-center w-100 h-100",children:[Object(a.jsx)("div",{className:"spinner-border",role:"status"}),Object(a.jsx)("div",{className:"spinner-border spinner-border-2",role:"status"}),Object(a.jsx)("div",{className:"spinner-border spinner-border-3",role:"status"}),Object(a.jsx)("div",{className:"spinner-border spinner-border-4",role:"status"})]})},It=function(){var e=Object(c.useState)({newPassword:!1,password:!1}),t=Object(m.a)(e,2),n=t[0],s=t[1],l=Object(c.useState)({open:!1,message:""}),i=Object(m.a)(l,2),o=i[0],d=i[1],h=Object(c.useState)({current:"",new1:"",new2:""}),O=Object(m.a)(h,2),p=O[0],x=O[1],g=Object(c.useState)(!1),f=Object(m.a)(g,2),N=f[0],v=f[1],w=Object(c.useState)(!0),y=Object(m.a)(w,2),C=y[0],k=y[1],E=Object(c.useState)(),S=Object(m.a)(E,2),I=S[0],D=S[1],T=Object(c.useState)(""),A=Object(m.a)(T,2),M=A[0],_=A[1],F=Object(c.useState)({password:!1}),R=Object(m.a)(F,2),P=R[0],L=R[1],z=Object(r.b)(),q=Object(j.f)(),G=Object(r.c)((function(e){return e.users})),Y=sessionStorage.getItem("id")||localStorage.getItem("id"),U=sessionStorage.getItem("token")||localStorage.getItem("token"),W=G.darkMode,B=1===G.user.id;Object(c.useEffect)((function(){z(re(Y))}),[z]),Object(c.useEffect)((function(){D(G.user)}),[G]),Object(c.useEffect)((function(){G.user.name&&k(!1)}),[G.user]),Object(c.useEffect)((function(){null===U&&q.push("/login")}),[q]);var V=window.screen.width>600;return Object(a.jsx)("div",{className:V?"row full-height":"row full-height bs-gutter",children:C?Object(a.jsx)(St,{}):Object(a.jsxs)(a.Fragment,{children:[V?Object(a.jsx)("div",{className:"col-md-2 login-bg p-0",children:Object(a.jsx)(st,{})}):Object(a.jsx)(_e.a,{open:N,onClose:function(){return v(!1)},id:"hidden-overflow",children:Object(a.jsx)("div",{className:"col-md-2 login-bg p-0 full-height",children:Object(a.jsx)(st,{setDrawerOpen:v})})}),V&&Object(a.jsx)("div",{className:"col-md-3 blue-aside",id:W&&"dark-border",children:Object(a.jsx)(ot,{darkMode:W,handleDelete:function(){z(de(Object(u.a)(Object(u.a)({},I),{},{profile_photo:null})))},isGuest:B,user:G.user})}),Object(a.jsx)("div",{className:V?"col-md-7 h-100":"bs-gutter",id:W&&"dark",children:Object(a.jsx)(Et,{closeSnackbar:function(){d(Object(u.a)(Object(u.a)({},o),{},{open:!1}))},darkMode:W,editing:M,editionMode:function(e){_(e)},error:P,handleChange:function(e){D(Object(u.a)(Object(u.a)({},I),{},Object(b.a)({},e.target.name,e.target.value)))},handleErrors:function(){p.new1.length<6&&p.new1.length>0?L(Object(u.a)(Object(u.a)({},P),{},{password:!0})):L(Object(u.a)(Object(u.a)({},P),{},{password:!1}))},handlePasswordChange:function(e){x(Object(u.a)(Object(u.a)({},p),{},Object(b.a)({},e.target.name,e.target.value)))},handlePasswordSubmit:function(e){e.preventDefault(),Me.a.compare(p.current,I.password).then((function(e){e?p.new1!==p.new2?d({open:!0,message:"Las contrase\xf1as no coinc\xedden"}):p.current&&p.new1&&p.new2?(z(je(Object(u.a)(Object(u.a)({},I),{},{password:p.new1}))),_(""),d({open:!0,message:"Contrase\xf1a actualizada"}),x({current:"",new1:"",new2:""})):d({open:!0,message:"Complete los campos requeridos"}):d({open:!0,message:"Contrase\xf1a actual incorrecta"})}))},handleSubmit:function(e){e.preventDefault(),V||_(""),I.name?I.lastname?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(I.email)?1===G.user.id?(z(de(Object(u.a)(Object(u.a)({},I),{},{email:"admin@admin.com",password:"aDmIn123"}))),_(""),d({open:!0,message:"Datos actualizados"})):(z(de(I)),_(""),d({open:!0,message:"Datos actualizados"})):0===I.email.length?d({open:!0,message:"Debe ingresar un correo"}):d({open:!0,message:"Ingrese un correo v\xe1lido"}):d({open:!0,message:"Debe ingresar un apellido"}):d({open:!0,message:"Debe ingresar un nombre"})},information:I,largeWidth:V,mouseEnter:function(e){if(V){var t=e.target.children[0];t&&(t.className="btn btn-round mx-3 btn-sm btn-outline-primary profile-edit-active")}},mouseLeave:function(e){if(V){var t=e.target.children[0];t&&(t.className="btn btn-round mx-3 btn-sm btn-outline-primary profile-edit")}},password:p,setDrawerOpen:v,snackbar:o,visibilityPassword:function(e){s(Object(u.a)(Object(u.a)({},n),{},Object(b.a)({},e,!n[e])))},visiblePassword:n,user:G.user})})]})})},Dt=n(542),Tt=n(467),At=n(543),Mt=n(544),_t=n(545),Ft=n(546),Rt=n(547),Pt=n(548),Lt=n(549),zt=n(165),qt=n.n(zt),Gt=n(167),Yt=n.n(Gt),Ut=n(166),Wt=n.n(Ut),Bt=n(112),Vt=n.n(Bt),Ht=n(36),Kt=n.n(Ht),$t=n(111),Jt=n.n($t),Xt=function(e){var t=e.collections,n=e.editing,s=e.handleChange,l=e.handleCreate,i=e.handleDelete,o=e.largeWidth,r=e.open,d=e.openModal,j=e.setDrawerOpen,O=e.setEditing,g=Object(c.useState)({name:"",description:""}),f=Object(m.a)(g,2),N=f[0],v=f[1],w=Object(c.useState)(),y=Object(m.a)(w,2),C=y[0],k=y[1],E=Object(c.useState)(!1),S=Object(m.a)(E,2),I=S[0],D=S[1],T=Object(c.useState)(!0),A=Object(m.a)(T,2),M=A[0],_=A[1];setTimeout((function(){_(!1)}),2e3);var F=function(e){v(Object(u.a)(Object(u.a)({},N),{},Object(b.a)({},e.target.name,e.target.value)))},R=function(e){k(Object(u.a)(Object(u.a)({},C),{},Object(b.a)({},e.target.name,e.target.value)))};t.collections.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var P=Object(a.jsxs)("div",{className:"modal-col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:C&&!o?"Editar colecci\xf3n":"Crear una colecci\xf3n..."}),Object(a.jsx)("hr",{})]}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/collection.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(a.jsx)(h.a,{autoComplete:"off",autoFocus:!!o,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:N.name,name:"name",onChange:F}),Object(a.jsx)(h.a,{className:"w-100 my-3",id:"outlined-basic",label:"Descripci\xf3n",inputProps:{maxLength:50,autoComplete:"off"},value:N.description,name:"description",onChange:F}),Object(a.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[C&&!o?Object(a.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===N.name.length,onClick:function(){s(Object(u.a)(Object(u.a)({},N),{},{id:C.id,userId:C.userId})),setTimeout((function(){v({name:"",description:""}),k(null)}),1500),d("col",!1)},type:"button",children:"Guardar"}):Object(a.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===N.name.length,onClick:function(){l(N),setTimeout((function(){v({name:"",description:""})}),1e3)},type:"button",children:"Crear"}),C&&!o&&Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){D(!0)},children:"Eliminar"}),Object(a.jsx)("button",{className:C&&!o?"btn btn-round btn-outline-dark ml-3 cancel-btn-modal-edit":"btn btn-round btn-outline-danger ml-3 cancel-btn-modal",onClick:function(){d("col",!1),k(null),v({name:"",description:""})},type:"button",children:"Cancelar"})]})]});return Object(a.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(a.jsxs)("h1",{className:"display-1 settings-title",children:[!o&&Object(a.jsx)(p.a,{onClick:function(){return j(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",iconStyle:{width:"35px",height:"40px",marginRight:"5px"},children:Object(a.jsx)(Jt.a,{className:"menu-icon"})}),"Colecciones"]}),Object(a.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.collections.length>0?Object(a.jsx)(Dt.a,{component:Tt.a,id:"tab-col-table",children:Object(a.jsxs)(At.a,{"aria-label":"caption table",id:"tab-col-table",children:[Object(a.jsx)("caption",{children:"Usa las colecciones como si fueran libretas, puedes guardar todas las notas relacionadas a un tema en especifico dentro de ellas."}),Object(a.jsx)(Mt.a,{id:"thead",children:Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(Ft.a,{id:"table-cell-",children:Object(a.jsx)("b",{children:"Nombre"})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)("b",{children:"Descripci\xf3n"})}),Object(a.jsx)(Ft.a,{})]})}),Object(a.jsx)(Rt.a,{id:"tbody",children:t.collections.map((function(e,c){return Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(Ft.a,{component:"th",scope:"row",className:"table-cell-col",children:n.col===c?Object(a.jsx)(h.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:20},placeholder:"Nombre",value:C.name,onChange:R,name:"name"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(nt.a,{}),Object(a.jsxs)("p",{children:["\xa0\xa0",e.name]})]})}),Object(a.jsx)(Ft.a,{className:"table-cell-col",children:n.col===c?Object(a.jsx)(h.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:50},placeholder:"Descripci\xf3n",value:C.description,onChange:R,name:"description",multiline:!0}):Object(a.jsx)("p",{children:e.description})}),Object(a.jsx)(Ft.a,{align:"right",className:"p-0",children:o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:"p-2 btn",onClick:n.col===c?function(){return s(C)}:function(){k(t.collections[c]),O(Object(u.a)(Object(u.a)({},n),{},{tag:void 0,col:c}))},children:n.col===c?Object(a.jsx)(Vt.a,{style:{color:"#198754"}}):Object(a.jsx)(qt.a,{style:{color:"#2185D0"}})}),Object(a.jsx)(p.a,{className:"p-2 btn",onClick:function(){k(t.collections[c]),D(!0)},children:n.col===c&&Object(a.jsx)(Wt.a,{style:{color:"#dc3545"}})})]}):Object(a.jsx)(p.a,{className:"p-2 btn",onClick:function(){k(t.collections[c]),v(Object(u.a)(Object(u.a)({},N),{},{name:t.collections[c].name,description:t.collections[c].description})),d("col",!0)},children:Object(a.jsx)(Yt.a,{})})})]},e.id)}))}),o&&Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("button",{onClick:function(){return d("col",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(a.jsx)("i",{className:"plus icon"}),o?"  Crear nueva colecci\xf3n":"  Nueva colecci\xf3n"]})})]})}):M?Object(a.jsx)("div",{style:o?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(a.jsx)(St,{})}):Object(a.jsx)("div",{className:"no-data-cont all-center row",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"d-flex justify-content-end w-100",children:Object(a.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%"}})}),Object(a.jsx)("p",{className:"all-center",children:Object(a.jsx)("b",{children:"No hay colecciones"})}),Object(a.jsxs)("div",{className:"all-center",children:[Object(a.jsxs)("button",{onClick:function(){return d("col",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(a.jsx)("i",{className:"plus icon"}),"Crea tu primera colecci\xf3n"]}),Object(a.jsxs)("button",{className:"btn btn-round my-3 btn-sm btn-primary all-center create-btn",onClick:function(){return d("col",!0)},type:"button",children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Crea tu primera colecci\xf3n"]})]})]})}),!o&&Object(a.jsx)(Lt.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return d("col",!0)},children:Object(a.jsx)(Kt.a,{className:"add-icon"})}),Object(a.jsx)(x.a,{open:r.col,onClose:function(){d("col",!1),k(null),v({name:"",description:""})},className:"d-flex w-100 justify-content-center align-items-center",children:P}),Object(a.jsxs)(Ge.a,{open:I,onClose:function(){D(!1),k(null),v({name:"",description:""})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la colecci\xf3n?"}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ve.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la colecci\xf3n la misma no podr\xe1 ser recuperada."})}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{className:"btn",onClick:function(){return D(!1)},color:"primary",children:"Cancelar"}),Object(a.jsx)(We.a,{className:"btn",onClick:function(){i(C.id),D(!1),o||(d("col",!1),v({name:"",description:""}),k(null))},color:"primary",children:"Eliminar"})]})]})]})]})},Qt=n(118),Zt=n.n(Qt),en=["#79ADDC","#FFC09F","#FFEE93","#ADF7B6","#FBADFF","#DCB6D5","#F2F7F2"],tn=function(e){var t=e.tags,n=e.editing,s=e.handleChange,l=e.handleCreate,i=e.handleDelete,o=e.largeWidth,r=e.open,d=e.openModal,j=e.setDrawerOpen,O=e.setEditing,g=Object(c.useState)({color:"",name:""}),f=Object(m.a)(g,2),N=f[0],v=f[1],w=Object(c.useState)(null),y=Object(m.a)(w,2),C=y[0],k=y[1],E=Object(c.useState)(!1),S=Object(m.a)(E,2),I=S[0],D=S[1],T=Object(c.useState)(!0),A=Object(m.a)(T,2),M=A[0],_=A[1];setTimeout((function(){_(!1)}),2e3);var F=function(e,t){"create"===t?v(Object(u.a)(Object(u.a)({},N),{},{color:e})):k(Object(u.a)(Object(u.a)({},C),{},{color:e}))},R=function(e){k(Object(u.a)(Object(u.a)({},C),{},Object(b.a)({},e.target.name,e.target.value)))};t.tags.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var P=window.screen.width<350,L=Object(a.jsxs)("div",{className:"modal-col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:C&&!o?"Editar etiqueta":"Crear una etiqueta..."}),Object(a.jsx)("hr",{})]}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/tag.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{autoFocus:!!o,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:N.name,name:"name",onChange:function(e){v(Object(u.a)(Object(u.a)({},N),{},Object(b.a)({},e.target.name,e.target.value)))}})}),Object(a.jsxs)("div",{className:"row my-3",children:[!P&&Object(a.jsx)("p",{className:"MuiFormLabel-root",style:{fontSize:"1rem"},children:"Color"}),Object(a.jsx)("div",{className:"d-flex justify-content-between w-100",children:en.map((function(e){return Object(a.jsx)(p.a,{className:o?"p-2":"p-0",id:N.color===e?"selectedColor":null,onClick:function(){return F(e,"create")},style:{borderColor:e},children:Object(a.jsx)(Zt.a,{style:{color:e,fontSize:P?25:35}})},e)}))})]}),Object(a.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[C&&!o?Object(a.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===N.name.length,onClick:function(){s(Object(u.a)(Object(u.a)({},N),{},{id:C.id,userId:C.userId})),setTimeout((function(){v({name:"",color:""}),k(null)}),1500),d("tag",!1)},type:"submit",children:"Guardar"}):Object(a.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===N.name.length,onClick:function(){l(N),setTimeout((function(){v({name:"",color:""})}),1500)},type:"submit",children:"Crear"}),C&&!o&&Object(a.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){D(!0)},children:"Eliminar"}),Object(a.jsx)("button",{type:"submit",className:C?"btn btn-outline-dark ml-3 btn-round cancel-btn-modal-edit":"btn btn-outline-danger ml-3 btn-round cancel-btn-modal",onClick:function(){d("tag",!1),k(null),v({name:"",color:""})},children:"Cancelar"})]})]});return Object(a.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(a.jsxs)("h1",{className:"display-1 settings-title",children:[!o&&Object(a.jsx)(p.a,{onClick:function(){return j(!0)},style:{color:"inherit"},className:"btn mb-1 p-0",children:Object(a.jsx)(Jt.a,{className:"menu-icon"})}),"Etiquetas"]}),Object(a.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.tags.length>0?Object(a.jsx)(Dt.a,{component:Tt.a,id:"tab-col-table",children:Object(a.jsxs)(At.a,{"aria-label":"caption table",children:[Object(a.jsx)("caption",{children:"Usa las etiquetas para ordenar tus notas por categor\xeda, de esta forma podr\xe1s encontrar la nota que buscas rapidamente."}),Object(a.jsx)(Mt.a,{id:"thead",children:Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(Ft.a,{children:Object(a.jsx)("b",{children:"Nombre"})}),Object(a.jsx)(Ft.a,{children:Object(a.jsx)("b",{children:"Color"})}),Object(a.jsx)(Ft.a,{})]})}),Object(a.jsx)(Rt.a,{id:"tbody",children:t.tags.map((function(e,c){return Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(Ft.a,{component:"th",scope:"row",className:"table-cell-col",children:n.tag===c?Object(a.jsx)(h.a,{className:"w-100",placeholder:"Nombre",value:C.name,onChange:R,name:"name",inputProps:{maxLength:20}}):Object(a.jsxs)("p",{children:[Object(a.jsx)(ct.a,{}),"\xa0\xa0",e.name]})}),Object(a.jsx)(Ft.a,{className:"table-cell-col",children:n.tag===c?en.map((function(e){return Object(a.jsx)(p.a,{className:"color-dot",id:C.color===e?"selectedColor":null,onClick:function(){return F(e,"update")},style:{borderColor:e},children:Object(a.jsx)(Zt.a,{style:{color:e}})})})):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Zt.a,{style:{color:e.color}})})}),Object(a.jsx)(Ft.a,{align:"right",className:"p-0",children:o?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:"p-2 btn",onClick:n.tag===c?function(){return s(C)}:function(){k(t.tags[c]),v(t.tags[c]),O(Object(u.a)(Object(u.a)({},n),{},{tag:c,col:void 0}))},children:n.tag===c?Object(a.jsx)(Vt.a,{style:{color:"#198754"}}):Object(a.jsx)(qt.a,{style:{color:"#2185D0"}})}),Object(a.jsx)(p.a,{className:"p-2 btn",onClick:function(){k(t.tags[c]),D(!0)},children:n.tag===c&&Object(a.jsx)(Wt.a,{style:{color:"#dc3545"}})})]}):Object(a.jsx)(p.a,{className:"p-2 btn",onClick:function(){k(t.tags[c]),v(Object(u.a)(Object(u.a)({},N),{},{name:t.tags[c].name,color:t.tags[c].color})),d("tag",!0)},children:Object(a.jsx)(Yt.a,{})})})]},e.name)}))}),o&&Object(a.jsx)(Pt.a,{children:Object(a.jsxs)("button",{onClick:function(){k(null),v({name:"",color:""}),d("tag",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(a.jsx)("i",{className:"plus icon"}),o?"  Crear nueva etiqueta":"  Nueva etiqueta"]})})]})}):M?Object(a.jsx)("div",{style:o?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(a.jsx)(St,{})}):Object(a.jsx)("div",{className:"no-data-cont all-center row",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%",transform:"rotateY(180deg)"}}),Object(a.jsx)("p",{className:"all-center",children:Object(a.jsx)("b",{children:"No hay etiquetas"})}),Object(a.jsx)("div",{className:"all-center",children:Object(a.jsxs)("button",{onClick:function(){d("tag",!0)},type:"button",className:"ui labeled icon button btn-round blue white m-3 mb-0",children:[Object(a.jsx)("i",{className:"plus icon"}),"Crea tu primera etiqueta"]})})]})}),Object(a.jsx)(x.a,{open:r.tag,onClose:function(){d("tag",!1),k(null),v({name:"",color:""})},className:"d-flex w-100 justify-content-center align-items-center",children:L}),Object(a.jsxs)(Ge.a,{open:I,onClose:function(){return D(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la etiqueta?"}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ve.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la etiqueta la misma no podr\xe1 ser recuperada."})}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{className:"btn",onClick:function(){return D(!1)},color:"primary",children:"Cancelar"}),Object(a.jsx)(We.a,{className:"btn",onClick:function(){i(C.id),D(!1),o||(d("tag",!1),v({name:"",color:""}),k(null))},color:"primary",children:"Eliminar"})]})]})]}),!o&&Object(a.jsx)(Lt.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return d("tag",!0)},children:Object(a.jsx)(Kt.a,{className:"add-icon"})})]})},nn=function(e){return function(t){try{l.a.get("/tag/all/".concat(e)).then((function(e){t({type:K,tags:e.data})}))}catch(n){console.log(n)}}},an=function(e){return function(t){try{l.a.get("/collection/all/".concat(e)).then((function(e){return t({type:_,collections:e.data})}))}catch(n){console.log(n)}}},cn=function(e){var t=e.match,n=Object(r.b)(),s=Object(j.f)(),i=Object(r.c)((function(e){return e.users.darkMode})),o=Object(r.c)((function(e){return e.users})),d=Object(r.c)((function(e){return e.collections})),h=Object(r.c)((function(e){return e.tags})),x=Object(c.useState)({tag:"",col:""}),g=Object(m.a)(x,2),f=g[0],N=g[1],v=Object(c.useState)({tag:!1,col:!1}),w=Object(m.a)(v,2),y=w[0],C=w[1],k=Object(c.useState)({open:!1,message:""}),E=Object(m.a)(k,2),S=E[0],I=E[1],D=Object(c.useState)(!1),T=Object(m.a)(D,2),A=T[0],M=T[1],_=window.screen.width>600,F=1===o.user.id,z=sessionStorage.getItem("id")||localStorage.getItem("id"),q=sessionStorage.getItem("token")||localStorage.getItem("token");Object(c.useEffect)((function(){n(re(z)),n(an(z)),n(nn(z))}),[n]),Object(c.useEffect)((function(){null===q&&s.push("/login")}),[s]);var G=function(){setTimeout((function(){n(an(z)),n(nn(z))}),500)},Y=function(e){n(function(e){return function(t){console.log(e);try{l.a.put("/collection/".concat(e.id),{data:e}).then((function(e){return t({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:P})}))}catch(n){console.log(n)}}}(e)),N(Object(u.a)(Object(u.a)({},f),{},{col:void 0})),I({open:!0,message:"Colecci\xf3n actualizada"})},U=function(e){n(function(e,t){return function(n){try{l.a.post("/collection/".concat(t),{data:e}).then((function(e){return n({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:R})}))}catch(a){console.log(a)}}}(e,z)),C(Object(u.a)(Object(u.a)({},y),{},{col:!1})),I({open:!0,message:"Colecci\xf3n creada"})},W=function(e){F&&e<5?(I({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),N(Object(u.a)(Object(u.a)({},f),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{l.a.delete("/collection/".concat(e)).then((function(e){return t({collections:e.data.collections,message:e.data.message,response:e.status,type:L})}))}catch(n){console.log(n)}}}(e)),G(),N(Object(u.a)(Object(u.a)({},f),{},{col:void 0})),I({open:!0,message:"Colecci\xf3n eliminada"}))},B=function(e){n(function(e){return function(t){try{l.a.put("/tag/".concat(e.id),{data:e}).then((function(e){return t({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:X})}))}catch(n){console.log(n)}}}(e)),G(),N(Object(u.a)(Object(u.a)({},f),{},{tag:void 0})),I({open:!0,message:"Etiqueta actualizada"})},V=function(e){n(function(e,t){return function(n){try{l.a.post("/tag/".concat(t),{data:e}).then((function(e){return n({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:J})}))}catch(a){console.log(a)}}}(e,z)),C(Object(u.a)(Object(u.a)({},y),{},{tag:!1})),I({open:!0,message:"Etiqueta creada"})},H=function(e){F&&e<8?(I({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),N(Object(u.a)(Object(u.a)({},f),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{l.a.delete("/tag/".concat(e)).then((function(e){return t({message:e.data.message,response:e.status,tags:e.data.tags,type:Q})}))}catch(n){console.log(n)}}}(e)),G(),N(Object(u.a)(Object(u.a)({},f),{},{tag:void 0,col:void 0})),I({open:!0,message:"Etiqueta eliminada"}))},K=function(e,t){N(Object(u.a)(Object(u.a)({},f),{},{tag:void 0,col:void 0})),C(Object(u.a)(Object(u.a)({},y),{},Object(b.a)({},e,t)))};return Object(a.jsxs)("div",{className:_?"row full-height":"row full-height bs-gutter",children:[_?Object(a.jsx)("div",{className:"col-md-2 login-bg p-0",children:Object(a.jsx)(st,{users:o})}):Object(a.jsx)(_e.a,{open:A,onClose:function(){return M(!1)},children:Object(a.jsx)("div",{className:"col-md-2 login-bg p-0 full-height",children:Object(a.jsx)(st,{users:o,setDrawerOpen:M})})}),_?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"col-md-5 full-height",children:Object(a.jsx)(Xt,{collections:d,darkMode:i,editing:f,largeWidth:_,open:y,openModal:K,setEditing:N,handleChange:Y,handleCreate:U,handleDelete:W,setDrawerOpen:M})}),Object(a.jsx)("div",{className:"col-md-5 full-height",children:Object(a.jsx)(tn,{darkMode:i,editing:f,open:y,openModal:K,setEditing:N,handleChange:B,handleCreate:V,handleDelete:H,largeWidth:_,setDrawerOpen:M,tags:h})})]}):"col"===t.params.type?Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)(Xt,{collections:d,darkMode:i,editing:f,largeWidth:_,open:y,openModal:K,setEditing:N,handleChange:Y,handleCreate:U,handleDelete:W,setDrawerOpen:M})}):Object(a.jsx)("div",{className:"col-md-5",children:Object(a.jsx)(tn,{darkMode:i,editing:f,open:y,openModal:K,setEditing:N,handleChange:B,handleCreate:V,handleDelete:H,largeWidth:_,setDrawerOpen:M,tags:h})}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:S.open,autoHideDuration:6e3,onClose:function(){return I(!1)},message:S.message,action:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return I(!1)},children:Object(a.jsx)(yt.a,{fontSize:"small"})})})})]})},sn=n(550),ln=n(168),on=n.n(ln),rn=n(169),dn=n.n(rn),jn=n(209),bn=n.n(jn),un=n(210),mn=n.n(un),hn=n(299),On=n.n(hn),pn=n(300),xn=n.n(pn),gn=n(170),fn=n.n(gn),Nn=(n(279),function(e){var t=e.changeRoute,n=e.collections,s=e.filterCollections,l=e.filterTags,i=e.largeWidth,o=e.pathname,r=e.tags,d=Object(c.useState)(!0),j=Object(m.a)(d,2),b=j[0],u=j[1],h=Object(c.useState)(!1),O=Object(m.a)(h,2),p=O[0],x=O[1],g=function(e){"tag"===e?u(!b):x(!p)};return Object(a.jsxs)("div",{className:"row full-height m-0",children:[Object(a.jsx)("div",{className:"home-sidebar inicio-logo",children:Object(a.jsx)(S,{})}),Object(a.jsx)("div",{id:"side-bar--cont",children:Object(a.jsxs)(Re.a,{component:"nav",className:"white",children:[Object(a.jsxs)(Pe.a,{button:!0,id:"/home"===o&&"home-select",onClick:function(){return t("/home")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(On.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Inicio"})]}),Object(a.jsxs)(Pe.a,{button:!0,onClick:function(){g("col")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(nt.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Colecciones"}),p?Object(a.jsx)(bn.a,{}):Object(a.jsx)(mn.a,{})]}),Object(a.jsx)(sn.a,{in:p,timeout:"auto",unmountOnExit:!0,children:n&&n.sort().map((function(e){return Object(a.jsx)(Re.a,{component:"div",disablePadding:!0,children:Object(a.jsxs)(Pe.a,{button:!0,onClick:function(){return s(e.id)},style:{paddingLeft:40},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(xn.a,{className:"white"})}),Object(a.jsx)(ze.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(a.jsxs)(Pe.a,{button:!0,onClick:function(){g("tag")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(ct.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Etiquetas"}),b?Object(a.jsx)(bn.a,{}):Object(a.jsx)(mn.a,{})]}),Object(a.jsx)(sn.a,{in:b,timeout:"auto",unmountOnExit:!0,children:r&&r.sort().map((function(e){return Object(a.jsx)(Re.a,{component:"div",disablePadding:!0,children:Object(a.jsxs)(Pe.a,{button:!0,onClick:function(){return l(e.id)},style:{paddingLeft:40},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(Zt.a,{style:{color:e.color}})}),Object(a.jsx)(ze.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(a.jsxs)(Pe.a,{button:!0,id:"/archive"===o&&"home-select",onClick:function(){return t("/archive")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(on.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Notas archivadas"})]}),Object(a.jsxs)(Pe.a,{button:!0,id:"/trash"===o&&"home-select",onClick:function(){return t("/trash")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(dn.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Papelera de reciclaje"})]}),!i&&Object(a.jsxs)(Pe.a,{button:!0,onClick:function(){return t("/edit profile")},children:[Object(a.jsx)(Le.a,{children:Object(a.jsx)(fn.a,{className:"white"})}),Object(a.jsx)(ze.a,{primary:"Configuraci\xf3n"})]})]})})]})}),vn=n(302),wn=n.n(vn),yn=n(301),Cn=n.n(yn),kn=n(303),En=n.n(kn),Sn=n(561),In=function(e){var t=e.closeNote,n=e.collection,c=e.greeting,s=e.handleChange,l=e.inputValue,i=e.largeWidth,o=e.loading,r=e.note,d=e.onEdition,b=e.openNote,u=e.setDrawerOpen,m=e.setOpenColModal,h=e.user,O=Object(j.f)();return Object(a.jsxs)("div",{className:"nav-home d-flex align-items-center justify-content-between",children:[!i&&Object(a.jsx)("div",{children:b?Object(a.jsx)(p.a,{onClick:t,className:"btn white",children:Object(a.jsx)(Cn.a,{style:{width:"35px",height:"40px"}})}):Object(a.jsx)(p.a,{onClick:function(){return u(!0)},className:"btn white",children:Object(a.jsx)(Jt.a,{style:{width:"35px",height:"40px"}})})}),Object(a.jsxs)("div",{className:"ui transparent input input-search col-md-6",children:[i&&Object(a.jsx)(wn.a,{style:{color:"#FFF",marginRight:"20px",height:"100%"}}),Object(a.jsx)("input",{type:"text",placeholder:"Buscar...",onChange:s,id:"search-note",value:l})]}),Object(a.jsxs)("div",{className:i?"col-md-4 actions-note":"actions-note",children:[i&&(o?d.id&&Object(a.jsx)(C.a,{className:"loop-out"}):d.id&&Object(a.jsx)(p.a,{id:"btn-home",style:{color:"white"},className:"btn white m-0",onClick:function(){},title:"Se han guardado los cambios",children:Object(a.jsx)(En.a,{})})),i&&Object(a.jsx)(p.a,{id:"btn-home",className:"btn white",onClick:function(){return O.push("/edit profile")},title:"Configuraci\xf3n",children:Object(a.jsx)(fn.a,{})}),b&&!i?Object(a.jsx)("div",{className:"all-center row m-1",children:r.collectionId?Object(a.jsx)(Sn.a,{clickable:!0,variant:"outlined",label:n.name,className:"chip-out",onClick:function(){return m(!0)},size:"small"}):Object(a.jsx)(Sn.a,{clickable:!0,color:"secondary",id:"back-blue",label:"A\xf1adir colecci\xf3n",onClick:function(){return m(!0)},size:"small"})}):Object(a.jsxs)(a.Fragment,{children:[i&&Object(a.jsxs)("div",{className:"mx-3",children:[Object(a.jsx)("b",{className:"m-0 d-flex justify-content-end greeting white display-6",children:"".concat(c,",")}),Object(a.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name white",children:"".concat(h.name,"!")})]}),h.profile_photo?Object(a.jsx)(Fe.a,{alt:"profile_photo",className:"pe",imgProps:{draggable:!1},src:"data:".concat(h.profile_photo&&h.profile_photo.contentType,";base64, ").concat(h.profile_photo&&h.profile_photo.image)}):Object(a.jsxs)(Fe.a,{alt:"profile_photo",className:"blue",children:[h.name&&h.name.slice(0,1)," ",h.lastname&&h.lastname.slice(0,1)]})]})]})]})},Dn=n(304),Tn=n.n(Dn),An=function(e){var t=e.collection,n=e.content,c=e.darkMode,s=e.date,l=e.editNote,i=e.hour,o=e.id,r=e.title;return Object(a.jsxs)("div",{className:"card note-card",id:c&&"dark-blue",onClick:function(){return l(o)},onKeyDown:function(){return l(o)},role:"button",tabIndex:0,children:[Object(a.jsx)("div",{className:"card-title",children:Object(a.jsx)("h3",{children:r.length>20?"".concat(r.slice(0,20),"..."):r||"Sin t\xedtulo"})}),Object(a.jsx)("div",{className:"card-text d-flex h-100",children:Object(a.jsx)("p",{children:n.length>200?"".concat(n.slice(0,100),"..."):n})}),Object(a.jsxs)("div",{className:"card-footer d-flex justify-content-between align-items-center px-0",id:c&&"dark-blue",children:[Object(a.jsx)("div",{className:"w-50",children:t&&Object(a.jsx)("span",{style:{backgroundColor:"#2185D0",borderRadius:10},className:"uk-label col-label",children:t.name})}),Object(a.jsx)("div",{className:"w-50 d-flex justify-content-end",children:Object(a.jsx)("p",{className:"date",children:"".concat(s," | ").concat(i)})})]})]})},Mn=function(e){var t=e.collections,n=e.darkMode,c=e.editNote,s=e.greeting,l=e.largeWidth,i=e.message,o=e.newNote,r=e.notes,d=e.onEdition,j=e.pathname,b=e.restartFilter,u=e.selectedFilter,m=e.user,h=[];return Object(a.jsx)("div",{className:l?"blue-aside notes-cont":"notes-cont",id:n&&"dark-border",children:Object(a.jsxs)("div",{className:"row full-height w-100",children:[Object(a.jsx)("div",{className:"col d-flex justify-content-between align-items-center directory",children:"/archive"===j?Object(a.jsx)("h4",{className:"display-6 white",children:"Notas archivadas"}):"/trash"===j?Object(a.jsx)("h4",{className:"display-5 white",children:"Papelera"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h4",{className:"display-5 white",children:"Notas"}),l?Object(a.jsx)(p.a,{className:"p-0 btn btn-add-note",style:{width:45,height:45},onClick:o,title:"Nueva nota",children:Object(a.jsx)(Kt.a,{className:"w-75 h-75 white"})}):Object(a.jsxs)("div",{className:"d-flex row justify-content-end",children:[Object(a.jsx)("b",{className:"m-0 d-flex justify-content-end greeting display-6",children:"".concat(s,",")}),Object(a.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name",children:"".concat(m.name,"!")}),Object(a.jsx)("hr",{className:"my-1 w-25 pr-2",style:{marginRight:"10px"}})]})]})}),""!==u.name&&Object(a.jsx)("div",{className:"row d-flex align-items-center my-3",children:Object(a.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(a.jsx)("b",{className:"m-0 white khula",children:"".concat(u.type," seleccionada:")}),Object(a.jsx)(Sn.a,{label:u.name,onDelete:b,color:"secondary",className:"filter-selected"})]})}),Object(a.jsx)("div",{id:"notes-cont-3",className:0===r.length&&"all-center",children:0!==r.length?r&&r.map((function(e){var s=it()(e.updatedAt.slice(0,10),"YYYY-MM-DD").fromNow().split(" ");return Object(a.jsxs)(a.Fragment,{children:[("hour"===s[1]||"hours"===s[1]||"seconds"===s[1]||"minute"===s[1]||"minutes"===s[1]||"few"===s[1]||"in"===s[0])&&!h.includes("today")&&(h.push("today"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Hoy"}),Object(a.jsx)("hr",{className:"mt-0"})]})),"day"===s[1]&&!h.includes("yesterday")&&(h.push("yesterday"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Ayer"}),Object(a.jsx)("hr",{className:"mt-0"})]})),"days"===s[1]&&!h.includes("days")&&(h.push("days"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Dos d\xedas o mas"}),Object(a.jsx)("hr",{className:"mt-0"})]})),"days"===s[1]&&parseInt(s[0],10)>=7&&!h.includes("week")&&(h.push("week"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Una semana o mas"}),Object(a.jsx)("hr",{className:"mt-0"})]})),("month"===s[1]||"months"===s[1])&&!h.includes("month")&&(h.push("month"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Un mes o mas"}),Object(a.jsx)("hr",{className:"mt-0"})]})),("year"===s[1]||"years"===s[1])&&!h.includes("year")&&(h.push("year"),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("b",{children:"Un a\xf1o o mas"}),Object(a.jsx)("hr",{className:"mt-0"})]})),Object(a.jsx)(An,{editNote:c,collection:t.filter((function(t){return t.id===e.collectionId}))[0],content:e.id===d.id?d.content:e.content,date:e.updatedAt&&it()(e.updatedAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY"),darkMode:n,hour:e.updatedAt&&Tn()(e.updatedAt).tz("America/Montevideo").format("HH:mm"),id:e.id,title:e.id===d.id?d.title:e.title},e.id)]})})):Object(a.jsxs)("div",{className:"all-center row w-75",children:[Object(a.jsx)("img",{draggable:!1,src:"svg/oops.svg",width:"50%",alt:"not-found",style:{marginBottom:"10%"}}),Object(a.jsx)("p",{className:"all-center",children:Object(a.jsx)("b",{children:i})})]})}),!l&&"/home"===j&&Object(a.jsx)(Lt.a,{"aria-label":"add",className:"fab-add btn",onClick:o,children:Object(a.jsx)(Kt.a,{className:"add-icon"})})]})})},_n=function(e){return function(t){try{l.a.get("/note/all/".concat(e)).then((function(e){t({type:W,notes:e.data,response:e.status})}))}catch(n){console.log(n)}}},Fn=function(e,t){return function(n){try{l.a.post("/note/".concat(t),{data:e}).then((function(e){return n({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:G})}))}catch(a){console.log(a)}}},Rn=function(e){return function(t){try{l.a.put("/note/".concat(e.id),{data:e}).then((function(e){t({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:V})}))}catch(n){console.log(n)}}},Pn=n(551),Ln=n(307),zn=n.n(Ln),qn=n(309),Gn=n.n(qn),Yn=n(308),Un=n.n(Yn),Wn=n(306),Bn=n.n(Wn),Vn=n(135),Hn=n.n(Vn),Kn=n(305),$n=n.n(Kn),Jn=function(e){var t=e.addTag,n=e.changeRoute,c=e.collection,s=e.collections,l=e.deleteTag,i=e.duplicate,o=e.editCollection,r=e.handleChange,d=e.handleStateChange,j=e.largeWidth,b=e.mainDashboardNotes,u=e.openColModal,m=e.openTagModal,h=e.newNote,O=e.note,g=e.notes,f=e.onEdition,N=e.pathname,v=e.saveNote,y=e.setOpenColModal,C=e.setOpenDialog,k=e.setOpenTagModal,E=e.tags,S=Object(a.jsxs)("div",{className:"modal-col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:O.collectionId?"Editar colecci\xf3n":"A\xf1adir colecci\xf3n"}),Object(a.jsx)("hr",{})]}),Object(a.jsx)("div",{className:"tag-cont",children:s.length>0?s&&s.map((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(a.jsxs)("p",{className:"d-flex m-0",children:[Object(a.jsx)(nt.a,{style:{color:"#2185D0"}}),"\xa0\xa0\xa0",e.name]}),e.id===O.collectionId?Object(a.jsx)(Sn.a,{deleteIcon:Object(a.jsx)(w.a,{style:{color:"#2185D0"}}),label:"Seleccionada",onDelete:function(){o(null),y(!1)},size:"small",variant:"outlined",color:"primary"}):Object(a.jsx)(p.a,{className:"btn",onClick:function(){o(e.id),y(!1)},children:Object(a.jsx)(Kt.a,{})})]},e.id),Object(a.jsx)("hr",{})]})})):Object(a.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,alt:""})}),Object(a.jsx)("p",{className:"all-center mt-4",children:Object(a.jsx)("b",{children:"Aun no tienes colecciones"})})]})}),Object(a.jsx)(a.Fragment,{children:s.length>0?Object(a.jsx)("div",{className:"w-100 my-3",children:Object(a.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags/col")},type:"button",children:Object(a.jsxs)("p",{children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Nueva colecci\xf3n"]})})}):Object(a.jsx)("div",{className:"w-100 my-3 all-center",children:Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags/col")},type:"button",children:Object(a.jsxs)("p",{children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Crear nueva colecci\xf3n"]})})})})]}),I=Object(a.jsxs)("div",{className:"modal-col",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{id:"simple-modal-title",className:"display-6",children:j?"A\xf1adir etiquetas":"Editar etiquetas"}),Object(a.jsx)("hr",{})]}),Object(a.jsx)("div",{className:"tag-cont",children:E.length>0?E&&E.map((function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(a.jsxs)("p",{className:"d-inline m-0",children:[Object(a.jsx)(Hn.a,{style:{color:e.color}}),"\xa0\xa0\xa0",e.name]}),O.tags&&O.tags.map((function(e){return e.name})).includes(e.name)?j?Object(a.jsx)(Vt.a,{style:{margin:12,color:"#198754"}}):Object(a.jsx)(p.a,{className:"btn",onClick:function(){return l(f.id,e.id)},children:Object(a.jsx)($n.a,{style:{color:"#dc3545"}})}):Object(a.jsx)(p.a,{className:"btn",onClick:function(){return t(f.id,e.id)},children:Object(a.jsx)(Kt.a,{className:"green"})})]},e.id),Object(a.jsx)("hr",{})]})})):Object(a.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(a.jsx)("div",{className:"all-center",children:Object(a.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,alt:""})}),Object(a.jsx)("p",{className:"all-center mt-4",children:Object(a.jsx)("b",{children:"Aun no tienes etiquetas"})})]})}),E.length>0?Object(a.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center my-3",children:[Object(a.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags")},type:"button",children:Object(a.jsxs)("p",{children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Nueva etiqueta"]})}),Object(a.jsx)("button",{className:"btn btn-success btn-round w-25",onClick:function(){return k(!1)},type:"button",children:"Listo"})]}):Object(a.jsx)("div",{className:"w-100 all-center my-3",children:Object(a.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags")},type:"button",children:Object(a.jsxs)("p",{children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Crear nueva etiqueta"]})})})]});return Object(a.jsx)("div",{className:"full-height",children:f.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"row w-100",style:{height:"93%"},children:[Object(a.jsxs)("div",{className:"ui transparent input input-title mx-3 w-100",children:[Object(a.jsx)(x.a,{open:u,onClose:function(){return y(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:S}),Object(a.jsx)(x.a,{open:m,onClose:function(){return k(!1)},className:"d-flex w-100 justify-content-center align-items-center",children:I}),Object(a.jsx)("input",{className:j?"w-50":"w-100",autoComplete:"off",type:"text",placeholder:"T\xedtulo...",value:f.title||"",name:"title",onChange:r,id:"note-title"}),j&&Object(a.jsx)("div",{className:"all-center row",children:O.collectionId?Object(a.jsx)(Sn.a,{clickable:!0,variant:"outlined",color:"primary",icon:Object(a.jsx)(nt.a,{}),label:c.name,onClick:function(){return y(!0)}}):Object(a.jsx)(Sn.a,{clickable:!0,color:"primary",id:"back-blue",icon:Object(a.jsx)(Kt.a,{}),label:"A\xf1adir colecci\xf3n",onClick:function(){return y(!0)}})})]}),Object(a.jsx)("div",{className:"ui transparent textarea w-100 h-90",children:Object(a.jsx)("textarea",{placeholder:"Deja flu\xedr tus ideas...",className:"note-content w-100",value:f.content||"",name:"content",onChange:r,onKeyUp:v,onPaste:v})})]}),Object(a.jsxs)("div",{className:"actions-notes p-0 m-0 pl-3 row w-100",children:[j&&Object(a.jsxs)("div",{className:"col-md-9 m-0 d-flex align-items-center",children:[O.tags&&O.tags.map((function(e,t){return t<5&&Object(a.jsx)("div",{className:"tab-indicator mx-1 px-2",style:{backgroundColor:e.color},children:Object(a.jsxs)("div",{className:"col d-flex align-items-center justify-content-between h-100 w-100",children:[Object(a.jsx)("p",{className:"overflow-hidden",children:e.name}),Object(a.jsx)(p.a,{className:"p-0 btn",id:"delete-tag",onClick:function(){return l(f.id,e.id)},title:"Quitar etiqueta de la nota",children:Object(a.jsx)(w.a,{})})]})},e.id)})),O.tags&&O.tags.length>5&&Object(a.jsx)(Pn.a,{className:"mx-2",badgeContent:"+".concat(O.tags.length-5),color:"primary",children:Object(a.jsx)(Hn.a,{})}),Object(a.jsx)(p.a,{className:"btn",onClick:function(){return k(!0)},title:"A\xf1adir etiqueta",children:Object(a.jsx)(Kt.a,{})})]}),Object(a.jsxs)("div",{className:j?"col-md-3 m-0 d-flex justify-content-end align-items-center":"m-0 d-flex justify-content-between align-items-center",children:[!j&&Object(a.jsxs)("div",{className:"d-flex align-items-center tag-cont-show",children:[O.tags&&O.tags.map((function(e,t){return t<2&&Object(a.jsx)("div",{className:"tab-indicator mx-1 px-1",style:{backgroundColor:e.color},children:Object(a.jsx)("div",{className:"col d-flex align-items-center justify-content-center h-100",children:Object(a.jsx)("p",{children:e.name})})},e.id)})),O.tags&&O.tags.length>2?Object(a.jsx)(Pn.a,{className:"mx-2",badgeContent:O.tags&&O.tags.length>2&&"+".concat(O.tags.length-2),color:"primary",children:Object(a.jsx)(p.a,{className:"btn p-0",title:"A\xf1adir etiqueta",onClick:function(){return k(!0)},children:Object(a.jsx)(Hn.a,{})})}):Object(a.jsx)(p.a,{className:"btn",title:"A\xf1adir etiqueta",onClick:function(){return k(!0)},children:Object(a.jsx)(Hn.a,{})})]}),Object(a.jsxs)("div",{children:["/home"===N&&Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(p.a,{className:"btn",onClick:i,title:"Duplicar",children:Object(a.jsx)(Bn.a,{})})}),"/archive"===N?Object(a.jsx)(p.a,{className:"btn",onClick:function(){return d("main-dashboard","Nota desarchivada")},title:"Desarchivar",children:Object(a.jsx)(zn.a,{})}):Object(a.jsx)(p.a,{className:"btn",onClick:function(){return d("archive","Nota archivada")},title:"Archivar",children:Object(a.jsx)(on.a,{})}),"/trash"===N?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p.a,{className:"btn",onClick:function(){return C(!0)},title:"Eliminar nota",children:Object(a.jsx)(Un.a,{})}),Object(a.jsx)(p.a,{className:"btn",onClick:function(){return d("main-dashboard","Nota restaurada")},title:"Restaurar",children:Object(a.jsx)(Gn.a,{})})]}):Object(a.jsx)(p.a,{className:"btn",onClick:function(){return d("trash","Nota movida a papelera")},title:"Mover a la papelera",children:Object(a.jsx)(dn.a,{})}),j&&Object(a.jsx)("b",{title:"Fecha de creaci\xf3n",style:{cursor:"default"},children:Object(a.jsx)("small",{children:O.createdAt&&it()(O.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY")})})]})]})]})]}):Object(a.jsx)("div",{className:"all-center full-height row",children:b&&0===b.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"svg/add-note.svg",alt:"",style:{height:"75%"},draggable:!1}),Object(a.jsxs)("div",{className:"all-center row",children:[Object(a.jsx)("b",{className:"all-center",children:"Al parecer a\xfan no tienes notas"}),Object(a.jsxs)("button",{className:"btn btn-round my-3 btn-sm btn-primary w-25 all-center",onClick:h,type:"button",children:[Object(a.jsx)(Kt.a,{}),"\xa0\xa0Crea tu primera nota"]})]})]}):g&&0===g.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"svg/not-found.svg",alt:"",style:{height:"80%"},draggable:!1}),Object(a.jsx)("b",{className:"all-center",children:"No hemos encontrado resultados"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:"svg/select.svg",alt:"",style:{height:"80%"},draggable:!1}),Object(a.jsx)("b",{className:"select-text",children:"Selecciona una nota para ver su contenido o editarla"})]})})})},Xn=function(){var e=Object(r.b)(),t=Object(j.f)(),n=Object(r.c)((function(e){return e.notes})),s=Object(r.c)((function(e){return e.tags})),i=Object(r.c)((function(e){return e.collections})),o=Object(r.c)((function(e){return e.users})),d=Object(c.useState)({content:"",title:""}),h=Object(m.a)(d,2),x=h[0],g=h[1],f=Object(c.useState)({open:!1,message:"",undo:!0}),N=Object(m.a)(f,2),v=N[0],y=N[1],C=Object(c.useState)({type:"",name:""}),k=Object(m.a)(C,2),E=k[0],S=k[1],I=Object(c.useState)(!1),D=Object(m.a)(I,2),T=D[0],A=D[1],M=Object(c.useState)(!0),_=Object(m.a)(M,2),F=_[0],R=_[1],P=Object(c.useState)(!1),L=Object(m.a)(P,2),G=L[0],W=L[1],V=Object(c.useState)(0),H=Object(m.a)(V,2),K=H[0],$=H[1],J=Object(c.useState)(!1),X=Object(m.a)(J,2),Q=X[0],Z=X[1],ee=Object(c.useState)(!1),te=Object(m.a)(ee,2),ne=te[0],ae=te[1],ce=Object(c.useState)(!1),se=Object(m.a)(ce,2),le=se[0],ie=se[1],de=Object(c.useState)(""),je=Object(m.a)(de,2),be=je[0],me=je[1],he=Object(c.useState)(!1),Oe=Object(m.a)(he,2),pe=Oe[0],xe=Oe[1],ge=Object(c.useState)(!1),fe=Object(m.a)(ge,2),Ne=fe[0],ve=fe[1],we=sessionStorage.getItem("id")||localStorage.getItem("id"),ye=sessionStorage.getItem("token")||localStorage.getItem("token"),Ce=t.location.pathname,ke=1===o.user.id;Object(c.useEffect)((function(){null===ye&&t.push("/login")}),[t]),Object(c.useEffect)((function(){return we&&(e(re(we)),e(an(we)),e(nn(we)),e(_n(we)),e(ue(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")))),function(){x.id&&e(Rn(Object(u.a)(Object(u.a)({},n.note),{},{title:x.title,content:x.content}))),1===o.user.id&&e(oe())}}),[]),Object(c.useEffect)((function(){o.user.id&&o.user.name&&(R(!1),ye!==o.token&&t.push("/login"))}),[o.user.id]),n.notes&&n.notes.sort((function(e,t){return e.updatedAt>t.updatedAt?-1:e.updatedAt<t.updatedAt?1:0}));var Ee=n.notes&&n.notes.filter((function(e){return"main-dashboard"===e.state})),Se=n.notes&&n.notes.filter((function(e){return"archive"===e.state})),Ie=n.notes&&n.notes.filter((function(e){return"trash"===e.state})),De=window.screen.width>600,Te=it()().hour(),Ae="";Ae=Te>4&&Te<12?"Buen d\xeda":Te>=12&&Te<19?"Buenas tardes":"Buenas noches";var Me="";Me=be.length>2?"No hay coincidencias":"/trash"===Ce?"No hay notas en la papelera":"/archive"===Ce?"No hay notas archivadas":"No hay notas";var Fe=function(e,t,n){y(201===t?{open:!0,message:e,undo:n}:{open:!0,message:"Ha ocurrido un error",undo:!1})},Re=function(){x.title===n.note.title&&x.content===n.note.content||(A(!0),e(Rn(x)),setTimeout((function(){A(!1)}),500))},Pe=function(t,n){e(function(e,t){return function(n){try{l.a.post("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:z,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n)),setTimeout((function(){e(_n(we))}),500)},Le=function(){$(K+1),K>=10&&(A(!0),$(0),e(Rn(x)),setTimeout((function(){A(!1)}),2e3))},ze=function(e){t.push(e),W(!1),g({title:"",content:""}),Z(!1),S({name:"",type:""})},qe=function(){y(Object(u.a)(Object(u.a)({},v),{},{open:!1}))},He=function(t,n){e(function(e,t){return function(n){try{l.a.delete("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:U,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n))},Ke=function(){e(Fn({title:"",content:""},we))},$e=function(){x.id&&e(Fn(Object(u.a)(Object(u.a)({},n.note),{},{title:x.title,content:x.content}),we)),Fe("Nota duplicada",n.response,!1)},Je=function(t){e(Rn(Object(u.a)(Object(u.a)({},n.note),{},{collectionId:t})))},Xe=function(e){Z(!1),S({type:"Colecci\xf3n",name:i.collections.filter((function(t){return t.id===e}))[0].name}),W("/trash"===Ce?Ie.filter((function(t){return t.collectionId===e})):"/archive"===Ce?Se.filter((function(t){return t.collectionId===e})):Ee.filter((function(t){return t.collectionId===e})))},Qe=function(e){Z(!1),S({type:"Etiqueta",name:s.tags.filter((function(t){return t.id===e}))[0].name}),W("/trash"===Ce?Ie.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):"/archive"===Ce?Se.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):Ee.filter((function(t){return t.tags.some((function(t){return t.id===e}))})))},Ze=function(e){g(Object(u.a)(Object(u.a)({},x),{},Object(b.a)({},e.target.name,e.target.value)))},et=function(t,a){ke?Fe("Acci\xf3n no permitida en modo invitado",201,!1):(e(function(e,t){return function(n){try{l.a.delete("/note/".concat(e,"/").concat(t)).then((function(e){return n({message:e.data.message,notes:e.data.notes,response:e.status,type:Y})}))}catch(a){console.log(a)}}}(t,a)),g({title:"",content:""}),ie(!1),Fe("Nota eliminada",n.response,!1))},tt=function(t,a){var c;e((c=Object(u.a)(Object(u.a)({},n.note),{},{state:t}),function(e){try{l.a.put("/note/state/".concat(c.id),{data:c}).then((function(t){return e({notes:t.data,response:t.status,type:q})}))}catch(t){console.log(t)}})),g({title:"",content:""}),ie(!1),Fe(a,n.response,!0)},nt=Ee.filter((function(e){return e.title.includes(be)||e.content.includes(be)})),at=Ie.filter((function(e){return e.title.includes(be)||e.content.includes(be)})),ct=Se.filter((function(e){return e.title.includes(be)||e.content.includes(be)})),st=G&&G.filter((function(e){return e.title.includes(be)||e.content.includes(be)}));return Object(a.jsx)("div",{className:De?"row full-height overflow-hidden":"row full-height overflow-hidden bs-gutter",children:F?Object(a.jsx)(St,{}):Object(a.jsxs)(a.Fragment,{children:[De?Object(a.jsx)("div",{className:"col-md-2 login-bg full-height p-0",children:Object(a.jsx)(Nn,{changeRoute:ze,filterTags:Qe,filterCollections:Xe,largeWidth:De,tags:s.tags,collections:i.collections,pathname:Ce})}):Object(a.jsx)(_e.a,{open:Q,onClose:function(){return Z(!1)},children:Object(a.jsx)("div",{className:"col-md-2 login-bg full-height",children:Object(a.jsx)(Nn,{changeRoute:ze,filterTags:Qe,filterCollections:Xe,largeWidth:De,tags:s.tags,collections:i.collections,pathname:Ce})})}),Object(a.jsxs)("div",{className:"col-md-10 row full-height mr-0",id:"notes-cont-4",children:[Object(a.jsx)(In,{closeNote:function(){Re(),ie(!1),setTimeout((function(){g({title:"",content:""})}),1e3)},collection:i.collections.filter((function(e){return e.id===n.note.collectionId}))[0],greeting:Ae,handleChange:function(e){me(e.target.value)},inputValue:be,largeWidth:De,loading:T,note:n.note,onEdition:x,openNote:le,saveNote:Re,setDrawerOpen:Z,setOpenColModal:ve,user:o.user}),Object(a.jsxs)("div",{className:"row h-95 note-cont-4",children:[Object(a.jsx)("div",{className:"col-md-3 bs-gutter full-height",children:le&&!De&&x.id?Object(a.jsx)(Jn,{addTag:Pe,automaticSave:Le,changeRoute:ze,collection:n.note.collectionId&&i.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:i.collections,deleteTag:He,duplicate:$e,editCollection:Je,handleChange:Ze,handleStateChange:tt,largeWidth:De,note:n.note,mainDashboardNotes:Ee,notes:!1!==G?be.length>=3?st:G:"/archive"===Ce?be.length>=3?ct:Se:"/trash"===Ce?be.length>=3?at:Ie:be.length>=3?nt:Ee,onEdition:x,openColModal:Ne,openTagModal:pe,pathname:Ce,saveNote:Re,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:s.tags}):Object(a.jsx)(Mn,{collections:i.collections,darkMode:o.darkMode,editNote:function(t){var a=n.notes.filter((function(e){return e.id===t}));x.id&&Re(),setTimeout((function(){g(a[0]),e(function(e){return function(t){try{l.a.get("/note/".concat(e)).then((function(e){return t({type:B,note:e.data,response:e.status})}))}catch(n){console.log(n)}}}(t)),De||ie(!0)}),500)},greeting:Ae,largeWidth:De,message:Me,newNote:Ke,notes:!1!==G?be.length>=3?st:G:"/archive"===Ce?be.length>=3?ct:Se:"/trash"===Ce?be.length>=3?at:Ie:be.length>=3?nt:Ee,onEdition:x,pathname:Ce,restartFilter:function(){S({type:"",name:""}),ze("/home")},selectedFilter:E,user:o.user})}),De&&Object(a.jsx)("div",{className:"col-md-9 bs-gutter full-height",children:Object(a.jsx)(Jn,{addTag:Pe,allNotes:n.notes,automaticSave:Le,changeRoute:ze,collection:n.note.collectionId&&i.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:i.collections,deleteTag:He,duplicate:$e,editCollection:Je,handleChange:Ze,handleStateChange:tt,largeWidth:De,mainDashboardNotes:Ee,newNote:Ke,note:n.note,notes:!1!==G?be.length>=3?st:G:"/archive"===Ce?be.length>=3?ct:Se:"/trash"===Ce?be.length>=3?at:Ie:be.length>=3?nt:Ee,onEdition:x,openColModal:Ne,openTagModal:pe,pathname:Ce,saveNote:Re,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:s.tags})})]})]}),Object(a.jsxs)(Ge.a,{open:ne,onClose:function(){return ae(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(Ye.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la nota?"}),Object(a.jsx)(Be.a,{children:Object(a.jsx)(Ve.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la nota la misma no podr\xe1 ser recuperada."})}),Object(a.jsxs)(Ue.a,{children:[Object(a.jsx)(We.a,{className:"btn",color:"primary",onClick:function(){return ae(!1)},children:"Cancelar"}),Object(a.jsx)(We.a,{className:"btn",color:"primary",onClick:function(){et(x.id,x.userId),ae(!1)},children:"Eliminar"})]})]}),Object(a.jsx)(O.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:v.open,autoHideDuration:5e3,onClose:qe,message:v.message,action:Object(a.jsxs)(a.Fragment,{children:[v.undo&&"Acci\xf3n desecha"!==v.message?Object(a.jsx)(We.a,{className:"btn",color:"inherit",size:"small",onClick:function(){tt("/home"===Ce?"main-dashboard":Ce.slice(1),"Acci\xf3n desecha")},children:"Deshacer"}):null,Object(a.jsx)(p.a,{className:"btn",size:"small",color:"inherit",onClick:qe,children:Object(a.jsx)(w.a,{fontSize:"small"})})]})})]})})},Qn=function(){return Object(a.jsx)("div",{className:"all-center w-100 h-100 login-bg",children:Object(a.jsx)("img",{src:"svg/not_found.svg",width:"50%",alt:"",draggable:"false"})})};var Zn=function(){var e=Object(r.b)(),t=Object(r.c)((function(e){return e.users.darkMode})),n=document.getElementsByTagName("body")[0];return Object(c.useEffect)((function(){n.setAttribute("id",t?"dark":"light")}),[t,n]),setInterval((function(){e(oe)}),2e5),Object(a.jsx)("div",{className:"App full-height",children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{exact:!0,path:"/",component:Te}),Object(a.jsx)(j.a,{exact:!0,path:"/login",component:me}),Object(a.jsx)(j.a,{exact:!0,path:"/reset-password",component:ge}),Object(a.jsx)(j.a,{exact:!0,path:"/sign-up",component:Ee}),Object(a.jsx)(j.a,{exact:!0,path:"/edit profile",component:It}),Object(a.jsx)(j.a,{exact:!0,path:"/collections tags/:type?",component:cn}),Object(a.jsx)(j.a,{exact:!0,path:"/home",component:Xn}),Object(a.jsx)(j.a,{exact:!0,path:"/trash",component:Xn}),Object(a.jsx)(j.a,{exact:!0,path:"/archive",component:Xn}),Object(a.jsx)(j.a,{component:Qn})]})})},ea=n(83),ta=n(310),na={note:{},notes:[],message:"",response:""},aa={collection:{},collections:[],message:"",response:""},ca={tag:{},tags:[],message:"",response:""},sa={code:null,darkMode:"",message:"",response:"",token:"",user:{},users:[]},la=Object(ea.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(u.a)(Object(u.a)({},e),{},{notes:t.notes,response:t.response});case G:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case W:return Object(u.a)(Object(u.a)({},e),{},{notes:t.notes,response:t.response});case B:return Object(u.a)(Object(u.a)({},e),{},{note:t.note,response:t.response});case V:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case Y:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,notes:t.notes,response:t.response});case U:case z:return Object(u.a)(Object(u.a)({},e),{},{note:t.note,response:t.response});case le:return{note:{},notes:[],message:"",response:""};default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(u.a)(Object(u.a)({},e),{},{tag:t.tag});case K:return Object(u.a)(Object(u.a)({},e),{},{tags:t.tags});case J:case X:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,response:t.response,tag:t.tag,tags:t.tags});case Q:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,response:t.response,tags:t.tags});case le:return{tag:{},tags:[],message:"",response:""};default:return e}},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(u.a)(Object(u.a)({},e),{},{collection:t.collection});case _:return Object(u.a)(Object(u.a)({},e),{},{collections:t.collections});case R:case P:return Object(u.a)(Object(u.a)({},e),{},{collection:t.collection,collections:t.collections,message:t.message,response:t.response});case L:return Object(u.a)(Object(u.a)({},e),{},{collections:t.collections,message:t.message,response:t.response});case le:return{collection:{},collections:[],message:"",response:""};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(u.a)(Object(u.a)({},e),{},{darkMode:t.darkMode});case te:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,token:t.token});case ae:return Object(u.a)(Object(u.a)({},e),{},{message:t.message,response:t.response});case Z:case ee:return Object(u.a)(Object(u.a)({},e),{},{users:t.users});case ne:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,response:t.response});case ce:return Object(u.a)(Object(u.a)({},e),{},{code:t.code,message:t.message,response:t.response,user:t.user});case se:return Object(u.a)(Object(u.a)({},e),{},{user:t.user,response:t.response});case le:return{user:{},users:[],response:"",token:""};case ie:return Object(u.a)(Object(u.a)({},e),{},{token:t.token});default:return e}}}),ia=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ea.d,oa=Object(ea.e)(la,ia(Object(ea.a)(ta.a))),ra=document.getElementById("root");l.a.defaults.baseURL="https://notatky.herokuapp.com",o.a.render(Object(a.jsx)(r.a,{store:oa,children:Object(a.jsx)(d.a,{history:M,children:Object(a.jsx)(Zn,{})})}),ra)}},[[465,1,2]]]);
//# sourceMappingURL=main.39ca2b21.chunk.js.map