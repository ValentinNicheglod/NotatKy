(this.webpackJsonpnotatky=this.webpackJsonpnotatky||[]).push([[0],{178:function(e,t,n){},281:function(e,t,n){},282:function(e,t,n){},283:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},381:function(e,t){},383:function(e,t){},394:function(e,t){},396:function(e,t){},421:function(e,t){},423:function(e,t){},424:function(e,t){},429:function(e,t){},431:function(e,t){},437:function(e,t){},439:function(e,t){},458:function(e,t){},470:function(e,t){},473:function(e,t){},478:function(e,t,n){},479:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(21),s=n.n(c),l=n(15),i=n.n(l),o=n(22),r=n(36),d=n(27),j=(n(222),n(13)),b=n(4),u=n(8),m=n(568),h=n(571),O=n(482),p=n(485),x=n(567),g=n(114),f=n.n(g),N=n(57),v=n.n(N),w=n(65),y=n.n(w),C=n(84),k=n.n(C),E=(n(178),n(0)),S=function(){return Object(E.jsx)("div",{className:"main-logo",children:Object(E.jsxs)("h1",{className:"login-title unselectable h-100",id:"white-col",children:[Object(E.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",className:"logo-nav",draggable:"false"}),"NotatKy"]})})},D=n(203),I=n(289),T=n(42),A=Object(T.a)(),M="GET_ALL_COLLECTIONS",_="GET_ONE_COLLECTION",F="CREATE_COLLECTION",P="UPDATE_COLLECTION",L="DELETE_COLLECTION",z="ADD_NOTE_TAG",R="CHANGE_NOTE_STATE",q="CREATE_NOTE",Y="DELETE_NOTE",G="DELETE_NOTE_TAG",B="GET_ALL_NOTES",U="GET_ONE_NOTE",W="UPDATE_NOTE",K="DARK_MODE",H="GET_ALL_TAGS",V="GET_ONE_TAG",$="CREATE_TAG",J="UPDATE_TAG",X="DELETE_TAG",Q="GET_ALL_MAILS",Z="GET_ALL_USERS",ee="GET_ONE_USER",te="CREATE_USER",ne="GUEST_USER",ae="RESET_PASSWORD",ce="UPDATE_USER",se="LOGOUT",le="LOGIN",ie=function(){return function(){var e=Object(I.a)(Object(D.a)().mark((function e(t){return Object(D.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.delete("/guest/deleteAditionalData");case 3:s.a.put("/guest/chargeData").then((function(e){t({type:ne,message:e.data,response:e.status})})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},oe=function(e){return function(t){try{s.a.get("/user/".concat(e)).then((function(e){return t({type:ee,user:e.data,token:sessionStorage.getItem("token")||localStorage.getItem("token")})}))}catch(n){console.log(n)}}},re=function(e){return function(t){try{s.a.put("/user/".concat(e.id),{data:e}).then((function(e){t({type:ce,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},de=function(e){return function(t){try{s.a.put("/user/password/".concat(e.id),{data:e}).then((function(e){t({type:ce,user:e.data,response:e.status})}))}catch(n){console.log(n)}}},je=function(e,t){return function(n){try{s.a.post("/auth/login",e).then((function(e){n({type:le,token:e.data.token}),t?(localStorage.setItem("token",e.data.token),localStorage.setItem("id",e.data.user.id)):(sessionStorage.setItem("token",e.data.token),sessionStorage.setItem("id",e.data.user.id)),A.push("/NotatKy/#/home"),location.reload()}))}catch(a){console.log(a)}}},be=function(e){return function(t){try{localStorage.setItem("darkMode",e),t({type:K,darkMode:e})}catch(n){console.log(n)}}},ue=function(){var e=Object(d.f)(),t=sessionStorage.getItem("token")||localStorage.getItem("token"),n=window.screen.width>600,c=window.screen.width>350,s=Object(o.b)(),l=Object(a.useState)(!1),i=Object(u.a)(l,2),g=i[0],N=i[1],w=Object(a.useState)({open:!1,message:""}),C=Object(u.a)(w,2),D=C[0],I=C[1],T=Object(a.useState)({email:"",password:""}),A=Object(u.a)(T,2),M=A[0],_=A[1],F=Object(a.useState)({email:!1}),P=Object(u.a)(F,2),L=P[0],z=P[1];Object(a.useEffect)((function(){t&&e.push("/home")}));var R=function(e){_(Object(b.a)(Object(b.a)({},M),{},Object(j.a)({},e.target.name,e.target.value)))},q=function(e){N(!1),I({open:!0,message:"Cargando..."}),s(je(M,e)),setTimeout((function(){t||(I({snackbar:D,open:!1}),I({open:!0,message:"Los datos ingresados no son correctos"}))}),4e3)},Y=Object(E.jsx)("div",{className:n?"modal-col w-50":"modal-col w-100 h-100",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center mb-4",children:n?"\xbfRecordar Datos de Ingreso?":"Recordar Datos"}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/save-data.svg",width:n?"60%":"100%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("p",{className:"all-center",children:"Para tu comodidad, no te solicitaremos los datos al ingresar nuevamente."})}),Object(E.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100",children:[Object(E.jsx)(x.a,{color:"red",className:n?"textfield button my-2 w-25 mx-3":"textfield button my-2 w-50",id:"login-submit",onClick:function(){return q(!1)},type:"button",basic:!0,children:"No recordar"}),Object(E.jsx)(x.a,{color:"green",className:"textfield button my-2 w-50",id:"login-submit",onClick:function(){return q(!0)},type:"button",children:"Recordar Datos"})]})]})});return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[n&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"card-round card d-flex justify-content-between",children:[Object(E.jsxs)("form",{className:"all-center row",children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"INICIO DE SESI\xd3N"}),Object(E.jsx)("hr",{className:"bs-gutter"}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/login.svg",width:"90%",alt:"",className:"mb-2 img-card pe",draggable:"false"})}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:L.email,helperText:L.email?"Ingrese un correo v\xe1lido":"",InputProps:{autoComplete:"email"},label:"Correo electr\xf3nico",name:"email",onChange:R,onBlur:function(){if(M.email.length>0){var e=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(M.email);z(Object(b.a)(Object(b.a)({},L),{},{email:!e}))}},value:M.email})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",InputProps:{autoComplete:"current-password"},label:"Contrase\xf1a",name:"password",value:M.password,onChange:R,type:"password"})]})]}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)(x.a,{color:"violet",disabled:0===M.email.length||0===M.password.length||L.email,onClick:function(){""===M.email||""===M.password?I({open:!0,message:"Completa todos los campos"}):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(M.email)?("admin@admin.com"===M.email&&s(ie()),N(!0)):I({open:!0,message:"Ingrese un correo v\xe1lido"})},className:"w-75 button my-2",id:"login-submit",type:"button",children:"Iniciar Sesi\xf3n"})}),Object(E.jsxs)("div",{className:"login-sign-up mt-3 row bs-gutter all-center",children:[Object(E.jsx)("div",{children:Object(E.jsx)("p",{className:"login-p line-aside line-aside-bl",children:"\xbfNo tienes una cuenta?"})}),Object(E.jsx)(r.b,{to:"/sign-up",className:c?"sign-up-btn w-75 ui btn mt-3":"d-flex justify-content-center login-p mt-3",children:"Registrate"}),Object(E.jsx)("hr",{className:"mt-4 mb-3 hr-pad"}),Object(E.jsx)(r.b,{to:"/reset-password",className:"d-flex justify-content-center login-p",children:"\xbfOlvidaste tu contrase\xf1a?"})]})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:D.open,autoHideDuration:5e3,onClose:function(){return I(!1)},message:D.message,action:"Cargando..."===D.message?Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})}):Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return I(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})}),Object(E.jsx)(p.a,{open:g,onClose:function(){return N(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:Y})]})},me=n(58),he=n(572),Oe=n(537),pe=n(570),xe=function(){var e=Object(o.b)(),t=Object(a.useState)({open:null,message:null}),n=Object(u.a)(t,2),c=n[0],l=n[1],i=Object(a.useState)({new1:"",new2:""}),r=Object(u.a)(i,2),d=r[0],j=r[1],p=Object(a.useState)({new1:!1,new2:!1}),g=Object(u.a)(p,2),N=g[0],w=g[1],C=Object(a.useState)(""),D=Object(u.a)(C,2),I=D[0],T=D[1],A=Object(a.useState)(1),M=Object(u.a)(A,2),_=M[0],F=M[1],P=Object(a.useState)(Object(me.a)(Array(6)).map((function(){return""}))),L=Object(u.a)(P,2),z=L[0],R=L[1],q=Object(a.useState)(!1),Y=Object(u.a)(q,2),G=Y[0],B=Y[1],U=Object(a.useRef)([]),W=window.screen.width>600,K=window.screen.width<350,H=Object(o.c)((function(e){return e.users}));Object(a.useEffect)((function(){"verified"===H.code?(l({message:null,open:!1}),F(3)):H.code&&null!==H.code&&6===H.code.length&&(l({message:null,open:!1}),F(2))}),[H.code]);var V=function(e){1===e&&(d.new1.length<6?w(Object(b.a)(Object(b.a)({},N),{},{new1:!0})):w(Object(b.a)(Object(b.a)({},N),{},{new1:!1}))),2===e&&(d.new1!==d.new2?w(Object(b.a)(Object(b.a)({},N),{},{new2:!0})):w(Object(b.a)(Object(b.a)({},N),{},{new2:!1})))};return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[W&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"d-flex full-height justify-content-center align-items-end row p-0",children:[Object(E.jsxs)("div",{className:"reset-pw card card-round d-flex justify-content-between",children:[Object(E.jsxs)("form",{children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"RESTABLECER CONTRASE\xd1A"}),Object(E.jsx)("hr",{}),1===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/forgot_password.svg",width:"90%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("b",{className:"all-center mb-3",children:"\xbfNo recuerdas tu contrase\xf1a?"}),Object(E.jsx)("p",{className:"login-p",children:"Te enviaremos un correo electr\xf3nico para que puedas reestablecerla..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{className:"textfield",label:"Correo electr\xf3nico",onChange:function(e){T(e.target.value)}})]}),Object(E.jsx)(x.a,{color:"violet",className:"total-width button mt-3",id:"login-submit",onClick:function(t){t.preventDefault(),l({message:"Cargando...",open:!0}),"admin@admin.com"===I?l({message:"No se puede cambiar la contrase\xf1a de esta cuenta",open:!0}):/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(I)?e(function(e){return function(t){try{s.a.post("/user/reset-password/".concat(e)).then((function(e){t({type:ae,code:e.data.code||null,message:e.data.message,response:e.status,user:e.data.user||{}})}))}catch(n){console.log(n)}}}(I)):(l({snackbar:c,open:!1}),l({message:"Ingrese un correo v\xe1lido",open:!0}))},children:"Enviar"})]}),2===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/mail-sent.svg",width:"80%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("b",{className:"all-center mb-3",children:"\xa1Revisa tu correo!"}),Object(E.jsx)("p",{className:"login-p",children:"Introduce el c\xf3digo de verificaci\xf3n que hemos enviado a tu correo electr\xf3nico..."}),Object(E.jsx)("div",{className:"code-inputs",children:z.map((function(e,t){return Object(E.jsx)("input",{type:"text",autoComplete:"new-password",inputMode:"numeric",maxLength:1,value:e,autoFocus:!z[0].length&&0===t,readOnly:G,onChange:function(e){return function(e,t){var n=e.target.value;if(!/[^0-9]/.test(n)){var a=Object(me.a)(z);a[t]=n,R(a),5!==t&&U.current[t+1].focus(),a.every((function(e){return""!==e}))&&(B(!0),setTimeout((function(){return B(!1)}),5e3))}}(e,t)},onKeyUp:function(e){return function(e,t){if(8===e.keyCode&&!z[t]&&0!==t){var n=Object(me.a)(z);n[t-1]="",R(n),U.current[t-1].focus()}}(e,t)},ref:function(e){return U.current.push(e)}},t)}))}),Object(E.jsx)(x.a,{color:"violet",className:"total-width button mt-3",id:"login-submit",onClick:function(e){e.preventDefault(),0===z.length?l({message:"Ingrese el c\xf3digo de verificaci\xf3n",open:!0}):z.join("")===H.code?(l({message:"C\xf3digo de verificaci\xf3n correcto",open:!0}),setTimeout((function(){F(_+1)}),1e3)):l({message:"C\xf3digo de verificaci\xf3n incorrecto",open:!0})},value:I,children:"Verificar"})]}),3===_&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/password.svg",width:"100%",alt:"",className:"mb-3",draggable:"false"})}),Object(E.jsx)("p",{className:"login-p",children:"Introduce una nueva contrase\xf1a..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:N.new1,helperText:N.new1&&"La contrase\xf1a debe tener al menos seis caracteres",label:"Contrase\xf1a nueva",onBlur:function(){return V(1)},onChange:function(e){return j(Object(b.a)(Object(b.a)({},d),{},{new1:e.target.value}))},type:"password",value:d.new1})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between my-3",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:N.new2,helperText:N.new2&&"Las contrase\xf1as no coinciden",label:"Repetir contrase\xf1a",onBlur:function(){return V(2)},onChange:function(e){return j(Object(b.a)(Object(b.a)({},d),{},{new2:e.target.value}))},type:"password",value:d.new2})]}),Object(E.jsx)(x.a,{color:"violet",className:"total-width button mt-3",disabled:N.new1||N.new2||!d.new1||!d.new2,id:"login-submit",onClick:function(t){t.preventDefault(),d.new1&&d.new2?(e(de(Object(b.a)(Object(b.a)({},H.user),{},{password:d.new1}))),l({open:!0,message:"Contrase\xf1a actualizada"}),j({new1:"",new2:""})):l({open:!0,message:"Complete los campos requeridos"})},children:"Actualizar"})]})]}),!W&&!K&&Object(E.jsx)("div",{className:"d-flex all-center w-100",children:Object(E.jsx)(he.a,{activeStep:_-1,alternativeLabel:!0,className:"w-100",children:["Correo","Verificaci\xf3n","Contrase\xf1a"].map((function(e){return Object(E.jsx)(Oe.a,{children:Object(E.jsx)(pe.a,{children:e})},e)}))})})]}),W&&Object(E.jsx)("div",{className:"d-flex all-center stepper-pw",children:Object(E.jsx)(he.a,{activeStep:_-1,alternativeLabel:!0,className:"w-50",children:["Ingresa tu correo","Ingresa el c\xf3digo de verificaci\xf3n","Cambia tu contrase\xf1a"].map((function(e){return Object(E.jsx)(Oe.a,{children:Object(E.jsx)(pe.a,{children:e})},e)}))})})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:c.open,autoHideDuration:"Cargando..."===c.message?1e4:5e3,onClose:function(){return l(!1)},message:c.message,action:"Cargando..."===c.message?Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})}):Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return l(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})})]})},ge=n(538),fe=n(294),Ne=n(297),ve=n.n(Ne),we=n(296),ye=n.n(we),Ce=function(){var e=window.screen.width>600,t=Object(o.c)((function(e){return e.users})),n=Object(d.f)(),c=Object(o.b)(),l=sessionStorage.getItem("token")||localStorage.getItem("token"),i=Object(a.useState)(!1),r=Object(u.a)(i,2),g=r[0],N=r[1],w=Object(a.useState)(!1),C=Object(u.a)(w,2),D=C[0],I=C[1],T=Object(a.useState)({name:"",lastname:"",email:"",password:"",confirmPassword:""}),A=Object(u.a)(T,2),M=A[0],_=A[1],F=Object(a.useState)({email:!1,password:!1,confirmPassword:!1,duplicatedEmail:""}),P=Object(u.a)(F,2),L=P[0],z=P[1],R=L.email||L.password||L.confirmPassword||L.duplicatedEmail,q=Object.values(M).every((function(e){return e.length>0})),Y=L.email||""!==L.duplicatedEmail,G=L.email?"Ingrese un correo v\xe1lido":L.duplicatedEmail?"Este correo electr\xf3nico pertenece a otra cuenta":"Este correo electr\xf3nico se encuentra disponible";Object(a.useEffect)((function(){null!==l&&n.push("/home")})),Object(a.useEffect)((function(){c((function(e){try{s.a.get("/user/mails").then((function(t){var n=t.data.map((function(e){return e.email}));e({type:Q,users:n})}))}catch(t){console.log(t)}}))}),[c]),Object(a.useEffect)((function(){M.name&&(I(!0),N(!1))}),[t.user]);var B=function(e){var t=e.target.value;_(Object(b.a)(Object(b.a)({},M),{},Object(j.a)({},e.target.name,t))),"password"===e.target.name&&z(Object(b.a)(Object(b.a)({},L),{},{password:t.length<6})),"confirmPassword"!==e.target.name||L.password||z(Object(b.a)(Object(b.a)({},L),{},{confirmPassword:t!==M.password}))},U=Object(E.jsxs)(E.Fragment,{children:[201===parseInt(t.response,10)&&Object(E.jsx)(fe.a,{className:"w-100 h-100",recycle:!1}),Object(E.jsx)("div",{className:e?"modal-col w-50":"modal-col w-100 h-100",children:201===parseInt(t.response,10)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center mb-4",children:"\xa1FELICIDADES!"}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/celebration.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 mt-3 mb-2",children:Object(E.jsx)("b",{className:"all-center",children:"Tu cuenta ha sido creada exitosamente"})}),Object(E.jsx)("div",{className:"w-100",children:Object(E.jsx)("p",{className:"all-center",children:"Bienvenido a NotatKy"})}),Object(E.jsx)("div",{className:"my-3 all-center",children:Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-50",id:"login-submit",onClick:function(){return n.push("/login")},type:"button",children:"Iniciar Sesi\xf3n"})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h2",{id:"simple-modal-title",className:"all-center",children:"HA OCURRIDO UN ERROR"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/error.svg",width:"60%",alt:"",className:"mb-2 ",draggable:"false"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Ocurri\xf3 un error al intentar crear tu cuenta"})}),Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{className:"all-center",children:"Por favor, intentalo mas tarde"})})]})})]});return Object(E.jsxs)("div",{className:"login-bg full-height d-flex justify-content-center align-items-center row",children:[e&&Object(E.jsx)("div",{className:"logo-cont",children:Object(E.jsx)(S,{})}),Object(E.jsxs)("div",{className:"card-round card d-flex justify-content-between sign-up",children:[Object(E.jsxs)("form",{className:"all-center row h-100",children:[Object(E.jsx)("h3",{className:"card-title d-flex justify-content-center",children:"CREAR USUARIO"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/NotatKy/svg/sign-up.svg",width:"90%",alt:"",className:"mb-2 img-card",draggable:"false"})}),Object(E.jsx)("p",{className:"login-p",children:"Completa el formulario con tus datos..."}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(ye.a,{}),Object(E.jsx)(m.a,{className:"textfield name",InputProps:{autoComplete:"given-name",spellCheck:!1},label:"Nombre",name:"name",onChange:B,value:M.name}),Object(E.jsx)(m.a,{className:"textfield name",InputProps:{autoComplete:"family-name",spellCheck:!1},label:"Apellido",name:"lastname",onChange:B,value:M.lastname})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(f.a,{}),Object(E.jsx)(m.a,{id:L.duplicatedEmail?"":"green-input",className:"textfield",error:L.email||L.duplicatedEmail,helperText:Y?G:"",label:"Correo electr\xf3nico",name:"email",onChange:B,onBlur:function(){if(M.email.length>0){var e=/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(M.email);z(Object(b.a)(Object(b.a)({},L),{},{email:!e})),z(e?Object(b.a)(Object(b.a)({},L),{},{duplicatedEmail:t.users[0]&&t.users.includes(M.email),email:!1}):Object(b.a)(Object(b.a)({},L),{},{email:!0}))}},value:M.email,FormHelperTextProps:{className:!L.email&&!1===L.duplicatedEmail&&"green-label"},InputProps:{autoComplete:"email",endAdornment:Object(E.jsx)(ge.a,{"aria-describedby":"popr",id:"input-ador",position:"end",children:!L.email&&""!==L.duplicatedEmail&&(L.duplicatedEmail?Object(E.jsx)(v.a,{style:{color:"red"}}):Object(E.jsx)(ve.a,{style:{color:"green"}}))})}})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between field",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:L.password,helperText:L.password&&"La contrase\xf1a debe tener al menos seis caracteres",InputProps:{autoComplete:"new-password"},label:"Contrase\xf1a",name:"password",onChange:B,type:"password",value:M.password.one})]}),Object(E.jsxs)("div",{className:"d-flex align-items-end justify-content-between mb-4 field",children:[Object(E.jsx)(k.a,{}),Object(E.jsx)(m.a,{className:"textfield",error:L.confirmPassword,helperText:L.confirmPassword&&"Las contrase\xf1as no co\xednciden",InputProps:{autoComplete:"new-password"},type:"password",label:"Repite la contrase\xf1a",name:"confirmPassword",onChange:B,value:M.password.two})]})]}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-75",disabled:R||!q,id:"login-submit",onClick:function(e){e.preventDefault(),q?(c(function(e){return function(t){try{s.a.post("/auth/register",{data:e}).then((function(e){return t({type:te,user:e.data,response:e.status})}))}catch(n){console.log(n)}}}(M)),N(2)):N(1)},type:"submit",children:"Registrarse"})})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:5e3,onClose:function(){return N(!1)},message:1===g?"Completa todos los campos":"Cargando...",action:2===g?Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})}):Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return N(!1)},children:Object(E.jsx)(v.a,{fontSize:"small"})})}),Object(E.jsx)(p.a,{open:D,onClose:function(){return I(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:U})]})},ke=n(126),Ee=(n(372),function(e){var t=e.description,n=e.image,a=e.largeWidth,c=e.title,s=Object(d.f)();return Object(E.jsxs)("div",{className:"card-info scale-lg",children:[Object(E.jsx)("div",{className:"h-50 all-center",children:Object(E.jsx)("img",{src:n,alt:"icon",className:"card-img-top h-100"})}),Object(E.jsxs)("div",{className:"card-body mt-3",children:[Object(E.jsx)("h3",{className:"card-title",children:c}),Object(E.jsx)("hr",{}),Object(E.jsx)("p",{className:"card-text",children:t}),a&&Object(E.jsxs)("button",{className:"card-btn",onClick:function(){return s.push("/login")},type:"button",children:["Empieza \xa0\xa0",Object(E.jsx)(ke.a,{name:"long arrow alternate right"})]})]})]})}),Se=(n(373),[{title:"Lo importante en un solo lugar",description:"Sabemos que puedes necesitar tus notas o tareas en cualquier momento o lugar, con NotatKy tendr\xe1s acceso a ellas desde donde quieras.",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-1.svg"},{title:"Aumenta tu productividad",description:"NotatKy te permite tomar notas de una forma muy sencilla, por lo tanto, confiamos en que tu productividad en el d\xeda a d\xeda aumentar\xe1.",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-2.svg"},{title:"Sincroniza todos tus dispositivos",description:"Ya sea que estes en la sala de tu casa o en la computadora de tu oficina, tus notas se sincronizar\xe1n en todos tus dispositivos.",img:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/card-img-3.svg"}]),De=function(){var e=Object(d.f)(),t=Object(o.b)(),n=sessionStorage.getItem("token")||localStorage.getItem("token"),c=Object(a.useState)(!1),s=Object(u.a)(c,2),l=s[0],i=s[1],j=Object(a.useState)(!1),b=Object(u.a)(j,2),m=b[0],g=b[1];Object(a.useEffect)((function(){n&&(e.push("/home"),location.reload())})),Object(a.useEffect)((function(){return function(){i(!1)}}),[]);var f=window.screen.width>600,N=window.screen.width<350,v=function(e){e.preventDefault(),i(!0),t(ie()),setTimeout((function(){t(je({email:"admin@admin.com",password:"aDmIn123"},!1))}),2e3)},w=Object(E.jsx)("div",{className:f?"modal-col w-50 guest-mode":"modal-col w-100 h-100",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{id:"simple-modal-title",className:"all-center",children:"Modo Invitado"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"row w-100",children:[Object(E.jsxs)("div",{className:"w-50",children:[Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(E.jsx)("div",{className:"px-2",children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(E.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(E.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(E.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(E.jsx)("div",{className:"w-100 my-2",children:Object(E.jsxs)("p",{children:["Puedes optar por continuar o\xa0",Object(E.jsx)("a",{href:"https://valentinnicheglod.github.io/NotatKy/#/sign-up",style:{texDecoration:"underline"},children:"crearte una cuenta"}),"\xa0para disfrutar de todas las funcionalidades..."]})}),Object(E.jsx)("div",{className:"my-3 d-flex justify-content-center w-100",children:Object(E.jsx)(x.a,{color:"violet",className:f?"textfield button my-2 w-100":"textfield button my-2 w-50",id:"login-submit",onClick:v,type:"button",children:"Continuar como invitado"})})]}),Object(E.jsx)("div",{className:"w-50 all-center",children:Object(E.jsx)("img",{src:"https://raw.githubusercontent.com/ValentinNicheglod/NotatKy-/2065c0c992d85d5e6516c3921bfb7d189f6a6eef/frontend/public/svg/terms.svg",width:"100%",alt:"",className:"mb-2",draggable:"false"})})]})]})});return Object(E.jsxs)("div",{className:f?"login-bg full-height row":"login-bg row overflow-hidden",children:[f?Object(E.jsxs)("div",{className:"inicio-nav row d-flex align-items-center",children:[Object(E.jsx)("div",{className:"col-md-4 logo-cont pl-2",children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{className:"col-md-3"}),Object(E.jsxs)("div",{className:"col-md-5 inicio-options",children:[Object(E.jsxs)("div",{className:"d-inline",children:[Object(E.jsx)(r.b,{to:"/login",className:"inicio-link",children:"Iniciar Sesi\xf3n"}),Object(E.jsx)("p",{className:"inicio-link2",children:"|"}),Object(E.jsx)(r.b,{to:"/sign-up",className:"inicio-link",children:"Registrarse"})]}),Object(E.jsx)("div",{className:"d-inline",children:Object(E.jsx)(x.a,{color:"violet",className:f?"textfield button my-2 w-100":"textfield button my-2 w-50",id:"login-submit",onClick:function(){return g(!0)},type:"button",children:"Ingresar Como Invitado"})})]})]}):Object(E.jsxs)("div",{className:"px-4 my-3 d-flex justify-content-between align-items-center",children:[Object(E.jsx)("img",{src:"logos/logo-wo-bg.png",alt:"logo",width:"60",height:"60",className:"logo-nav"}),Object(E.jsxs)("div",{className:"d-inline",children:[Object(E.jsx)(r.b,{to:"/login",className:"inicio-link",children:"INICIAR"}),Object(E.jsx)("p",{className:"inicio-link2",children:"|"}),Object(E.jsx)(r.b,{to:"/sign-up",className:"inicio-link",children:"REGISTRARSE"})]})]}),Object(E.jsx)("div",{className:f?"d-flex row d-flex align-items-center h-75 justify-content-between m-0":"d-flex row d-flex justify-content-center w-100 m-0",children:Se.map((function(e){return Object(E.jsx)("div",{className:f?"col-md-4 d-flex justify-content-center align-items-center h-100":"w-100 my-2 d-flex justify-content-center",children:Object(E.jsx)(Ee,{image:e.img,title:e.title,description:e.description,largeWidth:f})})}))}),Object(E.jsx)("a",{href:"https://valentinnicheglod.github.io/Portfolio",className:"personal-logo",target:"_blank",rel:"noreferrer noopener",children:Object(E.jsx)("img",{src:"https://valentinnicheglod.github.io/Portfolio/Small.svg",alt:"logo"})}),!f&&Object(E.jsx)("div",{className:"d-flex row d-flex justify-content-center w-100 m-0 overflow-y",children:Object(E.jsxs)("div",{className:"all-center mb-2 mt-4 w-100 row",children:[Object(E.jsx)("h2",{className:"violet",children:N?"Modo Invitado":"Ingresar como invitado"}),Object(E.jsx)("div",{className:"w-100 list-restrictions my-2",children:Object(E.jsx)("b",{children:"Al ingresar en modo invitado tendr\xe1s ciertas restricciones..."})}),Object(E.jsx)("div",{className:"list-restrictions",children:Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:"Debido a que el modo invitado es meramente presentacional, al recargar la ventana o salir de la p\xe1gina los cambios realizados durante la sesi\xf3n se eliminar\xe1n."}),Object(E.jsx)("li",{children:"Podr\xe1s crear y editar colecciones, etiquetas y notas pero no podr\xe1s eliminarlas."}),Object(E.jsx)("li",{children:"No ser\xe1 posible editar el correo electr\xf3nico ni la contrase\xf1a del usuario."}),Object(E.jsx)("li",{children:"No ser\xe1 posible cambiar la foto de perfil."})]})}),Object(E.jsxs)("div",{className:"my-3 d-flex justify-content-center w-100 row",children:[Object(E.jsx)("small",{className:"m-0",children:"Si estas de acuerdo con esto puedes"}),Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-100",id:"login-submit",onClick:v,type:"button",children:"Ingresar como invitado"}),Object(E.jsx)("small",{className:"all-center m-0 line-aside",children:"o"}),Object(E.jsx)(x.a,{color:"violet",className:"textfield button my-2 w-100",id:"login-submit",onClick:function(){return e.push("/sign-up")},type:"button",basic:!0,children:"Crear una cuenta"})]})]})}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:l,autoHideDuration:5e3,onClose:function(){return i(!1)},message:"Cargando...",action:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",children:Object(E.jsx)(y.a,{className:"loop-out"})})}),Object(E.jsx)(p.a,{open:m,onClose:function(){return g(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:w})]})},Ie=n(298),Te=n.n(Ie),Ae=n(575),Me=n(535),_e=n(539),Fe=n(540),Pe=n(541),Le=n(542),ze=n(543),Re=n(544),qe=n(545),Ye=n(546),Ge=n(547),Be=n(548),Ue=n(300),We=n.n(Ue),Ke=n(299),He=n.n(Ke),Ve=n(302),$e=n.n(Ve),Je=n(301),Xe=n.n(Je),Qe=n(72),Ze=n.n(Qe),et=n(115),tt=n.n(et),nt=(n(281),function(e){var t=e.setDrawerOpen,n=Object(d.g)(),c=Object(d.f)(),s=Object(o.b)(),l=n.pathname,i=Object(a.useState)(!1),r=Object(u.a)(i,2),j=r[0],m=r[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),p=O[0],x=O[1],g=Object(a.useState)(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")),f=Object(u.a)(g,2),N=f[0],v=f[1],w=Object(o.c)((function(e){return e.users.user}));Object(a.useEffect)((function(){s(be(N))}),[N,s]);var y=window.screen.width>600,C=function(e){c.push(e),y||t(!1)};return Object(E.jsxs)("div",{className:"row profile full-height m-0 d-flex",children:[Object(E.jsxs)("div",{className:"profile-sidebar full-height",children:[Object(E.jsx)("div",{className:"inicio-logo",onClick:function(){return C("/home")},onKeyDown:function(){return C("/home")},role:"button",tabIndex:0,children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{className:"overflow-y",style:{height:"90%"},children:Object(E.jsx)("div",{id:"home-side-bar",children:Object(E.jsxs)(Me.a,{component:"nav",className:"white",children:[Object(E.jsxs)(_e.a,{button:!0,className:"/edit profile"===l?"settings-select":void 0,id:"item-side-bar",onClick:function(){C("/edit profile")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(He.a,{className:"/edit profile"===l?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Mi perfil"})]}),y?Object(E.jsxs)(_e.a,{button:!0,className:"/collections tags/"===l&&N?"settings-select-dark":"/collections tags"===l?"settings-select":void 0,id:"item-side-bar",onClick:function(){C("/collections tags")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(We.a,{className:"/collections tags"===l?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Colecciones y etiquetas"})]}):Object(E.jsxs)(_e.a,{button:!0,className:"/collections tags/col"===l&&N?"settings-select-dark":"/collections tags/col"===l?"settings-select":null,id:"item-side-bar",onClick:function(){C("/collections tags/col")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(Ze.a,{className:"/collections tags/col"===l?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Colecciones"})]}),!y&&Object(E.jsxs)(_e.a,{button:!0,className:"/collections tags/tag"===l&&N?"settings-select-dark":"/collections tags/tag"===l?"settings-select":void 0,id:"item-side-bar",onClick:function(){C("/collections tags/tag")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(tt.a,{className:"/collections tags/tag"===l?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Etiquetas"})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)(_e.a,{button:!0,className:"item-side-bar",id:"item-side-bar",children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(Xe.a,{className:"white"})}),Object(E.jsx)(Pe.a,{primary:"Modo oscuro"}),Object(E.jsx)(Le.a,{edge:"end",onChange:function(){v(!N)},checked:N,color:"primary"})]}),Object(E.jsxs)(_e.a,{button:!0,className:"item-side-bar",id:"item-side-bar",onClick:function(){return m(!0)},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)($e.a,{className:"white"})}),Object(E.jsx)(Pe.a,{primary:"Cerrar sesi\xf3n"})]})]})})})]}),Object(E.jsxs)(ze.a,{open:j,onClose:function(){return m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea cerrar sesi\xf3n?"}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return m(!1)},color:"primary",children:"No"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){s((function(e){e({type:se}),sessionStorage.clear(),localStorage.removeItem("token"),localStorage.removeItem("id")})),c.push("/")},color:"primary",children:"S\xed"})]})]}),Object(E.jsxs)(ze.a,{open:p,onClose:function(){return x(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(E.jsx)(Ge.a,{children:Object(E.jsx)(Be.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{onClick:function(){return x(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{onClick:function(){s(re(Object(b.a)(Object(b.a)({},w),{},{profile_photo:null}))),x(!1)},color:"primary",children:"Eliminar"})]})]})]})}),at=n(49),ct=n.n(at),st=n(573),lt=function(e){var t=e.darkMode,n=e.handleDelete,c=e.isGuest,s=e.user,l=Object(a.useState)(""),i=Object(u.a)(l,2),o=i[0],r=i[1],d=Object(a.useState)(!1),j=Object(u.a)(d,2),b=j[0],m=j[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),p=O[0],x=O[1],g=s.createdAt&&ct()(s.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YYYY");return Object(E.jsxs)("div",{className:"card card-edit p-3 scale-lg",id:t?"dark-blue":void 0,children:[s.profile_photo?Object(E.jsx)(st.a,{alt:"profile_photo",className:"my-3 profile-userpic",imgProps:{draggable:!1},sizes:"180",src:"data:".concat(s.profile_photo&&s.profile_photo.contentType,";base64, ").concat(s.profile_photo&&s.profile_photo.image)}):Object(E.jsxs)(st.a,{alt:"profile_photo",className:"my-3 profile-userpic blue",children:[s.name&&s.name.slice(0,1)," ",s.lastname&&s.lastname.slice(0,1)]}),"profilePicture"===o?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("form",{action:"https://notatky.herokuapp.com/user/uploadphoto/".concat(s.id),encType:"multipart/form-data",id:"profile-input",method:"POST",onChange:function(e){x(!0),0===e.target.files.length?x(!1):x(!0)},children:[Object(E.jsx)("input",{className:"form-control form-control-sm mb-3",id:"formFileSm",name:"picture",type:"file",accept:"image/*"}),Object(E.jsxs)("div",{className:"d-flex justify-content-around w-100",children:[Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-success",type:"submit",disabled:!p,children:"Guardar"}),s.profile_photo&&Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-danger",onClick:function(e){e.preventDefault(),m(!0)},type:"button",children:"Eliminar"}),t?Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-light",onClick:function(){x(!1),r("")},type:"button",children:"Cancelar"}):Object(E.jsx)("button",{className:"btn btn-sm btn-round my-2 btn-outline-dark",onClick:function(){x(!1),r("")},type:"button",children:"Cancelar"})]})]})}):c?Object(E.jsx)("small",{children:"Sesi\xf3n iniciada en modo invitado"}):Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){return r("profilePicture")},type:"button",children:"".concat(s.profile_photo?"Editar":"Agregar"," foto de perfil")}),Object(E.jsx)("h1",{className:"mb-0 mt-3",children:s.name}),Object(E.jsx)("h1",{className:"mt-0",children:s.lastname}),Object(E.jsxs)("div",{className:"user-data-card w-100 my-3",children:[s.ocupation&&Object(E.jsxs)("div",{className:"my-2",children:[Object(E.jsx)("b",{className:"d-inline px-2",children:"Ocupaci\xf3n:\xa0\xa0"}),Object(E.jsx)("p",{className:"d-inline",children:s.ocupation})]}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"my-2",children:[Object(E.jsx)("b",{className:"d-inline px-2",children:"Miembro desde:"}),Object(E.jsx)("p",{className:"d-inline",children:g})]})]}),Object(E.jsxs)(ze.a,{open:b,onClose:function(){return m(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la foto de perfil?"}),Object(E.jsx)(Ge.a,{children:Object(E.jsx)(Be.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la foto la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{onClick:function(){return m(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{onClick:function(){n(),m(!1)},color:"primary",children:"Eliminar"})]})]})]})},it=n(531),ot=n(480),rt=n(574),dt=n(553),jt=n(569),bt=n(532),ut=n(530),mt=n(536),ht=n(549),Ot=n(550),pt=n(551),xt=n(552),gt=n(554),ft=n(555),Nt=n(556),vt=Object(ht.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"&:hover":{backgroundColor:"transparent"}}}})),wt=function(e){var t=e.closeSnackbar,n=e.darkMode,a=e.editing,c=e.editionMode,s=e.error,l=e.handleChange,i=e.handleErrors,o=e.handlePasswordChange,r=e.handlePasswordSubmit,d=e.handleSubmit,j=e.information,b=e.largeWidth,u=e.password,p=e.setDrawerOpen,x=e.snackbar,g=e.user,f=e.visibilityPassword,N=e.visiblePassword,v=vt(),w=window.screen.width<350,y=g.createdAt&&ct()(g.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY");return Object(E.jsxs)("div",{className:"user-profile m-4 row",children:[Object(E.jsxs)("h1",{className:"settings-title violet",children:[!b&&Object(E.jsx)(O.a,{onClick:function(){return p(!0)},style:{color:"inherit",transform:"scale(1.3)"},className:"btn mb-1 mx-2 p-0",children:Object(E.jsx)(Ot.a,{className:"menu-icon"})}),"Editar perfil"]}),!b&&Object(E.jsx)("div",{className:"mobile-user-card-cont my-2",children:Object(E.jsxs)("div",{className:"mobile-user-card purple-bg row bs-gutter",children:[Object(E.jsx)("div",{className:"mobile-user-card-1 all-center",children:g.profile_photo?Object(E.jsx)(st.a,{alt:"profile_photo",className:"mobile-user-card-avatar pe",imgProps:{draggable:!1},src:"data:".concat(g.profile_photo&&g.profile_photo.contentType,";base64, ").concat(g.profile_photo&&g.profile_photo.image)}):Object(E.jsxs)(st.a,{alt:"profile_photo",className:"blue",children:[g.name&&g.name.slice(0,1)," ",g.lastname&&g.lastname.slice(0,1)]})}),Object(E.jsxs)("div",{className:"mobile-user-card-2",children:[Object(E.jsx)("p",{className:"mb-0",children:g.name}),Object(E.jsx)("p",{className:"mb-0",children:g.lastname})]}),Object(E.jsxs)("div",{className:"mobile-user-card-3 py-2 h-100",children:[Object(E.jsx)("div",{className:"row mobile-user-card-ocupation",children:g.ocupation?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("small",{children:"Ocupaci\xf3n..."}),Object(E.jsx)("p",{className:"mb-0",children:g.ocupation})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("small",{children:"Correo electr\xf3nico..."}),Object(E.jsx)("p",{className:"mb-0",children:g.email})]})}),Object(E.jsxs)("div",{className:"row mobile-user-card-date",children:[Object(E.jsx)("small",{children:"Miembro desde..."}),Object(E.jsx)("p",{className:"mb-0",children:y})]})]})]})}),Object(E.jsxs)("div",{className:"info-cont-settings p-0",style:n&&b?{overflowY:"auto",height:550}:null,children:[Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"profile-section mb-2",children:[Object(E.jsx)("h2",{className:"m-0",children:w?"Datos personales":"Informaci\xf3n personal"}),"PersonalInformation"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("PersonalInformation")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#6435c9"}})}):Object(E.jsxs)("div",{className:"d-flex all-center",children:[b&&Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("button",{className:"btn btn-success btn-round btn-update",onClick:d,type:"submit",children:"Actualizar datos"})}),Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#6435c9"}})})]})]}),"PersonalInformation"===a?Object(E.jsxs)("form",{className:v.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsx)(m.a,{className:"input-profile",label:"Nombre",value:j.name,name:"name",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile",id:"outlined-basic",label:"Apellido",value:j.lastname,name:"lastname",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile",id:"ocupation-textfield",label:"Ocupaci\xf3n",value:j.ocupation,name:"ocupation",onChange:l}),Object(E.jsx)("br",{}),Object(E.jsxs)(it.a,{component:"fieldset",className:"my-3",children:[Object(E.jsx)(ot.a,{component:"legend",className:"MuiFormLabel-root",children:"G\xe9nero"}),Object(E.jsxs)(rt.a,{defaultValue:g.gender,"aria-label":"gender",name:"gender",onChange:l,children:[Object(E.jsx)(dt.a,{value:"female",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Femenino"}),Object(E.jsx)(dt.a,{value:"male",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Masculino"}),Object(E.jsx)(dt.a,{value:"other",control:Object(E.jsx)(jt.a,{color:"primary"}),label:"Otro"})]})]}),Object(E.jsx)("br",{}),!b&&Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:d,type:"submit",children:"Actualizar Datos"})})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"Nombre y apellido:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:"".concat(g.name," ").concat(g.lastname)})]}),Object(E.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(E.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Ocupaci\xf3n:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:g.ocupation?g.ocupation:Object(E.jsx)("button",{className:"btn btn-round my-1 btn-sm btn-outline-primary",onClick:function(){c("PersonalInformation"),setTimeout((function(){document.getElementById("ocupation-textfield").focus()}),1e3)},type:"button",children:"Agrega una ocupaci\xf3n"})})]}),g.gender&&Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"G\xe9nero:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:"male"===g.gender?"Masculino":"female"===g.gender?"Femenino":"Otro"})]})]})]}),Object(E.jsxs)("div",{className:"mt-3",children:[Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"profile-section mb-2",children:[Object(E.jsx)("h2",{className:"m-0",children:b?"Informaci\xf3n de contacto":"Contacto"}),"ContactInformation"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("ContactInformation")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#6435c9"}})}):Object(E.jsxs)("div",{className:"d-flex all-center",children:[b&&Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("button",{className:"btn btn-success btn-round btn-update",onClick:d,type:"submit",children:"Actualizar datos"})}),Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#6435c9"}})})]})]}),"ContactInformation"===a?Object(E.jsxs)("form",{className:v.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsx)(m.a,{className:"input-profile",id:"outlined-basic",label:"Correo electr\xf3nico",value:j.email,name:"email",onChange:l}),Object(E.jsx)(m.a,{className:"input-profile mb-4",id:"phone-textfield",label:"N\xfamero de tel\xe9fono",value:j.phone||void 0,name:"phone",onChange:l,type:"number"}),!b&&Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",onClick:d,type:"submit",children:"Actualizar Datos"})})]}):Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"d-flex flex-row",children:[Object(E.jsx)("h4",{className:"d-inline mr-3",children:"Correo electr\xf3nico:\xa0\xa0\xa0"}),Object(E.jsx)("p",{children:g.email})]}),Object(E.jsxs)("div",{className:"d-flex flex-row align-items-center mb-3",children:[Object(E.jsx)("h4",{className:"d-inline mr-3 mb-0",children:"Celular:\xa0\xa0\xa0"}),g.phone?Object(E.jsx)("p",{children:g.phone}):Object(E.jsx)("button",{className:"btn my-1 btn-sm violet add-phone",onClick:function(){c("ContactInformation"),setTimeout((function(){document.getElementById("phone-textfield").focus(),document.getElementById("phone-textfield").click()}),1e3)},type:"button",children:"Agrega un celular"})]})]})]}),Object(E.jsxs)("div",{className:"mt-4",children:[Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:"profile-section mb-2",children:[Object(E.jsx)("h2",{className:"m-0",children:"Contrase\xf1a"}),"password"!==a?Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("password")},type:"button",children:Object(E.jsx)(pt.a,{style:{color:"#6435c9"}})}):Object(E.jsxs)("div",{className:"d-flex all-center",children:[b&&Object(E.jsx)("div",{className:"mx-2",children:Object(E.jsx)("button",{className:"btn btn-success btn-round btn-update",onClick:r,type:"submit",children:"Modificar Contrase\xf1a"})}),Object(E.jsx)(O.a,{className:"btn mx-1",onClick:function(){return c("")},type:"button",children:Object(E.jsx)(xt.a,{style:{color:"#6435c9"}})})]})]}),"password"===a?Object(E.jsxs)("form",{className:v.root,noValidate:!0,autoComplete:"off",children:[Object(E.jsxs)(it.a,{className:"input-profile",children:[Object(E.jsx)(bt.a,{htmlFor:"actual-password",children:"Contrase\xf1a actual"}),Object(E.jsx)(ut.a,{id:"actual-password",type:N.password?"text":"password",spellCheck:!1,endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return f("password")},onMouseDown:function(e){return e.preventDefault()},children:N.password?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:u.current,name:"current",onChange:o})]}),Object(E.jsxs)(it.a,{className:"input-profile",error:s.password,children:[Object(E.jsx)(bt.a,{htmlFor:"new-password-1",children:"Contrase\xf1a nueva"}),Object(E.jsx)(ut.a,{id:"new-password-1",type:N.newPassword?"text":"password",endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return f("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:N.newPassword?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:u.new1,name:"new1",inputProps:{onBlur:i},onChange:o}),Object(E.jsx)(mt.a,{children:s.password&&"La contrase\xf1a debe tener al menos seis caracteres"})]}),Object(E.jsxs)(it.a,{className:"input-profile mb-4",children:[Object(E.jsx)(bt.a,{htmlFor:"actual-password-2",children:"Repite la nueva contrase\xf1a"}),Object(E.jsx)(ut.a,{id:"new-password-2",type:N.newPassword?"text":"password",spellCheck:!1,endAdornment:Object(E.jsx)(ge.a,{position:"end",children:Object(E.jsx)(O.a,{"aria-label":"toggle password visibility",onClick:function(){return f("newPassword")},onMouseDown:function(e){return e.preventDefault()},children:N.newPassword?Object(E.jsx)(gt.a,{}):Object(E.jsx)(ft.a,{})})}),value:u.new2,name:"new2",onChange:o})]}),Object(E.jsx)("br",{}),!b&&Object(E.jsx)("div",{className:"w-100 all-center p-0 m-0",children:Object(E.jsx)("button",{className:"btn w-100 btn-success btn-update",disabled:s.password,onClick:r,type:"submit",children:"Modificar contrase\xf1a"})})]}):null]}),Object(E.jsx)("hr",{})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:x.open,autoHideDuration:6e3,onClose:t,message:x.message,action:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:t,children:Object(E.jsx)(Nt.a,{fontSize:"small"})})})})]})},yt=function(){return Object(E.jsxs)("div",{className:"all-center w-100 h-100",children:[Object(E.jsx)("div",{className:"spinner-border",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-2",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-3",role:"status"}),Object(E.jsx)("div",{className:"spinner-border spinner-border-4",role:"status"})]})},Ct=function(){var e=Object(a.useState)({newPassword:!1,password:!1}),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)({open:!1,message:""}),l=Object(u.a)(s,2),i=l[0],r=l[1],m=Object(a.useState)({current:"",new1:"",new2:""}),h=Object(u.a)(m,2),O=h[0],p=h[1],x=Object(a.useState)(!1),g=Object(u.a)(x,2),f=g[0],N=g[1],v=Object(a.useState)(!0),w=Object(u.a)(v,2),y=w[0],C=w[1],k=Object(a.useState)(),S=Object(u.a)(k,2),D=S[0],I=S[1],T=Object(a.useState)(""),A=Object(u.a)(T,2),M=A[0],_=A[1],F=Object(a.useState)({password:!1}),P=Object(u.a)(F,2),L=P[0],z=P[1],R=Object(o.b)(),q=Object(d.f)(),Y=Object(o.c)((function(e){return e.users})),G=sessionStorage.getItem("id")||localStorage.getItem("id"),B=sessionStorage.getItem("token")||localStorage.getItem("token"),U=Y.darkMode,W=1===Y.user.id;Object(a.useEffect)((function(){R(oe(G))}),[R]),Object(a.useEffect)((function(){I(Y.user)}),[Y]),Object(a.useEffect)((function(){Y.user.name&&C(!1)}),[Y.user]),Object(a.useEffect)((function(){null===B&&q.push("/login")}),[q]);var K=window.screen.width>600;return Object(E.jsx)("div",{className:K?"row full-height user-select":"row full-height bs-gutter",children:y?Object(E.jsx)(yt,{}):Object(E.jsxs)(E.Fragment,{children:[K?Object(E.jsx)("div",{className:"col-md-2 purple-bg p-0",children:Object(E.jsx)(nt,{})}):Object(E.jsx)(Ae.a,{open:f,onClose:function(){return N(!1)},id:"hidden-overflow",children:Object(E.jsx)("div",{className:"col-md-2 purple-bg p-0 full-height",children:Object(E.jsx)(nt,{setDrawerOpen:N})})}),K&&Object(E.jsx)("div",{className:"col-md-3 blue-aside",id:U?"dark-border":void 0,children:Object(E.jsx)(lt,{darkMode:U,handleDelete:function(){R(re(Object(b.a)(Object(b.a)({},D),{},{profile_photo:null})))},isGuest:W,user:Y.user})}),Object(E.jsx)("div",{className:K?"col-md-7 h-100":"bs-gutter",id:U?"dark":void 0,children:Object(E.jsx)(wt,{closeSnackbar:function(){r(Object(b.a)(Object(b.a)({},i),{},{open:!1}))},darkMode:U,editing:M,editionMode:function(e){_(e)},error:L,handleChange:function(e){I(Object(b.a)(Object(b.a)({},D),{},Object(j.a)({},e.target.name,e.target.value)))},handleErrors:function(){O.new1.length<6&&O.new1.length>0?z(Object(b.a)(Object(b.a)({},L),{},{password:!0})):z(Object(b.a)(Object(b.a)({},L),{},{password:!1}))},handlePasswordChange:function(e){p(Object(b.a)(Object(b.a)({},O),{},Object(j.a)({},e.target.name,e.target.value)))},handlePasswordSubmit:function(e){e.preventDefault(),Te.a.compare(O.current,D.password).then((function(e){e?O.new1!==O.new2?r({open:!0,message:"Las contrase\xf1as no coinc\xedden"}):O.current&&O.new1&&O.new2?(R(de(Object(b.a)(Object(b.a)({},D),{},{password:O.new1}))),_(""),r({open:!0,message:"Contrase\xf1a actualizada"}),p({current:"",new1:"",new2:""})):r({open:!0,message:"Complete los campos requeridos"}):r({open:!0,message:"Contrase\xf1a actual incorrecta"})}))},handleSubmit:function(e){e.preventDefault(),K||_(""),D.name?D.lastname?/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(D.email)?1===Y.user.id?(R(re(Object(b.a)(Object(b.a)({},D),{},{email:"admin@admin.com",password:"aDmIn123"}))),_(""),r({open:!0,message:"Datos actualizados"})):(R(re(D)),_(""),r({open:!0,message:"Datos actualizados"})):0===D.email.length?r({open:!0,message:"Debe ingresar un correo"}):r({open:!0,message:"Ingrese un correo v\xe1lido"}):r({open:!0,message:"Debe ingresar un apellido"}):r({open:!0,message:"Debe ingresar un nombre"})},information:D,largeWidth:K,password:O,setDrawerOpen:N,snackbar:i,visibilityPassword:function(e){c(Object(b.a)(Object(b.a)({},n),{},Object(j.a)({},e,!n[e])))},visiblePassword:n,user:Y.user})})]})})},kt=n(557),Et=n(481),St=n(558),Dt=n(559),It=n(560),Tt=n(561),At=n(562),Mt=n(563),_t=n(564),Ft=n(163),Pt=n.n(Ft),Lt=n(165),zt=n.n(Lt),Rt=n(164),qt=n.n(Rt),Yt=n(117),Gt=n.n(Yt),Bt=n(40),Ut=n.n(Bt),Wt=n(116),Kt=n.n(Wt),Ht=function(e){var t=e.collections,n=e.editing,c=e.handleChange,s=e.handleCreate,l=e.handleDelete,i=e.largeWidth,o=e.open,r=e.openModal,h=e.setDrawerOpen,x=e.setEditing,g=Object(a.useState)({name:"",description:""}),f=Object(u.a)(g,2),N=f[0],v=f[1],w=Object(a.useState)(),y=Object(u.a)(w,2),C=y[0],k=y[1],S=Object(a.useState)(!1),D=Object(u.a)(S,2),I=D[0],T=D[1],A=Object(a.useState)(!0),M=Object(u.a)(A,2),_=M[0],F=M[1],P=Object(d.g)();Object(a.useEffect)((function(){"/collections tags/col"===P.pathname&&"?open=true"===P.search&&r("col",!0)}),[]),setTimeout((function(){F(!1)}),2e3);var L=function(e){v(Object(b.a)(Object(b.a)({},N),{},Object(j.a)({},e.target.name,e.target.value)))},z=function(e){k(Object(b.a)(Object(b.a)({},C),{},Object(j.a)({},e.target.name,e.target.value)))};t.collections.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var R=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsx)("div",{children:Object(E.jsx)("h2",{id:"simple-modal-title",className:"mb-4",children:C&&!i?"Editar colecci\xf3n":"Crear una colecci\xf3n..."})}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/collection.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)(m.a,{autoComplete:"off",autoFocus:!!i,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:N.name,name:"name",onChange:L}),Object(E.jsx)(m.a,{className:"w-100 my-3",id:"outlined-basic",label:"Descripci\xf3n",inputProps:{maxLength:50,autoComplete:"off"},value:N.description,name:"description",onChange:L}),Object(E.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[C&&!i&&Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){T(!0)},children:"Eliminar"}),Object(E.jsx)("button",{className:C&&!i?"btn btn-round btn-outline-dark ml-3 cancel-btn-modal-edit":"btn btn-round btn-outline-danger ml-3 cancel-btn-modal",onClick:function(){r("col",!1),k(null),v({name:"",description:""})},type:"button",children:"Cancelar"}),C&&!i?Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===N.name.length,onClick:function(){c(Object(b.a)(Object(b.a)({},N),{},{id:C.id,userId:C.userId})),setTimeout((function(){v({name:"",description:""}),k(null)}),1500),r("col",!1)},type:"button",children:"Guardar"}):Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===N.name.length,onClick:function(){s(N),setTimeout((function(){v({name:"",description:""})}),1e3)},type:"button",children:"Crear"})]})]});return Object(E.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(E.jsxs)("h1",{className:"settings-title violet",children:[!i&&Object(E.jsx)(O.a,{onClick:function(){return h(!0)},style:{color:"inherit",transform:"scale(1.3)"},className:"btn mb-1 mx-2 p-0",children:Object(E.jsx)(Kt.a,{className:"menu-icon"})}),"Colecciones"]}),Object(E.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.collections.length>0?Object(E.jsx)(kt.a,{component:Et.a,id:"tab-col-table",children:Object(E.jsxs)(St.a,{"aria-label":"caption table",id:"tab-col-table",children:[Object(E.jsx)("caption",{children:"Usa las colecciones como si fueran libretas, puedes guardar todas las notas relacionadas a un tema en especifico dentro de ellas."}),Object(E.jsx)(Dt.a,{id:"thead",children:Object(E.jsxs)(It.a,{children:[Object(E.jsx)(Tt.a,{id:"table-cell-",children:Object(E.jsx)("b",{children:"Nombre"})}),Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Descripci\xf3n"})}),Object(E.jsx)(Tt.a,{})]})}),Object(E.jsx)(At.a,{id:"tbody",children:t.collections.map((function(e,a){return Object(E.jsxs)(It.a,{id:"col-table",children:[Object(E.jsx)(Tt.a,{component:"th",scope:"row",className:"table-cell-col",children:n.col===a?Object(E.jsx)(m.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:20},placeholder:"Nombre",value:C.name,onChange:z,name:"name"}):Object(E.jsxs)("p",{children:[Object(E.jsx)(Ze.a,{}),"\xa0\xa0",e.name]})}),Object(E.jsx)(Tt.a,{className:"table-cell-col",children:n.col===a?Object(E.jsx)(m.a,{className:"w-100",id:"outlined-basic",inputProps:{maxLength:50},placeholder:"Descripci\xf3n",value:C.description,onChange:z,name:"description",multiline:!0}):Object(E.jsx)("p",{children:e.description})}),i?Object(E.jsx)(Tt.a,{align:"right",className:"p-0 actions-cont",children:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(O.a,{className:"p-2 btn",onClick:n.col===a?function(){C!==e?c(C):x({tag:void 0,col:void 0})}:function(){k(t.collections[a]),x(Object(b.a)(Object(b.a)({},n),{},{tag:void 0,col:a}))},children:n.col===a?Object(E.jsx)(Gt.a,{style:{color:"#198754"}}):Object(E.jsx)(Pt.a,{style:{color:"#6435c9"}})}),Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){k(t.collections[a]),T(!0)},children:n.col===a&&Object(E.jsx)(qt.a,{style:{color:"#dc3545"}})})]})}):Object(E.jsx)(O.a,{className:"p-2 pr-0 btn action-btn",onClick:function(){k(t.collections[a]),v(Object(b.a)(Object(b.a)({},N),{},{name:t.collections[a].name,description:t.collections[a].description})),r("col",!0)},children:Object(E.jsx)(zt.a,{})})]},e.id)}))}),i&&Object(E.jsx)(Mt.a,{children:Object(E.jsxs)("button",{onClick:function(){return r("col",!0)},type:"button",className:"ui labeled icon button btn-round violet white mt-4 ml-1",children:[Object(E.jsx)("i",{className:"plus icon"}),i?"  Crear nueva colecci\xf3n":"  Nueva colecci\xf3n"]})})]})}):_?Object(E.jsx)("div",{style:i?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(E.jsx)(yt,{})}):Object(E.jsx)("div",{className:"no-data-cont all-center row",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:"d-flex justify-content-end w-100",children:Object(E.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%"}})}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:"No hay colecciones"})}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsxs)("button",{onClick:function(){return r("col",!0)},type:"button",className:"ui labeled icon button btn-round violet white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),"Crea tu primera colecci\xf3n"]})})]})}),!i&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return r("col",!0)},children:Object(E.jsx)(Ut.a,{className:"add-icon"})}),Object(E.jsx)(p.a,{open:o.col,onClose:function(){r("col",!1),k(null),v({name:"",description:""})},className:"d-flex w-100 justify-content-center align-items-center modal",children:R}),Object(E.jsxs)(ze.a,{open:I,onClose:function(){T(!1),k(null),v({name:"",description:""})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la colecci\xf3n?"}),Object(E.jsx)(Ge.a,{children:Object(E.jsx)(Be.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la colecci\xf3n la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return T(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){l(C.id),T(!1),i||(r("col",!1),v({name:"",description:""}),k(null))},color:"primary",children:"Eliminar"})]})]})]})]})},Vt=n(123),$t=n.n(Vt),Jt=["#79ADDC","#FFC09F","#FFEE93","#ADF7B6","#FBADFF","#DCB6D5","#F2F7F2"],Xt=function(e){var t=e.tags,n=e.editing,c=e.handleChange,s=e.handleCreate,l=e.handleDelete,i=e.largeWidth,o=e.open,r=e.openModal,h=e.setDrawerOpen,x=e.setEditing,g=Object(a.useState)({color:"",name:""}),f=Object(u.a)(g,2),N=f[0],v=f[1],w=Object(a.useState)(null),y=Object(u.a)(w,2),C=y[0],k=y[1],S=Object(a.useState)(!1),D=Object(u.a)(S,2),I=D[0],T=D[1],A=Object(a.useState)(!0),M=Object(u.a)(A,2),_=M[0],F=M[1],P=Object(d.g)();Object(a.useEffect)((function(){"/collections tags/tag"===P.pathname&&"?open=true"===P.search&&r("tag",!0)}),[]),setTimeout((function(){F(!1)}),2e3);var L=function(e,t){"create"===t?v(Object(b.a)(Object(b.a)({},N),{},{color:e})):k(Object(b.a)(Object(b.a)({},C),{},{color:e}))},z=function(e){k(Object(b.a)(Object(b.a)({},C),{},Object(j.a)({},e.target.name,e.target.value)))};t.tags.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}));var R=window.screen.width<350,q=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsx)("div",{children:Object(E.jsx)("h2",{id:"simple-modal-title",className:"mb-4",children:C&&!i?"Editar etiqueta":"Crear una etiqueta..."})}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/tag.svg",width:"90%",alt:"",className:"mb-2",draggable:"false"})}),Object(E.jsx)("div",{children:Object(E.jsx)(m.a,{autoFocus:!!i,className:"w-100 my-3",id:"outlined-basic",inputProps:{maxLength:20,autoComplete:"off"},label:"Nombre",value:N.name,name:"name",onChange:function(e){v(Object(b.a)(Object(b.a)({},N),{},Object(j.a)({},e.target.name,e.target.value)))}})}),Object(E.jsxs)("div",{className:"row my-3",children:[!R&&Object(E.jsx)("p",{className:"MuiFormLabel-root",style:{fontSize:"1rem"},children:"Color"}),Object(E.jsx)("div",{className:"d-flex justify-content-between w-100",children:Jt.map((function(e){return Object(E.jsx)(O.a,{className:i?"p-1":"p-0",id:N.color===e?"selectedColor":null,onClick:function(){return L(e,"create")},style:{borderColor:e},children:Object(E.jsx)($t.a,{style:{color:e,fontSize:R?25:35}})},e)}))})]}),Object(E.jsxs)("div",{className:"modal-col-action d-flex justify-content-between my-3 w-100",children:[C&&!i&&Object(E.jsx)("button",{type:"submit",className:"btn btn-outline-danger ml-3 btn-round cancel-btn-modal-edit",onClick:function(){T(!0)},children:"Eliminar"}),Object(E.jsx)("button",{type:"submit",className:C?"btn btn-outline-dark ml-3 btn-round cancel-btn-modal-edit":"btn btn-outline-danger ml-3 btn-round cancel-btn-modal",onClick:function(){r("tag",!1),k(null),v({name:"",color:""})},children:"Cancelar"}),C&&!i?Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"30%",paddingLeft:0,paddingRight:0},disabled:0===N.name.length,onClick:function(){c(Object(b.a)(Object(b.a)({},N),{},{id:C.id,userId:C.userId})),setTimeout((function(){v({name:"",color:""}),k(null)}),1500),r("tag",!1)},type:"submit",children:"Guardar"}):Object(E.jsx)("button",{className:"btn btn-success btn-round",style:{width:"45%"},disabled:0===N.name.length,onClick:function(){s(N),setTimeout((function(){v({name:"",color:""})}),1500)},type:"submit",children:"Crear"})]})]});return Object(E.jsxs)("div",{className:"user-profile user-tag p-5 row d-flex justify-content-center",children:[Object(E.jsxs)("h1",{className:"settings-title violet",children:[!i&&Object(E.jsx)(O.a,{onClick:function(){return h(!0)},style:{color:"inherit",transform:"scale(1.3)"},className:"btn mb-1 mx-2 p-0",children:Object(E.jsx)(Kt.a,{className:"menu-icon"})}),"Etiquetas"]}),Object(E.jsxs)("div",{className:"row d-flex justify-content-center my-2 conf-2",children:[t.tags.length>0?Object(E.jsx)(kt.a,{component:Et.a,id:"tab-col-table",children:Object(E.jsxs)(St.a,{"aria-label":"caption table",children:[Object(E.jsx)("caption",{children:"Usa las etiquetas para ordenar tus notas por categor\xeda, de esta forma podr\xe1s encontrar la nota que buscas rapidamente."}),Object(E.jsx)(Dt.a,{id:"thead",children:Object(E.jsxs)(It.a,{children:[Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Nombre"})}),Object(E.jsx)(Tt.a,{children:Object(E.jsx)("b",{children:"Color"})}),Object(E.jsx)(Tt.a,{})]})}),Object(E.jsx)(At.a,{id:"tbody",children:t.tags.map((function(e,a){return Object(E.jsxs)(It.a,{children:[Object(E.jsx)(Tt.a,{component:"th",scope:"row",className:"table-cell-col",children:n.tag===a?Object(E.jsx)(m.a,{className:"w-100",placeholder:"Nombre",value:C.name,onChange:z,name:"name",inputProps:{maxLength:20}}):Object(E.jsxs)("p",{children:[Object(E.jsx)(tt.a,{}),"\xa0\xa0",e.name]})}),Object(E.jsx)(Tt.a,{className:"table-cell-col dots-cont",children:n.tag===a?Jt.map((function(e){return Object(E.jsx)(O.a,{className:"color-dot",id:C.color===e?"selectedColor":null,onClick:function(){return L(e,"update")},style:{borderColor:e},children:Object(E.jsx)($t.a,{style:{color:e}})})})):Object(E.jsx)(E.Fragment,{children:Object(E.jsx)($t.a,{style:{color:e.color}})})}),Object(E.jsx)(Tt.a,{align:"right",className:"p-0 actions-cont",children:i?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(O.a,{className:"p-2 btn",onClick:n.tag===a?function(){C!==e?c(C):x({tag:void 0,col:void 0})}:function(){k(t.tags[a]),v(t.tags[a]),x(Object(b.a)(Object(b.a)({},n),{},{tag:a,col:void 0}))},children:n.tag===a?Object(E.jsx)(Gt.a,{style:{color:"#198754"}}):Object(E.jsx)(Pt.a,{style:{color:"#6435c9"}})}),Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){k(t.tags[a]),T(!0)},children:n.tag===a&&Object(E.jsx)(qt.a,{style:{color:"#dc3545"}})})]}):Object(E.jsx)(O.a,{className:"p-2 btn",onClick:function(){k(t.tags[a]),v(Object(b.a)(Object(b.a)({},N),{},{name:t.tags[a].name,color:t.tags[a].color})),r("tag",!0)},children:Object(E.jsx)(zt.a,{})})})]},e.name)}))}),i&&Object(E.jsx)(Mt.a,{children:Object(E.jsxs)("button",{onClick:function(){k(null),v({name:"",color:""}),r("tag",!0)},type:"button",className:"ui labeled icon button btn-round violet white m-3 mb-1",children:[Object(E.jsx)("i",{className:"plus icon"}),i?"  Crear nueva etiqueta":"  Nueva etiqueta"]})})]})}):_?Object(E.jsx)("div",{style:i?{height:"100%",width:"100%"}:{height:"80vh",width:"100vw"},children:Object(E.jsx)(yt,{})}):Object(E.jsx)("div",{className:"no-data-cont all-center row",children:Object(E.jsxs)("div",{children:[Object(E.jsx)("img",{draggable:!1,src:"svg/empty.svg",width:"75%",alt:"not-found",style:{marginBottom:"10%",transform:"rotateY(180deg)"}}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:"No hay etiquetas"})}),Object(E.jsx)("div",{className:"all-center",children:Object(E.jsxs)("button",{onClick:function(){r("tag",!0)},type:"button",className:"ui labeled icon button btn-round violet white m-3 mb-0",children:[Object(E.jsx)("i",{className:"plus icon"}),"Crea tu primera etiqueta"]})})]})}),Object(E.jsx)(p.a,{open:o.tag,onClose:function(){r("tag",!1),k(null),v({name:"",color:""})},className:"d-flex w-100 justify-content-center align-items-center modal",children:q}),Object(E.jsxs)(ze.a,{open:I,onClose:function(){return T(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la etiqueta?"}),Object(E.jsx)(Ge.a,{children:Object(E.jsx)(Be.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la etiqueta la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){return T(!1)},color:"primary",children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",onClick:function(){l(C.id),T(!1),i||(r("tag",!1),v({name:"",color:""}),k(null))},color:"primary",children:"Eliminar"})]})]})]}),!i&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:function(){return r("tag",!0)},children:Object(E.jsx)(Ut.a,{className:"add-icon"})})]})},Qt=function(e){return function(t){try{s.a.get("/tag/all/".concat(e)).then((function(e){t({type:H,tags:e.data})}))}catch(n){console.log(n)}}},Zt=function(e){return function(t){try{s.a.get("/collection/all/".concat(e)).then((function(e){return t({type:M,collections:e.data})}))}catch(n){console.log(n)}}},en=function(e){var t=e.match,n=Object(o.b)(),c=Object(d.f)(),l=Object(o.c)((function(e){return e.users.darkMode})),i=Object(o.c)((function(e){return e.users})),r=Object(o.c)((function(e){return e.collections})),m=Object(o.c)((function(e){return e.tags})),p=Object(a.useState)({tag:"",col:""}),x=Object(u.a)(p,2),g=x[0],f=x[1],N=Object(a.useState)({tag:!1,col:!1}),v=Object(u.a)(N,2),w=v[0],y=v[1],C=Object(a.useState)({open:!1,message:""}),k=Object(u.a)(C,2),S=k[0],D=k[1],I=Object(a.useState)(!1),T=Object(u.a)(I,2),A=T[0],M=T[1],_=window.screen.width>600,z=1===i.user.id,R=sessionStorage.getItem("id")||localStorage.getItem("id"),q=sessionStorage.getItem("token")||localStorage.getItem("token");Object(a.useEffect)((function(){n(oe(R)),n(Zt(R)),n(Qt(R))}),[n]),Object(a.useEffect)((function(){null===q&&c.push("/login")}),[c]);var Y=function(){setTimeout((function(){n(Zt(R)),n(Qt(R))}),500)},G=function(e){n(function(e){return function(t){console.log(e);try{s.a.put("/collection/".concat(e.id),{data:e}).then((function(e){return t({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:P})}))}catch(n){console.log(n)}}}(e)),f(Object(b.a)(Object(b.a)({},g),{},{col:void 0})),D({open:!0,message:"Colecci\xf3n actualizada"})},B=function(e){n(function(e,t){return function(n){try{s.a.post("/collection/".concat(t),{data:e}).then((function(e){return n({collection:e.data.collection,collections:e.data.collections,message:e.data.message,response:e.status,type:F})}))}catch(a){console.log(a)}}}(e,R)),y(Object(b.a)(Object(b.a)({},w),{},{col:!1})),D({open:!0,message:"Colecci\xf3n creada"})},U=function(e){z&&e<5?(D({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{s.a.delete("/collection/".concat(e)).then((function(e){return t({collections:e.data.collections,message:e.data.message,response:e.status,type:L})}))}catch(n){console.log(n)}}}(e)),Y(),f(Object(b.a)(Object(b.a)({},g),{},{col:void 0})),D({open:!0,message:"Colecci\xf3n eliminada"}))},W=function(e){n(function(e){return function(t){try{s.a.put("/tag/".concat(e.id),{data:e}).then((function(e){return t({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:J})}))}catch(n){console.log(n)}}}(e)),Y(),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0})),D({open:!0,message:"Etiqueta actualizada"})},K=function(e){n(function(e,t){return function(n){try{s.a.post("/tag/".concat(t),{data:e}).then((function(e){return n({message:e.data.message,response:e.status,tag:e.data.tag,tags:e.data.tags,type:$})}))}catch(a){console.log(a)}}}(e,R)),y(Object(b.a)(Object(b.a)({},w),{},{tag:!1})),D({open:!0,message:"Etiqueta creada"})},H=function(e){z&&e<8?(D({open:!0,message:"Acci\xf3n no permitida en modo invitado"}),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0}))):(n(function(e){return function(t){try{s.a.delete("/tag/".concat(e)).then((function(e){return t({message:e.data.message,response:e.status,tags:e.data.tags,type:X})}))}catch(n){console.log(n)}}}(e)),Y(),f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0})),D({open:!0,message:"Etiqueta eliminada"}))},V=function(e,t){f(Object(b.a)(Object(b.a)({},g),{},{tag:void 0,col:void 0})),y(Object(b.a)(Object(b.a)({},w),{},Object(j.a)({},e,t)))};return Object(E.jsxs)("div",{className:_?"row full-height user-select":"row full-height bs-gutter",children:[_?Object(E.jsx)("div",{className:"col-md-2 purple-bg p-0",children:Object(E.jsx)(nt,{users:i})}):Object(E.jsx)(Ae.a,{open:A,onClose:function(){return M(!1)},children:Object(E.jsx)("div",{className:"col-md-2 purple-bg p-0 full-height",children:Object(E.jsx)(nt,{users:i,setDrawerOpen:M})})}),_?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("div",{className:"col-md-5 full-height",children:Object(E.jsx)(Ht,{collections:r,darkMode:l,editing:g,largeWidth:_,open:w,openModal:V,setEditing:f,handleChange:G,handleCreate:B,handleDelete:U,setDrawerOpen:M})}),Object(E.jsx)("div",{className:"col-md-5 full-height",children:Object(E.jsx)(Xt,{darkMode:l,editing:g,open:w,openModal:V,setEditing:f,handleChange:W,handleCreate:K,handleDelete:H,largeWidth:_,setDrawerOpen:M,tags:m})})]}):"col"===t.params.type?Object(E.jsx)("div",{className:"col-md-5",children:Object(E.jsx)(Ht,{collections:r,darkMode:l,editing:g,largeWidth:_,open:w,openModal:V,setEditing:f,handleChange:G,handleCreate:B,handleDelete:U,setDrawerOpen:M})}):Object(E.jsx)("div",{className:"col-md-5",children:Object(E.jsx)(Xt,{darkMode:l,editing:g,open:w,openModal:V,setEditing:f,handleChange:W,handleCreate:K,handleDelete:H,largeWidth:_,setDrawerOpen:M,tags:m})}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:S.open,autoHideDuration:6e3,onClose:function(){return D(!1)},message:S.message,action:Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(O.a,{className:"btn",size:"small",color:"inherit",onClick:function(){return D(!1)},children:Object(E.jsx)(Nt.a,{fontSize:"small"})})})})]})},tn=n(565),nn=n(166),an=n.n(nn),cn=n(167),sn=n.n(cn),ln=n(207),on=n.n(ln),rn=n(208),dn=n.n(rn),jn=n(303),bn=n.n(jn),un=n(304),mn=n.n(un),hn=n(168),On=n.n(hn),pn=(n(282),function(e){var t=e.changeRoute,n=e.collections,c=e.filterCollections,s=e.filterTags,l=e.largeWidth,i=e.pathname,o=e.tags,r=Object(a.useState)(!0),d=Object(u.a)(r,2),j=d[0],b=d[1],m=Object(a.useState)(!1),h=Object(u.a)(m,2),O=h[0],p=h[1],x=function(e){"tag"===e?b(!j):p(!O)};return Object(E.jsxs)("div",{className:"row full-height m-0",children:[Object(E.jsx)("div",{className:"home-sidebar inicio-logo",children:Object(E.jsx)(S,{})}),Object(E.jsx)("div",{id:"side-bar--cont",children:Object(E.jsxs)(Me.a,{component:"nav",className:"white",children:[Object(E.jsxs)(_e.a,{button:!0,id:"/home"===i?"home-select":void 0,onClick:function(){return t("/home")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(bn.a,{className:"/home"===i?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Inicio"})]}),Object(E.jsxs)(_e.a,{button:!0,onClick:function(){x("col")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(Ze.a,{className:"white"})}),Object(E.jsx)(Pe.a,{primary:"Colecciones"}),O?Object(E.jsx)(on.a,{}):Object(E.jsx)(dn.a,{})]}),Object(E.jsx)(tn.a,{in:O,timeout:"auto",unmountOnExit:!0,children:n&&n.sort().map((function(e){return Object(E.jsx)(Me.a,{component:"div",disablePadding:!0,children:Object(E.jsxs)(_e.a,{button:!0,onClick:function(){return c(e.id)},style:{paddingLeft:40},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(mn.a,{className:"white"})}),Object(E.jsx)(Pe.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(E.jsxs)(_e.a,{button:!0,onClick:function(){x("tag")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(tt.a,{className:"white"})}),Object(E.jsx)(Pe.a,{primary:"Etiquetas"}),j?Object(E.jsx)(on.a,{}):Object(E.jsx)(dn.a,{})]}),Object(E.jsx)(tn.a,{in:j,timeout:"auto",unmountOnExit:!0,children:o&&o.sort().map((function(e){return Object(E.jsx)(Me.a,{component:"div",disablePadding:!0,children:Object(E.jsxs)(_e.a,{button:!0,onClick:function(){return s(e.id)},style:{paddingLeft:40},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)($t.a,{style:{color:e.color}})}),Object(E.jsx)(Pe.a,{className:"overflow-hidden list-names",primary:e.name})]})},e.id)}))}),Object(E.jsxs)(_e.a,{button:!0,id:"/archive"===i?"home-select":void 0,onClick:function(){return t("/archive")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(an.a,{className:"/archive"===i?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Notas archivadas"})]}),Object(E.jsxs)(_e.a,{button:!0,id:"/trash"===i?"home-select":void 0,onClick:function(){return t("/trash")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(sn.a,{className:"/trash"===i?"violet":"white"})}),Object(E.jsx)(Pe.a,{primary:"Notas eliminadas"})]}),!l&&Object(E.jsxs)(_e.a,{button:!0,onClick:function(){return t("/edit profile")},children:[Object(E.jsx)(Fe.a,{children:Object(E.jsx)(On.a,{className:"white"})}),Object(E.jsx)(Pe.a,{primary:"Configuraci\xf3n"})]})]})})]})}),xn=n(306),gn=n.n(xn),fn=n(305),Nn=n.n(fn),vn=n(308),wn=n.n(vn),yn=n(576),Cn=n(577),kn=function(e){var t=e.closeNote,n=e.collection,a=e.greeting,c=e.handleChange,s=e.inputValue,l=e.largeWidth,i=e.loading,o=e.note,r=e.onEdition,j=e.openNote,b=e.setDrawerOpen,u=e.setOpenColModal,m=e.user,h=Object(d.f)();return Object(E.jsxs)("div",{className:"nav-home d-flex align-items-center justify-content-between",children:[!l&&Object(E.jsx)("div",{children:j?Object(E.jsx)(O.a,{onClick:t,className:"btn white",children:Object(E.jsx)(Nn.a,{style:{width:"35px",height:"40px"}})}):Object(E.jsx)(O.a,{onClick:function(){return b(!0)},className:"btn white",children:Object(E.jsx)(Kt.a,{style:{width:"35px",height:"40px"}})})}),Object(E.jsxs)("div",{className:"ui transparent input input-search col-md-6",children:[Object(E.jsx)("input",{type:"text",placeholder:"Buscar...",onChange:c,id:"search-note",value:s}),l&&Object(E.jsx)(O.a,{id:"btn-home",style:{color:"white",backgroundColor:"#645BCC",borderRadius:"12px 50px 50px 12px"},className:"btn white m-0",onClick:function(){},children:Object(E.jsx)(gn.a,{style:{color:"#FFF"}})})]}),Object(E.jsxs)("div",{className:l?"col-md-4 actions-note":"actions-note",children:[l&&(i?r.id&&Object(E.jsx)(y.a,{className:"loop-out"}):r.id&&Object(E.jsx)(yn.a,{title:"Cambios guardados",placement:"left",children:Object(E.jsx)(O.a,{id:"btn-home",style:{color:"white"},className:"btn white m-0",onClick:function(){},children:Object(E.jsx)(wn.a,{})})})),l&&Object(E.jsx)(yn.a,{title:"Configuraci\xf3n",placement:"left",children:Object(E.jsx)(O.a,{id:"btn-home",className:"btn white",onClick:function(){return h.push("/edit profile")},children:Object(E.jsx)(On.a,{})})}),j&&!l?Object(E.jsx)("div",{className:"all-center row m-1",children:o.collectionId?Object(E.jsx)(Cn.a,{clickable:!0,variant:"outlined",label:n.name,className:"chip-out",onClick:function(){return u(!0)},size:"small"}):Object(E.jsx)(Cn.a,{clickable:!0,color:"secondary",id:"back-blue",label:"A\xf1adir colecci\xf3n",onClick:function(){return u(!0)},size:"small"})}):Object(E.jsxs)(E.Fragment,{children:[l&&Object(E.jsxs)("div",{className:"mx-3",children:[Object(E.jsx)("p",{className:"m-0 d-flex justify-content-end greeting white",children:"".concat(a,",")}),Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name white",children:"".concat(m.name,"!")})]}),m.profile_photo?Object(E.jsx)(st.a,{alt:"profile_photo",className:"pe",imgProps:{draggable:!1},src:"data:".concat(m.profile_photo&&m.profile_photo.contentType,";base64, ").concat(m.profile_photo&&m.profile_photo.image)}):Object(E.jsxs)(st.a,{alt:"profile_photo",className:"blue",children:[m.name&&m.name.slice(0,1)," ",m.lastname&&m.lastname.slice(0,1)]})]})]})]})},En=n(309),Sn=n.n(En),Dn=function(e){var t=e.collection,n=e.content,a=e.darkMode,c=e.date,s=e.editNote,l=e.hour,i=e.id,o=e.title;return Object(E.jsxs)("div",{className:"card note-card",id:a?"dark-blue":void 0,onClick:function(){return s(i)},onKeyDown:function(){return s(i)},role:"button",tabIndex:0,children:[Object(E.jsx)("div",{className:"card-title",children:Object(E.jsx)("h3",{children:o.length>20?"".concat(o.slice(0,20),"..."):o||"Sin t\xedtulo"})}),Object(E.jsx)("div",{className:"card-text d-flex h-100",children:Object(E.jsx)("p",{children:n.length>200?"".concat(n.slice(0,100),"..."):n})}),Object(E.jsxs)("div",{className:"card-footer d-flex justify-content-between align-items-center px-0",id:a?"dark-blue":void 0,children:[Object(E.jsx)("div",{className:"w-50",children:t&&Object(E.jsx)("span",{style:{backgroundColor:"#645BCC",borderRadius:10,fontWeight:500},className:"uk-label col-label",children:t.name})}),Object(E.jsx)("div",{className:"w-50 d-flex justify-content-end",children:Object(E.jsx)("p",{className:"date",children:"".concat(c," | ").concat(l)})})]})]})},In=function(e){var t=e.collections,n=e.darkMode,a=e.editNote,c=e.greeting,s=e.largeWidth,l=e.message,i=e.newNote,o=e.notes,r=e.onEdition,d=e.pathname,j=e.restartFilter,b=e.selectedFilter,u=e.user,m=[];return Object(E.jsx)("div",{className:s?"blue-aside notes-cont":"notes-cont",id:n?"dark-border":void 0,children:Object(E.jsxs)("div",{className:"row full-height w-100",children:[Object(E.jsx)("div",{className:"col d-flex justify-content-between align-items-center directory mb-2",children:"/archive"===d?Object(E.jsx)("h1",{className:"violet m-0",children:"Notas archivadas"}):"/trash"===d?Object(E.jsx)("h1",{className:"violet m-0",children:"Notas eliminadas"}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h1",{className:"violet m-0",children:"Notas"}),s?Object(E.jsx)(yn.a,{title:"Nueva nota",placement:"right",children:Object(E.jsx)(O.a,{className:"p-0 btn btn-add-note",style:{width:45,height:45},onClick:i,children:Object(E.jsx)(Ut.a,{className:"w-75 h-75 white"})})}):Object(E.jsxs)("div",{className:"d-flex row justify-content-end",children:[Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting display-6",children:"".concat(c,",")}),Object(E.jsx)("b",{className:"m-0 d-flex justify-content-end greeting-name",children:"".concat(u.name,"!")}),Object(E.jsx)("hr",{className:"my-1 w-25 pr-2",style:{marginRight:"10px"}})]})]})}),""!==b.name&&Object(E.jsxs)("div",{className:"row d-flex align-items-center my-3 px-4",children:[Object(E.jsx)("b",{className:"p-0",children:"".concat(b.type," seleccionada")}),Object(E.jsx)("hr",{className:"mt-0"}),Object(E.jsx)("div",{className:"d-flex justify-content-between align-items-center p-0",children:Object(E.jsx)(Cn.a,{label:b.name,onDelete:j,color:"secondary",className:"filter-selected"})})]}),Object(E.jsx)("div",{id:"notes-cont-3",className:0===o.length?"all-center":void 0,children:0!==o.length?o&&o.map((function(e){var c=ct()(e.updatedAt.slice(0,10),"YYYY-MM-DD").fromNow().split(" ");return Object(E.jsxs)("div",{children:[("hour"===c[1]||"hours"===c[1]||"seconds"===c[1]||"minute"===c[1]||"minutes"===c[1]||"few"===c[1]||"in"===c[0])&&!m.includes("today")&&(m.push("today"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Hoy"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"day"===c[1]&&!m.includes("yesterday")&&(m.push("yesterday"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Ayer"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"days"===c[1]&&!m.includes("days")&&(m.push("days"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Dos d\xedas o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),"days"===c[1]&&parseInt(c[0],10)>=7&&!m.includes("week")&&(m.push("week"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Una semana o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),("month"===c[1]||"months"===c[1])&&!m.includes("month")&&(m.push("month"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Un mes o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),("year"===c[1]||"years"===c[1])&&!m.includes("year")&&(m.push("year"),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("b",{children:"Un a\xf1o o mas"}),Object(E.jsx)("hr",{className:"mt-0"})]})),Object(E.jsx)(Dn,{editNote:a,collection:t.filter((function(t){return t.id===e.collectionId}))[0],content:e.id===r.id?r.content:e.content,date:e.updatedAt&&ct()(e.updatedAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY"),darkMode:n,hour:e.updatedAt&&Sn()(e.updatedAt).tz("America/Montevideo").format("HH:mm"),id:e.id,title:e.id===r.id?r.title:e.title},e.id)]},e.id)})):Object(E.jsxs)("div",{className:"all-center row w-75",children:[Object(E.jsx)("img",{draggable:!1,src:"svg/oops.svg",width:"50%",alt:"not-found",style:{marginBottom:"10%"}}),Object(E.jsx)("p",{className:"all-center",children:Object(E.jsx)("b",{children:l})})]})}),!s&&"/home"===d&&Object(E.jsx)(_t.a,{"aria-label":"add",className:"fab-add btn",onClick:i,children:Object(E.jsx)(Ut.a,{className:"add-icon"})})]})})},Tn=function(e){return function(t){try{s.a.get("/note/all/".concat(e)).then((function(e){t({type:B,notes:e.data,response:e.status})}))}catch(n){console.log(n)}}},An=function(e,t){return function(n){try{s.a.post("/note/".concat(t),{data:e}).then((function(e){n({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:q})}))}catch(a){console.log(a)}}},Mn=function(e){return function(t){try{s.a.put("/note/".concat(e.id),{data:e}).then((function(e){t({message:e.data.message,note:e.data.note,notes:e.data.notes,response:e.status,type:W})}))}catch(n){console.log(n)}}},_n=n(566),Fn=n(312),Pn=n.n(Fn),Ln=n(314),zn=n.n(Ln),Rn=n(313),qn=n.n(Rn),Yn=n(311),Gn=n.n(Yn),Bn=n(139),Un=n.n(Bn),Wn=n(310),Kn=n.n(Wn),Hn=function(e){var t=e.addTag,n=e.changeRoute,a=e.collection,c=e.collections,s=e.deleteTag,l=e.duplicate,i=e.editCollection,o=e.handleChange,r=e.handleStateChange,d=e.largeWidth,j=e.mainDashboardNotes,b=e.openColModal,u=e.openTagModal,m=e.newNote,h=e.note,x=e.notes,g=e.onEdition,f=e.pathname,N=e.saveNote,w=e.setOpenColModal,y=e.setOpenDialog,C=e.setOpenTagModal,k=e.tags,S=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsx)("div",{children:Object(E.jsx)("h1",{id:"simple-modal-title",className:"mb-4",children:h.collectionId?"Editar colecci\xf3n":"A\xf1adir colecci\xf3n"})}),Object(E.jsx)("div",{className:"tag-cont",children:c.length>0?c&&c.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(E.jsxs)("p",{className:"d-flex m-0",children:[Object(E.jsx)(Ze.a,{style:{color:"#2185D0"}}),"\xa0\xa0\xa0",e.name]}),e.id===h.collectionId?Object(E.jsx)(Cn.a,{deleteIcon:Object(E.jsx)(v.a,{style:{color:"#2185D0"}}),label:"Seleccionada",onDelete:function(){i(null),w(!1)},size:"small",variant:"outlined",color:"primary"}):Object(E.jsx)(O.a,{className:"btn",onClick:function(){i(e.id),w(!1)},children:Object(E.jsx)(Ut.a,{})})]}),Object(E.jsx)("hr",{})]},e.id)})):Object(E.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,className:"scale-sm",alt:""})}),Object(E.jsx)("p",{className:"all-center mt-4",children:Object(E.jsx)("b",{children:"Aun no tienes colecciones"})})]})}),Object(E.jsx)(E.Fragment,{children:c.length>0?Object(E.jsx)("div",{className:"w-100 my-3",children:Object(E.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags/col?open=true")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Ut.a,{}),"\xa0\xa0Nueva colecci\xf3n"]})})}):Object(E.jsx)("div",{className:"w-100 my-3 all-center",children:Object(E.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags/col?open=true")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Ut.a,{}),"\xa0\xa0Crear nueva colecci\xf3n"]})})})})]}),D=Object(E.jsxs)("div",{className:"modal-col",children:[Object(E.jsx)("div",{children:Object(E.jsx)("h1",{id:"simple-modal-title",className:"mb-4",children:d?"A\xf1adir etiquetas":"Editar etiquetas"})}),Object(E.jsx)("div",{className:"tag-cont",children:k.length>0?k&&k.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2",children:[Object(E.jsxs)("p",{className:"d-inline m-0",children:[Object(E.jsx)(Un.a,{style:{color:e.color}}),"\xa0\xa0\xa0",e.name]}),h.tags&&h.tags.map((function(e){return e.name})).includes(e.name)?d?Object(E.jsx)(Gt.a,{style:{margin:12,color:"#198754"}},e.name):Object(E.jsx)(O.a,{className:"btn",onClick:function(){return s(g.id,e.id)},children:Object(E.jsx)(Kn.a,{style:{color:"#dc3545"}})},e.name):Object(E.jsx)(O.a,{className:"btn",onClick:function(){return t(g.id,e.id)},children:Object(E.jsx)(Ut.a,{className:"green"})},e.name)]}),Object(E.jsx)("hr",{})]},e.id)})):Object(E.jsxs)("div",{className:"all-center row w-100 m-0",children:[Object(E.jsx)("div",{className:"all-center",children:Object(E.jsx)("img",{src:"svg/empty.svg",width:"80%",draggable:!1,className:"scale-sm",alt:""})}),Object(E.jsx)("p",{className:"all-center mt-4",children:Object(E.jsx)("b",{children:"Aun no tienes etiquetas"})})]})}),k.length>0?Object(E.jsxs)("div",{className:"w-100 d-flex justify-content-between align-items-center my-3",children:[Object(E.jsx)("button",{className:"btn btn-outline-primary btn-round btn-sm px-3",onClick:function(){return n("/collections tags/tag?open=true")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Ut.a,{}),"\xa0\xa0Nueva etiqueta"]})}),Object(E.jsx)("button",{className:"btn btn-success btn-round w-25",onClick:function(){return C(!1)},type:"button",children:"Listo"})]}):Object(E.jsx)("div",{className:"w-100 all-center my-3",children:Object(E.jsx)("button",{className:"btn btn-success",onClick:function(){return n("/collections tags/tag?open=true")},type:"button",children:Object(E.jsxs)("p",{children:[Object(E.jsx)(Ut.a,{}),"\xa0\xa0Crear nueva etiqueta"]})})})]});return Object(E.jsx)("div",{className:"full-height",children:g.id?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:"row w-100",style:{height:"93%"},children:[Object(E.jsxs)("div",{className:"ui transparent input input-title mx-3 w-100",children:[Object(E.jsx)(p.a,{open:b,onClose:function(){return w(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:S}),Object(E.jsx)(p.a,{open:u,onClose:function(){return C(!1)},className:"d-flex w-100 justify-content-center align-items-center modal",children:D}),Object(E.jsx)("input",{className:d?"w-50":"w-100",autoComplete:"off",type:"text",placeholder:"T\xedtulo...",value:g.title||"",name:"title",onChange:o,id:"note-title"}),d&&Object(E.jsx)("div",{className:"all-center row",children:h.collectionId?Object(E.jsx)(Cn.a,{clickable:!0,variant:"outlined",color:"primary",icon:Object(E.jsx)(Ze.a,{}),label:a.name,onClick:function(){return w(!0)}}):Object(E.jsx)(Cn.a,{clickable:!0,color:"primary",id:"back-blue",icon:Object(E.jsx)(Ut.a,{}),label:"A\xf1adir colecci\xf3n",onClick:function(){return w(!0)}})})]}),Object(E.jsx)("div",{className:"ui transparent textarea w-100 h-90",children:Object(E.jsx)("textarea",{placeholder:"Deja flu\xedr tus ideas...",className:"note-content w-100",value:g.content||"",name:"content",onChange:o,onKeyUp:N,onPaste:N})})]}),Object(E.jsxs)("div",{className:"actions-notes p-0 m-0 pl-3 row w-100",children:[d&&Object(E.jsxs)("div",{className:"col-md-9 m-0 d-flex align-items-center",children:[h.tags&&h.tags.map((function(e,t){return t<5&&Object(E.jsx)("div",{className:"tab-indicator mx-1 px-2",style:{backgroundColor:e.color},children:Object(E.jsxs)("div",{className:"col d-flex align-items-center justify-content-between h-100 w-100",children:[Object(E.jsx)("p",{className:"overflow-hidden",children:e.name}),Object(E.jsx)(yn.a,{title:"Quitar etiqueta de la nota",placement:"right",children:Object(E.jsx)(O.a,{className:"p-0 btn",id:"delete-tag",onClick:function(){return s(g.id,e.id)},children:Object(E.jsx)(v.a,{})})})]})},e.id)})),h.tags&&h.tags.length>5&&Object(E.jsx)(_n.a,{className:"mx-2",badgeContent:"+".concat(h.tags.length-5),color:"primary",children:Object(E.jsx)(Un.a,{})}),Object(E.jsx)(yn.a,{title:"A\xf1adir etiqueta",placement:"right",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return C(!0)},children:Object(E.jsx)(Ut.a,{})})})]}),Object(E.jsxs)("div",{className:d?"col-md-3 m-0 d-flex justify-content-end align-items-center":"m-0 d-flex justify-content-between align-items-center",children:[!d&&Object(E.jsxs)("div",{className:"d-flex align-items-center tag-cont-show",children:[h.tags&&h.tags.map((function(e,t){return t<2&&Object(E.jsx)("div",{className:"tab-indicator mx-1 px-1",style:{backgroundColor:e.color},children:Object(E.jsx)("div",{className:"col d-flex align-items-center justify-content-center h-100",children:Object(E.jsx)("p",{children:e.name})})},e.id)})),h.tags&&h.tags.length>2?Object(E.jsx)(_n.a,{className:"mx-2",badgeContent:h.tags&&h.tags.length>2&&"+".concat(h.tags.length-2),color:"primary",children:Object(E.jsx)(O.a,{className:"btn p-0",title:"A\xf1adir etiqueta",onClick:function(){return C(!0)},children:Object(E.jsx)(Un.a,{})})}):Object(E.jsx)(O.a,{className:"btn",title:"A\xf1adir etiqueta",onClick:function(){return C(!0)},children:Object(E.jsx)(Un.a,{})})]}),Object(E.jsxs)("div",{children:["/home"===f&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(yn.a,{title:"Duplicar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:l,children:Object(E.jsx)(Gn.a,{})})})}),"/archive"===f?Object(E.jsx)(yn.a,{title:"Desarchivar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("main-dashboard","Nota desarchivada")},children:Object(E.jsx)(Pn.a,{})})}):Object(E.jsx)(yn.a,{title:"Archivar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("archive","Nota archivada")},children:Object(E.jsx)(an.a,{})})}),"/trash"===f?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(yn.a,{title:"Eliminar nota",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return y(!0)},children:Object(E.jsx)(qn.a,{})})}),Object(E.jsx)(yn.a,{title:"Restaurar",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("main-dashboard","Nota restaurada")},children:Object(E.jsx)(zn.a,{})})})]}):Object(E.jsx)(yn.a,{title:"Eliminar nota",placement:"top",children:Object(E.jsx)(O.a,{className:"btn",onClick:function(){return r("trash","Nota movida a papelera")},children:Object(E.jsx)(sn.a,{})})}),d&&Object(E.jsx)(yn.a,{title:"Fecha de creaci\xf3n",placement:"top",children:Object(E.jsx)("b",{className:"pl-2",style:{cursor:"default"},children:Object(E.jsx)("small",{children:h.createdAt&&ct()(h.createdAt.slice(0,10),"YYYY-MM-DD").format("DD/MM/YY")})})})]})]})]})]}):Object(E.jsx)("div",{className:"all-center full-height row",children:j&&0===j.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/add-note.svg",alt:"",style:{height:"75%"},className:"scale-sm",draggable:!1}),Object(E.jsxs)("div",{className:"all-center row",children:[Object(E.jsx)("b",{className:"all-center",children:"Al parecer a\xfan no tienes notas"}),Object(E.jsxs)("button",{className:"btn btn-round my-3 btn-sm btn-primary w-25 all-center",onClick:m,type:"button",children:[Object(E.jsx)(Ut.a,{}),"\xa0\xa0Crea tu primera nota"]})]})]}):x&&0===x.length?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/not-found.svg",alt:"",style:{height:"80%"},className:"scale-sm",draggable:!1}),Object(E.jsx)("b",{className:"all-center",children:"No hemos encontrado resultados"})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("img",{src:"svg/select.svg",alt:"",style:{height:"80%"},className:"scale-sm",draggable:!1}),Object(E.jsx)("b",{className:"select-text",children:"Selecciona una nota para ver su contenido o editarla"})]})})})},Vn=function(){var e=Object(o.b)(),t=Object(d.f)(),n=Object(o.c)((function(e){return e.notes})),c=Object(o.c)((function(e){return e.tags})),l=Object(o.c)((function(e){return e.collections})),i=Object(o.c)((function(e){return e.users})),r=Object(a.useState)({content:"",title:""}),m=Object(u.a)(r,2),p=m[0],x=m[1],g=Object(a.useState)({open:!1,message:"",undo:!0}),f=Object(u.a)(g,2),N=f[0],w=f[1],y=Object(a.useState)({type:"",name:""}),C=Object(u.a)(y,2),k=C[0],S=C[1],D=Object(a.useState)(!1),I=Object(u.a)(D,2),T=I[0],A=I[1],M=Object(a.useState)(!0),_=Object(u.a)(M,2),F=_[0],P=_[1],L=Object(a.useState)(!1),q=Object(u.a)(L,2),B=q[0],W=q[1],K=Object(a.useState)(0),H=Object(u.a)(K,2),V=H[0],$=H[1],J=Object(a.useState)(!1),X=Object(u.a)(J,2),Q=X[0],Z=X[1],ee=Object(a.useState)(!1),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)(!1),se=Object(u.a)(ce,2),le=se[0],re=se[1],de=Object(a.useState)(""),je=Object(u.a)(de,2),ue=je[0],me=je[1],he=Object(a.useState)(!1),Oe=Object(u.a)(he,2),pe=Oe[0],xe=Oe[1],ge=Object(a.useState)(!1),fe=Object(u.a)(ge,2),Ne=fe[0],ve=fe[1],we=Object(a.useState)(!1),ye=Object(u.a)(we,2),Ce=ye[0],ke=ye[1],Ee=sessionStorage.getItem("id")||localStorage.getItem("id"),Se=sessionStorage.getItem("token")||localStorage.getItem("token"),De=t.location.pathname,Ie=1===i.user.id;Object(a.useEffect)((function(){null===Se&&t.push("/login")}),[t]),Object(a.useEffect)((function(){return Ee&&(e(oe(Ee)),e(Zt(Ee)),e(Qt(Ee)),e(Tn(Ee)),e(be(!0===localStorage.getItem("darkMode")||"true"===localStorage.getItem("darkMode")))),function(){p.id&&e(Mn(Object(b.a)(Object(b.a)({},n.note),{},{title:p.title,content:p.content}))),1===i.user.id&&e(ie())}}),[]),Object(a.useEffect)((function(){i.user.id&&i.user.name&&(P(!1),Se!==i.token&&t.push("/login"))}),[i.user.id]),n.notes&&n.notes.sort((function(e,t){return e.updatedAt>t.updatedAt?-1:e.updatedAt<t.updatedAt?1:0}));var Te=n.notes&&n.notes.filter((function(e){return"main-dashboard"===e.state})),Me=n.notes&&n.notes.filter((function(e){return"archive"===e.state})),_e=n.notes&&n.notes.filter((function(e){return"trash"===e.state})),Fe=window.screen.width>600,Pe=ct()().hour(),Le="";Le=Pe>4&&Pe<12?"Buen d\xeda":Pe>=12&&Pe<19?"Buenas tardes":"Buenas noches";var Ue="";Ue=ue.length>2?"No hay coincidencias":"/trash"===De?"No hay notas eliminadas":"/archive"===De?"No hay notas archivadas":"No hay notas";var We=function(e,t,n){w(201===t?{open:!0,message:e,undo:n}:{open:!0,message:"Ha ocurrido un error",undo:!1})},Ke=function(){p.title===n.note.title&&p.content===n.note.content||(A(!0),e(Mn(p)),setTimeout((function(){A(!1)}),500))},He=function(t,n){e(function(e,t){return function(n){try{s.a.post("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:z,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n)),setTimeout((function(){e(Tn(Ee))}),500)},Ve=function(){$(V+1),V>=10&&(A(!0),$(0),e(Mn(p)),setTimeout((function(){A(!1)}),2e3))},$e=function(e){t.push(e),W(!1),x({title:"",content:""}),Z(!1),S({name:"",type:""})},Je=function(){w(Object(b.a)(Object(b.a)({},N),{},{open:!1}))},Xe=function(t,n){e(function(e,t){return function(n){try{s.a.delete("/tag/".concat(e,"/").concat(t)).then((function(e){return n({type:G,note:e.data,response:e.status})}))}catch(a){console.log(a)}}}(t,n))},Qe=function(){e(An({title:"",content:""},Ee)),ke(!0)},Ze=function(){p.id&&e(An(Object(b.a)(Object(b.a)({},n.note),{},{title:p.title,content:p.content}),Ee)),We("Nota duplicada",n.response,!1)},et=function(t){e(Mn(Object(b.a)(Object(b.a)({},n.note),{},{collectionId:t})))},tt=function(t){var a=n.notes.filter((function(e){return e.id===t}));p.id&&Ke(),setTimeout((function(){x(a[0]),e(function(e){return function(t){try{s.a.get("/note/".concat(e)).then((function(e){return t({type:U,note:e.data,response:e.status})}))}catch(n){console.log(n)}}}(t)),Fe||re(!0)}),500)};Object(a.useEffect)((function(){Ce&&(tt(n.note.id),ke(!1))}),[n]);var nt=function(e){Z(!1),S({type:"Colecci\xf3n",name:l.collections.filter((function(t){return t.id===e}))[0].name}),W("/trash"===De?_e.filter((function(t){return t.collectionId===e})):"/archive"===De?Me.filter((function(t){return t.collectionId===e})):Te.filter((function(t){return t.collectionId===e})))},at=function(e){Z(!1),S({type:"Etiqueta",name:c.tags.filter((function(t){return t.id===e}))[0].name}),W("/trash"===De?_e.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):"/archive"===De?Me.filter((function(t){return t.tags.some((function(t){return t.id===e}))})):Te.filter((function(t){return t.tags.some((function(t){return t.id===e}))})))},st=function(e){x(Object(b.a)(Object(b.a)({},p),{},Object(j.a)({},e.target.name,e.target.value)))},lt=function(t,a){Ie?We("Acci\xf3n no permitida en modo invitado",201,!1):(e(function(e,t){return function(n){try{s.a.delete("/note/".concat(e,"/").concat(t)).then((function(e){return n({message:e.data.message,notes:e.data.notes,response:e.status,type:Y})}))}catch(a){console.log(a)}}}(t,a)),x({title:"",content:""}),re(!1),We("Nota eliminada",n.response,!1))},it=function(t,a){var c;e((c=Object(b.a)(Object(b.a)({},n.note),{},{state:t}),function(e){try{s.a.put("/note/state/".concat(c.id),{data:c}).then((function(t){return e({notes:t.data,response:t.status,type:R})}))}catch(t){console.log(t)}})),x({title:"",content:""}),re(!1),We(a,n.response,!0)},ot=Te.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),rt=_e.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),dt=Me.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)})),jt=B&&B.filter((function(e){return e.title.includes(ue)||e.content.includes(ue)}));return Object(E.jsx)("div",{className:Fe?"row full-height overflow-hidden":"row full-height overflow-hidden bs-gutter",children:F?Object(E.jsx)(yt,{}):Object(E.jsxs)(E.Fragment,{children:[Fe?Object(E.jsx)("div",{className:"col-md-2 purple-bg full-height p-0",children:Object(E.jsx)(pn,{changeRoute:$e,filterTags:at,filterCollections:nt,largeWidth:Fe,tags:c.tags,collections:l.collections,pathname:De})}):Object(E.jsx)(Ae.a,{open:Q,onClose:function(){return Z(!1)},children:Object(E.jsx)("div",{className:"col-md-2 purple-bg full-height",children:Object(E.jsx)(pn,{changeRoute:$e,filterTags:at,filterCollections:nt,largeWidth:Fe,tags:c.tags,collections:l.collections,pathname:De})})}),Object(E.jsxs)("div",{className:"col-md-10 row full-height mr-0",id:"notes-cont-4",children:[Object(E.jsx)(kn,{closeNote:function(){Ke(),re(!1),setTimeout((function(){x({title:"",content:""})}),1e3)},collection:l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],greeting:Le,handleChange:function(e){me(e.target.value)},inputValue:ue,largeWidth:Fe,loading:T,note:n.note,onEdition:p,openNote:le,saveNote:Ke,setDrawerOpen:Z,setOpenColModal:ve,user:i.user}),Object(E.jsxs)("div",{className:"row h-95 note-cont-4",children:[Object(E.jsx)("div",{className:"col-md-3 bs-gutter full-height",children:le&&!Fe&&p.id?Object(E.jsx)(Hn,{addTag:He,automaticSave:Ve,changeRoute:$e,collection:n.note.collectionId&&l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:l.collections,deleteTag:Xe,duplicate:Ze,editCollection:et,handleChange:st,handleStateChange:it,largeWidth:Fe,note:n.note,mainDashboardNotes:Te,notes:!1!==B?ue.length>=3?jt:B:"/archive"===De?ue.length>=3?dt:Me:"/trash"===De?ue.length>=3?rt:_e:ue.length>=3?ot:Te,onEdition:p,openColModal:Ne,openTagModal:pe,pathname:De,saveNote:Ke,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:c.tags}):Object(E.jsx)(In,{collections:l.collections,darkMode:i.darkMode,editNote:tt,greeting:Le,largeWidth:Fe,message:Ue,newNote:Qe,notes:!1!==B?ue.length>=3?jt:B:"/archive"===De?ue.length>=3?dt:Me:"/trash"===De?ue.length>=3?rt:_e:ue.length>=3?ot:Te,onEdition:p,pathname:De,restartFilter:function(){S({type:"",name:""}),$e("/home")},selectedFilter:k,user:i.user})}),Fe&&Object(E.jsx)("div",{className:"col-md-9 bs-gutter full-height",children:Object(E.jsx)(Hn,{addTag:He,allNotes:n.notes,automaticSave:Ve,changeRoute:$e,collection:n.note.collectionId&&l.collections.filter((function(e){return e.id===n.note.collectionId}))[0],collections:l.collections,deleteTag:Xe,duplicate:Ze,editCollection:et,handleChange:st,handleStateChange:it,largeWidth:Fe,mainDashboardNotes:Te,newNote:Qe,note:n.note,notes:!1!==B?ue.length>=3?jt:B:"/archive"===De?ue.length>=3?dt:Me:"/trash"===De?ue.length>=3?rt:_e:ue.length>=3?ot:Te,onEdition:p,openColModal:Ne,openTagModal:pe,pathname:De,saveNote:Ke,setOpenColModal:ve,setOpenDialog:ae,setOpenTagModal:xe,tags:c.tags})})]})]}),Object(E.jsxs)(ze.a,{open:ne,onClose:function(){return ae(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Re.a,{id:"alert-dialog-title",children:"\xbfDesea eliminar la nota?"}),Object(E.jsx)(Ge.a,{children:Object(E.jsx)(Be.a,{id:"alert-dialog-description",children:"Tenga en cuenta que una vez que elimine la nota la misma no podr\xe1 ser recuperada."})}),Object(E.jsxs)(qe.a,{children:[Object(E.jsx)(Ye.a,{className:"btn",color:"primary",onClick:function(){return ae(!1)},children:"Cancelar"}),Object(E.jsx)(Ye.a,{className:"btn",color:"primary",onClick:function(){lt(p.id,p.userId),ae(!1)},children:"Eliminar"})]})]}),Object(E.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:N.open,autoHideDuration:5e3,onClose:Je,message:N.message,action:Object(E.jsxs)(E.Fragment,{children:[N.undo&&"Acci\xf3n desecha"!==N.message?Object(E.jsx)(Ye.a,{className:"btn snackbar-text",color:"inherit",size:"small",onClick:function(){it("/home"===De?"main-dashboard":De.slice(1),"Acci\xf3n desecha")},children:"Deshacer"}):null,Object(E.jsx)(O.a,{className:"btn snackbar-text",size:"small",color:"inherit",onClick:Je,children:Object(E.jsx)(v.a,{fontSize:"small"})})]})})]})})},$n=function(){return Object(E.jsx)("div",{className:"all-center w-100 h-100 login-bg",children:Object(E.jsx)("img",{src:"svg/not_found.svg",width:"50%",alt:"",draggable:"false"})})};n(283),n(478);var Jn=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.users.darkMode})),n=document.getElementsByTagName("body")[0];return Object(a.useEffect)((function(){n.setAttribute("id",t?"dark":"light")}),[t,n]),setInterval((function(){e(ie)}),2e5),Object(E.jsx)("div",{className:"App full-height",children:Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{exact:!0,path:"/",component:De}),Object(E.jsx)(d.a,{exact:!0,path:"/login",component:ue}),Object(E.jsx)(d.a,{exact:!0,path:"/reset-password",component:xe}),Object(E.jsx)(d.a,{exact:!0,path:"/sign-up",component:Ce}),Object(E.jsx)(d.a,{exact:!0,path:"/edit profile",component:Ct}),Object(E.jsx)(d.a,{exact:!0,path:"/collections tags/:type?",component:en}),Object(E.jsx)(d.a,{exact:!0,path:"/home",component:Vn}),Object(E.jsx)(d.a,{exact:!0,path:"/trash",component:Vn}),Object(E.jsx)(d.a,{exact:!0,path:"/archive",component:Vn}),Object(E.jsx)(d.a,{component:$n})]})})},Xn=n(124),Qn=n(315),Zn={note:{},notes:[],message:"",response:""},ea={collection:{},collections:[],message:"",response:""},ta={tag:{},tags:[],message:"",response:""},na={code:null,darkMode:"",message:"",response:"",token:"",user:{},users:[]},aa=Object(Xn.b)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,response:t.response});case q:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case B:return Object(b.a)(Object(b.a)({},e),{},{notes:t.notes,response:t.response});case U:return Object(b.a)(Object(b.a)({},e),{},{note:t.note,response:t.response});case W:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,note:t.note,notes:t.notes,response:t.response});case Y:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,notes:t.notes,response:t.response});case G:case z:return Object(b.a)(Object(b.a)({},e),{},{note:t.note,response:t.response});case se:return{note:{},notes:[],message:"",response:""};default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(b.a)(Object(b.a)({},e),{},{tag:t.tag});case H:return Object(b.a)(Object(b.a)({},e),{},{tags:t.tags});case $:case J:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response,tag:t.tag,tags:t.tags});case X:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response,tags:t.tags});case se:return{tag:{},tags:[],message:"",response:""};default:return e}},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(b.a)(Object(b.a)({},e),{},{collection:t.collection});case M:return Object(b.a)(Object(b.a)({},e),{},{collections:t.collections});case F:case P:return Object(b.a)(Object(b.a)({},e),{},{collection:t.collection,collections:t.collections,message:t.message,response:t.response});case L:return Object(b.a)(Object(b.a)({},e),{},{collections:t.collections,message:t.message,response:t.response});case se:return{collection:{},collections:[],message:"",response:""};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:return Object(b.a)(Object(b.a)({},e),{},{darkMode:t.darkMode});case ee:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,token:t.token});case ne:return Object(b.a)(Object(b.a)({},e),{},{message:t.message,response:t.response});case Q:case Z:return Object(b.a)(Object(b.a)({},e),{},{users:t.users});case te:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,response:t.response});case ae:return Object(b.a)(Object(b.a)({},e),{},{code:t.code,message:t.message,response:t.response,user:t.user});case ce:return Object(b.a)(Object(b.a)({},e),{},{user:t.user,response:t.response});case se:return{user:{},users:[],response:"",token:""};case le:return Object(b.a)(Object(b.a)({},e),{},{token:t.token});default:return e}}}),ca=aa,sa=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Xn.c,la=Object(Xn.d)(ca,sa(Object(Xn.a)(Qn.a))),ia=document.getElementById("root");s.a.defaults.baseURL="https://notatky.herokuapp.com",i.a.render(Object(E.jsx)(o.a,{store:la,children:Object(E.jsx)(r.a,{history:A,children:Object(E.jsx)(Jn,{})})}),ia)}},[[479,1,2]]]);
//# sourceMappingURL=main.31f9ab3b.chunk.js.map